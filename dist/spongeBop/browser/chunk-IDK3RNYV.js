import{a as q}from"./chunk-L75IDH64.js";import{b as _,c as g,d as S,e as R,j as E,l as N,m as I,q as D,r as j,s as L,t as U}from"./chunk-JSVRATKM.js";import{Da as i,Ka as C,O as m,Q as u,R as w,S as P,aa as d,ba as c,db as v,ea as p,fa as o,ga as e,ha as f,nb as y,ob as F,qa as x,qb as G,x as A}from"./chunk-VXVQNLGX.js";var K=()=>["/auth/register"];function Q(n,r){n&1&&(o(0,"div",6),i(1," this field is required "),e())}function X(n,r){n&1&&(o(0,"div",6),i(1," this field is required "),e())}var M=class n{constructor(r,l,t,s){this.auhtServics=r;this.toastrServices=l;this.router=t;this.fb=s;this.userForm=s.group({email:["",g.required],password:["",g.required]})}userForm;user;ngOnInit(){}logIn(){this.user=this.userForm.value,this.auhtServics.LogInUser(this.user).subscribe({next:r=>{this.auhtServics.setTokens(r.token,r.refreshToken),this.router.navigateByUrl("/home"),this.toastrServices.show("Welcome again ","info")},error:r=>{let l=r.error?.error||"Email or Password are wrong";this.toastrServices.show(l,"error")}})}static \u0275fac=function(l){return new(l||n)(u(q),u(U),u(y),u(D))};static \u0275cmp=w({type:n,selectors:[["app-login"]],decls:21,vars:6,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-[#1c1c1c]","text-white","p-4"],[1,"w-full","max-w-md","bg-[#2c2c2c]","rounded-2xl","shadow-xl","p-8","space-y-6","border","border-gray-700"],[1,"text-2xl","font-bold","text-center"],[1,"space-y-4",3,"submit","formGroup"],[1,"block","mb-1","text-sm","text-gray-300"],["type","email","placeholder","you@example.com","name","email","formControlName","email",1,"w-full","px-4","py-2","rounded-md","bg-[#1e1e1e]","border","border-gray-600","focus:outline-none","focus:ring-2","focus:ring-green-500"],[1,"mt-2","p-3","rounded-md","bg-red-600/10","text-red-400","border","border-red-500","text-sm"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","name","password","formControlName","password",1,"w-full","px-4","py-2","rounded-md","bg-[#1e1e1e]","border","border-gray-600","focus:outline-none","focus:ring-2","focus:ring-green-500"],["type","submit",1,"w-full","bg-green-600","hover:bg-green-500","transition","py-2","rounded-md","text-white","font-semibold","shadow",3,"disabled"],[1,"text-center","text-sm","text-gray-400"],["routerLinkActive","router-link-active",1,"text-green-400","hover:underline",3,"routerLink"]],template:function(l,t){if(l&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),i(3,"\u{1F510} Login"),e(),o(4,"form",3),x("submit",function(){return t.logIn()}),o(5,"div")(6,"label",4),i(7,"Email"),e(),f(8,"input",5),d(9,Q,2,0,"div",6),e(),o(10,"div")(11,"label",4),i(12,"Password"),e(),f(13,"input",7),d(14,X,2,0,"div",6),e(),o(15,"button",8),i(16," Login "),e()(),o(17,"p",9),i(18,"Don't have an account? "),o(19,"a",10),i(20,"Register"),e()()()()),l&2){let s,a;m(4),p("formGroup",t.userForm),m(5),c(!((s=t.userForm.get("email"))==null||s.errors==null)&&s.errors.required&&((s=t.userForm.get("email"))!=null&&s.touched)?9:-1),m(5),c(!((a=t.userForm.get("password"))==null||a.errors==null)&&a.errors.required&&((a=t.userForm.get("password"))!=null&&a.touched)?14:-1),m(),p("disabled",t.userForm.invalid),m(4),p("routerLink",C(5,K))}},dependencies:[F,v,L,E,_,S,R,N,I],encapsulation:2})};var Y=()=>["/auth"];function Z(n,r){n&1&&(o(0,"div",6),i(1," this field is required "),e())}function $(n,r){n&1&&(o(0,"div",6),i(1," this field is required "),e())}function ee(n,r){n&1&&(o(0,"div",6),i(1," this field is required "),e())}function te(n,r){n&1&&(o(0,"div",6),i(1," this field is required "),e())}function re(n,r){n&1&&(o(0,"div",6),i(1," password dons't match "),e())}var T=class n{constructor(r,l,t){this.fb=r;this.authServices=l;this.router=t;this.userForm=r.group({UserName:["",g.required],email:["",[g.required]],password:["",[g.required]],confirmPassword:["",[g.required]]},{validator:[this.passwordsMatchValidator]})}userForm;ngOnInit(){}Register(){this.authServices.RegisterUser(this.userForm.value).subscribe({next:r=>this.router.navigateByUrl("/auth"),error:r=>console.error(r)})}passwordsMatchValidator(r){let l=r.get("password")?.value,t=r.get("confirmPassword")?.value;return l===t?null:{passwordsMismatch:!0}}static \u0275fac=function(l){return new(l||n)(u(D),u(q),u(y))};static \u0275cmp=w({type:n,selectors:[["app-register"]],decls:32,vars:9,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-[#1c1c1c]","text-white","p-4"],[1,"w-full","max-w-md","bg-[#2c2c2c]","rounded-2xl","shadow-xl","p-8","space-y-6","border","border-gray-700"],[1,"text-2xl","font-bold","text-center"],[1,"space-y-4",3,"submit","formGroup"],[1,"block","mb-1","text-sm","text-gray-300"],["type","text","placeholder","honstMan","name","userName","formControlName","UserName",1,"w-full","px-4","py-2","rounded-md","bg-[#1e1e1e]","border","border-gray-600","focus:outline-none","focus:ring-2","focus:ring-green-500"],[1,"mt-2","p-3","rounded-md","bg-red-600/10","text-red-400","border","border-red-500","text-sm"],["type","email","placeholder","you@example.com","name","email","formControlName","email",1,"w-full","px-4","py-2","rounded-md","bg-[#1e1e1e]","border","border-gray-600","focus:outline-none","focus:ring-2","focus:ring-green-500"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","name","password","formControlName","password",1,"w-full","px-4","py-2","rounded-md","bg-[#1e1e1e]","border","border-gray-600","focus:outline-none","focus:ring-2","focus:ring-green-500"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","name","confirmPassword","formControlName","confirmPassword",1,"w-full","px-4","py-2","rounded-md","bg-[#1e1e1e]","border","border-gray-600","focus:outline-none","focus:ring-2","focus:ring-green-500"],["type","submit",1,"w-full","bg-green-600","hover:bg-green-500","transition","py-2","rounded-md","text-white","font-semibold","shadow",3,"disabled"],[1,"text-center","text-sm","text-gray-400"],["routerLinkActive","router-link-active",1,"text-green-400","hover:underline",3,"routerLink"]],template:function(l,t){if(l&1&&(o(0,"div",0)(1,"div",1)(2,"h2",2),i(3,"\u{1F4DD} Register"),e(),o(4,"form",3),x("submit",function(){return t.Register()}),o(5,"div")(6,"label",4),i(7,"User Name"),e(),f(8,"input",5),d(9,Z,2,0,"div",6),e(),o(10,"div")(11,"label",4),i(12,"Email"),e(),f(13,"input",7),d(14,$,2,0,"div",6),e(),o(15,"div")(16,"label",4),i(17,"Password"),e(),f(18,"input",8),d(19,ee,2,0,"div",6),e(),o(20,"div")(21,"label",4),i(22,"ConfirmPassword"),e(),f(23,"input",9),d(24,te,2,0,"div",6),e(),d(25,re,2,0,"div",6),o(26,"button",10),i(27," Register "),e()(),o(28,"p",11),i(29,"Already have an account? "),o(30,"a",12),i(31,"Login"),e()()()()),l&2){let s,a,h,b,k;m(4),p("formGroup",t.userForm),m(5),c(!((s=t.userForm.get("UserName"))==null||s.errors==null)&&s.errors.required&&((s=t.userForm.get("UserName"))!=null&&s.touched)?9:-1),m(5),c(!((a=t.userForm.get("email"))==null||a.errors==null)&&a.errors.required&&((a=t.userForm.get("email"))!=null&&a.touched)?14:-1),m(5),c(!((h=t.userForm.get("password"))==null||h.errors==null)&&h.errors.required&&((h=t.userForm.get("password"))!=null&&h.touched)?19:-1),m(5),c(!((b=t.userForm.get("confirmPassword"))==null||b.errors==null)&&b.errors.required&&((b=t.userForm.get("confirmPassword"))!=null&&b.touched)?24:-1),m(),c(t.userForm.errors!=null&&t.userForm.errors.passwordsMismatch&&((k=t.userForm.get("confirmPassword"))!=null&&k.touched)?25:-1),m(),p("disabled",t.userForm.invalid),m(4),p("routerLink",C(8,Y))}},dependencies:[F,L,E,_,S,R,N,I,j,v],encapsulation:2})};var oe=[{path:"",component:M},{path:"register",component:T}],V=G.forChild(oe);var O=class n{static \u0275fac=function(l){return new(l||n)};static \u0275mod=P({type:n});static \u0275inj=A({imports:[v,V]})};export{O as AuthModule};
