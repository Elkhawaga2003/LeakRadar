import{a as se,b as we,c as ps,d as gs,f as q,gb as bs,rb as qe,w as fs,z as ms}from"./chunk-VXVQNLGX.js";var Xu=gs((rn,Ni)=>{"use strict";(function(n,e){typeof rn=="object"&&typeof Ni=="object"?Ni.exports=e():typeof define=="function"&&define.amd?define([],e):typeof rn=="object"?rn.editorjsCodeflask=e():n.editorjsCodeflask=e()})(self,()=>(()=>{var n={733:(i,r,s)=>{"use strict";s.d(r,{Z:()=>u});var a=s(81),l=s.n(a),c=s(645),d=s.n(c)()(l());d.push([i.id,`.nice-select{-webkit-tap-highlight-color:rgba(0,0,0,0);background-color:#fff;border-radius:5px;border:solid 1px #e8e8e8;box-sizing:border-box;clear:both;cursor:pointer;display:block;float:left;font-family:inherit;font-size:14px;font-weight:normal;height:38px;line-height:36px;outline:none;padding-left:18px;padding-right:30px;position:relative;text-align:left !important;transition:all .2s ease-in-out;user-select:none;white-space:nowrap;width:auto}.nice-select:hover{border-color:#dbdbdb}.nice-select:active,.nice-select.open,.nice-select:focus{border-color:#999}.nice-select:after{border-bottom:2px solid #999;border-right:2px solid #999;content:"";display:block;height:5px;margin-top:-4px;pointer-events:none;position:absolute;right:12px;top:50%;transform-origin:66% 66%;transform:rotate(45deg);transition:all .15s ease-in-out;width:5px}.nice-select.open:after{transform:rotate(-135deg)}.nice-select.open .nice-select-dropdown{opacity:1;pointer-events:auto;transform:scale(1) translateY(0)}.nice-select.disabled{border-color:#ededed;color:#999;pointer-events:none}.nice-select.disabled:after{border-color:#ccc}.nice-select.wide{width:100%}.nice-select.wide .nice-select-dropdown{left:0 !important;right:0 !important}.nice-select.right{float:right}.nice-select.right .nice-select-dropdown{left:auto;right:0}.nice-select.small{font-size:12px;height:36px;line-height:34px}.nice-select.small:after{height:4px;width:4px}.nice-select.small .option{line-height:34px;min-height:34px}.nice-select .nice-select-dropdown{margin-top:4px;background-color:#fff;border-radius:5px;box-shadow:0 0 0 1px rgba(68,68,68,.11);pointer-events:none;position:absolute;top:100%;left:0;transform-origin:50% 0;transform:scale(0.75) translateY(19px);transition:all .2s cubic-bezier(0.5, 0, 0, 1.25),opacity .15s ease-out;z-index:9;opacity:0}.nice-select .list{border-radius:5px;box-sizing:border-box;overflow:hidden;padding:0;max-height:210px;overflow-y:auto}.nice-select .list:hover .option:not(:hover){background-color:transparent !important}.nice-select .option{cursor:pointer;font-weight:400;line-height:40px;list-style:none;outline:none;padding-left:18px;padding-right:29px;text-align:left;transition:all .2s}.nice-select .option:hover,.nice-select .option.focus,.nice-select .option.selected.focus{background-color:#f6f6f6}.nice-select .option.selected{font-weight:bold}.nice-select .option.disabled{background-color:transparent;color:#999;cursor:default}.nice-select .optgroup{font-weight:bold}.no-csspointerevents .nice-select .nice-select-dropdown{display:none}.no-csspointerevents .nice-select.open .nice-select-dropdown{display:block}.nice-select .list::-webkit-scrollbar{width:0}.nice-select .has-multiple{white-space:inherit;height:auto;padding:7px 12px;min-height:36px;line-height:22px}.nice-select .has-multiple span.current{border:1px solid #ccc;background:#eee;padding:0 10px;border-radius:3px;display:inline-block;line-height:24px;font-size:14px;margin-bottom:3px;margin-right:3px}.nice-select .has-multiple .multiple-options{display:block;line-height:24px;padding:0}.nice-select .nice-select-search-box{box-sizing:border-box;width:100%;padding:5px;pointer-events:none;border-radius:5px 5px 0 0}.nice-select .nice-select-search{box-sizing:border-box;background-color:#fff;border:1px solid #e8e8e8;border-radius:3px;color:#444;display:inline-block;vertical-align:middle;padding:7px 12px;margin:0 10px 0 0;width:100%;min-height:36px;line-height:22px;height:auto;outline:0 !important;font-size:14px}\r
`,""]);let u=d},738:(i,r,s)=>{"use strict";s.d(r,{Z:()=>u});var a=s(81),l=s.n(a),c=s(645),d=s.n(c)()(l());d.push([i.id,`.editorjs-codeFlask_Wrapper {
    height: 200px;
	border: 1px solid #dcdfe6;
	border-radius: 5px;
	background-color: #f0f2f5;
    margin-bottom: 10px;
}

.editorjs-codeFlask_Wrapper .codeflask {
	border-radius: 5px;
	background: none;
}


.editorjs-codeFlask_Wrapper .editorjs-codeFlask_LangDisplay {
	position: absolute;
	height: 20px;
	line-height: 20px;
	font-size: 10px;
	color: #999;
	background-color: #dcdfe6;
	padding: 5px;
	padding-left: 10px;
	padding-right: 10px;
	right: 0;
	bottom: 0;
	border-bottom-right-radius: 5px;
	border-top-left-radius: 5px;
}

.editorjs-codeFlask_Wrapper .codeflask.codeflask--has-line-numbers:before{
    background-color: #dcdfe6;
}`,""]);let u=d},645:i=>{"use strict";i.exports=function(r){var s=[];return s.toString=function(){return this.map(function(a){var l="",c=a[5]!==void 0;return a[4]&&(l+="@supports (".concat(a[4],") {")),a[2]&&(l+="@media ".concat(a[2]," {")),c&&(l+="@layer".concat(a[5].length>0?" ".concat(a[5]):""," {")),l+=r(a),c&&(l+="}"),a[2]&&(l+="}"),a[4]&&(l+="}"),l}).join("")},s.i=function(a,l,c,d,u){typeof a=="string"&&(a=[[null,a,void 0]]);var p={};if(c)for(var v=0;v<this.length;v++){var m=this[v][0];m!=null&&(p[m]=!0)}for(var _=0;_<a.length;_++){var w=[].concat(a[_]);c&&p[w[0]]||(u!==void 0&&(w[5]===void 0||(w[1]="@layer".concat(w[5].length>0?" ".concat(w[5]):""," {").concat(w[1],"}")),w[5]=u),l&&(w[2]&&(w[1]="@media ".concat(w[2]," {").concat(w[1],"}")),w[2]=l),d&&(w[4]?(w[1]="@supports (".concat(w[4],") {").concat(w[1],"}"),w[4]=d):w[4]="".concat(d)),s.push(w))}},s}},81:i=>{"use strict";i.exports=function(r){return r[1]}},668:i=>{i.exports=(()=>{"use strict";var r={d:(y,B)=>{for(var N in B)r.o(B,N)&&!r.o(y,N)&&Object.defineProperty(y,N,{enumerable:!0,get:B[N]})},o:(y,B)=>Object.prototype.hasOwnProperty.call(y,B),r:y=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(y,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(y,"__esModule",{value:!0})}},s={};function a(y){var B=document.createEvent("MouseEvents");B.initEvent("click",!0,!1),y.dispatchEvent(B)}function l(y){var B=document.createEvent("HTMLEvents");B.initEvent("change",!0,!1),y.dispatchEvent(B)}function c(y){var B=document.createEvent("FocusEvent");B.initEvent("focusin",!0,!1),y.dispatchEvent(B)}function d(y){var B=document.createEvent("FocusEvent");B.initEvent("focusout",!0,!1),y.dispatchEvent(B)}function u(y,B){return y.getAttribute(B)}function p(y,B){return!!y&&y.classList.contains(B)}function v(y,B){if(y)return y.classList.add(B)}function m(y,B){if(y)return y.classList.remove(B)}r.r(s),r.d(s,{default:()=>w,bind:()=>F});var _={data:null,searchable:!1};function w(y,B){this.el=y,this.config=Object.assign({},_,B||{}),this.data=this.config.data,this.selectedOptions=[],this.placeholder=u(this.el,"placeholder")||this.config.placeholder||"Select an option",this.dropdown=null,this.multiple=u(this.el,"multiple"),this.disabled=u(this.el,"disabled"),this.create()}function F(y,B){return new w(y,B)}return w.prototype.create=function(){this.el.style.display="none",this.data?this.processData(this.data):this.extractData(),this.renderDropdown(),this.bindEvent()},w.prototype.processData=function(y){var B=[];y.forEach(N=>{B.push({data:N,attributes:{selected:!1,disabled:!1,optgroup:N.value=="optgroup"}})}),this.options=B},w.prototype.extractData=function(){var y=this.el.querySelectorAll("option,optgroup"),B=[],N=[],W=[];y.forEach(k=>{if(k.tagName=="OPTGROUP")var S={text:k.label,value:"optgroup"};else S={text:k.innerText,value:k.value};var E={selected:k.getAttribute("selected")!=null,disabled:k.getAttribute("disabled")!=null,optgroup:k.tagName=="OPTGROUP"};B.push(S),N.push({data:S,attributes:E})}),this.data=B,this.options=N,this.options.forEach(function(k){k.attributes.selected&&W.push(k)}),this.selectedOptions=W},w.prototype.renderDropdown=function(){var y=`<div class="${["nice-select",u(this.el,"class")||"",this.disabled?"disabled":"",this.multiple?"has-multiple":""].join(" ")}" tabindex="${this.disabled?null:0}">
  <span class="${this.multiple?"multiple-options":"current"}"></span>
  <div class="nice-select-dropdown">
  ${this.config.searchable?`<div class="nice-select-search-box">
<input type="text" class="nice-select-search" placeholder="Search..."/>
</div>`:""}
  <ul class="list"></ul>
  </div></div>
`;this.el.insertAdjacentHTML("afterend",y),this.dropdown=this.el.nextElementSibling,this._renderSelectedItems(),this._renderItems()},w.prototype._renderSelectedItems=function(){if(this.multiple){var y="";window.getComputedStyle(this.dropdown).width=="auto"||this.selectedOptions.length<2?(this.selectedOptions.forEach(function(N){y+=`<span class="current">${N.data.text}</span>`}),y=y==""?this.placeholder:y):y=this.selectedOptions.length+" selected",this.dropdown.querySelector(".multiple-options").innerHTML=y}else{var B=this.selectedOptions.length>0?this.selectedOptions[0].data.text:this.placeholder;this.dropdown.querySelector(".current").innerHTML=B}},w.prototype._renderItems=function(){var y=this.dropdown.querySelector("ul");this.options.forEach(B=>{y.appendChild(this._renderItem(B))})},w.prototype._renderItem=function(y){var B=document.createElement("li");if(B.innerHTML=y.data.text,y.attributes.optgroup)B.classList.add("optgroup");else{B.setAttribute("data-value",y.data.value);var N=["option",y.attributes.selected?"selected":null,y.attributes.disabled?"disabled":null];B.addEventListener("click",this._onItemClicked.bind(this,y)),B.classList.add(...N)}return y.element=B,B},w.prototype.update=function(){if(this.extractData(),this.dropdown){var y=p(this.dropdown,"open");this.dropdown.parentNode.removeChild(this.dropdown),this.create(),y&&a(this.dropdown)}},w.prototype.disable=function(){this.disabled||(this.disabled=!0,v(this.dropdown,"disabled"))},w.prototype.enable=function(){this.disabled&&(this.disabled=!1,m(this.dropdown,"disabled"))},w.prototype.clear=function(){this.selectedOptions=[],this._renderSelectedItems(),this.updateSelectValue(),l(this.el)},w.prototype.destroy=function(){this.dropdown&&(this.dropdown.parentNode.removeChild(this.dropdown),this.el.style.display="")},w.prototype.bindEvent=function(){this.dropdown.addEventListener("click",this._onClicked.bind(this)),this.dropdown.addEventListener("keydown",this._onKeyPressed.bind(this)),this.dropdown.addEventListener("focusin",c.bind(this,this.el)),this.dropdown.addEventListener("focusout",d.bind(this,this.el)),window.addEventListener("click",this._onClickedOutside.bind(this)),this.config.searchable&&this._bindSearchEvent()},w.prototype._bindSearchEvent=function(){var y=this.dropdown.querySelector(".nice-select-search");y&&y.addEventListener("click",function(B){return B.stopPropagation(),!1}),y.addEventListener("input",this._onSearchChanged.bind(this))},w.prototype._onClicked=function(y){if(this.multiple?this.dropdown.classList.add("open"):this.dropdown.classList.toggle("open"),this.dropdown.classList.contains("open")){var B=this.dropdown.querySelector(".nice-select-search");B&&(B.value="",B.focus());var N=this.dropdown.querySelector(".focus");m(N,"focus"),v(N=this.dropdown.querySelector(".selected"),"focus"),this.dropdown.querySelectorAll("ul li").forEach(function(W){W.style.display=""})}else this.dropdown.focus()},w.prototype._onItemClicked=function(y,B){var N=B.target;p(N,"disabled")||(this.multiple?p(N,"selected")?(m(N,"selected"),this.selectedOptions.splice(this.selectedOptions.indexOf(y),1),this.el.querySelector('option[value="'+N.dataset.value+'"]').selected=!1):(v(N,"selected"),this.selectedOptions.push(y)):(this.selectedOptions.forEach(function(W){m(W.element,"selected")}),v(N,"selected"),this.selectedOptions=[y]),this._renderSelectedItems(),this.updateSelectValue())},w.prototype.updateSelectValue=function(){if(this.multiple){var y=this.el;this.selectedOptions.forEach(function(B){var N=y.querySelector('option[value="'+B.data.value+'"]');N&&N.setAttribute("selected",!0)})}else this.selectedOptions.length>0&&(this.el.value=this.selectedOptions[0].data.value);l(this.el)},w.prototype._onClickedOutside=function(y){this.dropdown.contains(y.target)||this.dropdown.classList.remove("open")},w.prototype._onKeyPressed=function(y){var B=this.dropdown.querySelector(".focus"),N=this.dropdown.classList.contains("open");if(y.keyCode==32||y.keyCode==13)a(N?B:this.dropdown);else if(y.keyCode==40){if(N){var W=this._findNext(B);W&&(m(this.dropdown.querySelector(".focus"),"focus"),v(W,"focus"))}else a(this.dropdown);y.preventDefault()}else if(y.keyCode==38){if(N){var k=this._findPrev(B);k&&(m(this.dropdown.querySelector(".focus"),"focus"),v(k,"focus"))}else a(this.dropdown);y.preventDefault()}else y.keyCode==27&&N&&a(this.dropdown);return!1},w.prototype._findNext=function(y){for(y=y?y.nextElementSibling:this.dropdown.querySelector(".list .option");y;){if(!p(y,"disabled")&&y.style.display!="none")return y;y=y.nextElementSibling}return null},w.prototype._findPrev=function(y){for(y=y?y.previousElementSibling:this.dropdown.querySelector(".list .option:last-child");y;){if(!p(y,"disabled")&&y.style.display!="none")return y;y=y.previousElementSibling}return null},w.prototype._onSearchChanged=function(y){var B=this.dropdown.classList.contains("open"),N=y.target.value;if((N=N.toLowerCase())=="")this.options.forEach(function(k){k.element.style.display=""});else if(B){var W=new RegExp(N);this.options.forEach(function(k){var S=k.data.text.toLowerCase(),E=W.test(S);k.element.style.display=E?"":"none"})}this.dropdown.querySelectorAll(".focus").forEach(function(k){m(k,"focus")}),v(this._findNext(null),"focus")},s})()},874:()=>{(function(i){var r="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",s={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},a={bash:s,environment:{pattern:RegExp("\\$"+r),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+r),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|x[0-9a-fA-F]{1,2}|u[0-9a-fA-F]{4}|U[0-9a-fA-F]{8})/};i.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+r),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:a},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:s}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:a},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:a.entity}}],environment:{pattern:RegExp("\\$?"+r),alias:"constant"},variable:a.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|aptitude|apt-cache|apt-get|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:if|then|else|elif|fi|for|while|in|case|esac|function|select|do|done|until)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|break|cd|continue|eval|exec|exit|export|getopts|hash|pwd|readonly|return|shift|test|times|trap|umask|unset|alias|bind|builtin|caller|command|declare|echo|enable|help|let|local|logout|mapfile|printf|read|readarray|source|type|typeset|ulimit|unalias|set|shopt)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:true|false)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},s.inside=i.languages.bash;for(var l=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],c=a.variable[1].inside,d=0;d<l.length;d++)c[l[d]]=i.languages.bash[l[d]];i.languages.shell=i.languages.bash})(Prism)},689:()=>{Prism.languages.iecst={comment:[{pattern:/(^|[^\\])(?:\/\*[\s\S]*?(?:\*\/|$)|\(\*[\s\S]*?(?:\*\)|$)|\{[\s\S]*?(?:\}|$))/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":/\b(?:END_)?(?:PROGRAM|CONFIGURATION|INTERFACE|FUNCTION_BLOCK|FUNCTION|ACTION|TRANSITION|TYPE|STRUCT|(?:INITIAL_)?STEP|NAMESPACE|LIBRARY|CHANNEL|FOLDER|RESOURCE|VAR_(?:GLOBAL|INPUT|PUTPUT|IN_OUT|ACCESS|TEMP|EXTERNAL|CONFIG)|VAR|METHOD|PROPERTY)\b/i,keyword:/\b(?:(?:END_)?(?:IF|WHILE|REPEAT|CASE|FOR)|ELSE|FROM|THEN|ELSIF|DO|TO|BY|PRIVATE|PUBLIC|PROTECTED|CONSTANT|RETURN|EXIT|CONTINUE|GOTO|JMP|AT|RETAIN|NON_RETAIN|TASK|WITH|UNTIL|USING|EXTENDS|IMPLEMENTS|GET|SET|__TRY|__CATCH|__FINALLY|__ENDTRY)\b/,variable:/\b(?:AT|BOOL|BYTE|(?:D|L)?WORD|U?(?:S|D|L)?INT|L?REAL|TIME(?:_OF_DAY)?|TOD|DT|DATE(?:_AND_TIME)?|STRING|ARRAY|ANY|POINTER)\b/,symbol:/%[IQM][XBWDL][\d.]*|%[IQ][\d.]*/,number:/\b(?:16#[\da-f]+|2#[01_]+|0x[\da-f]+)\b|\b(?:T|D|DT|TOD)#[\d_shmd:]*|\b[A-Z]*#[\d.,_]*|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,boolean:/\b(?:TRUE|FALSE|NULL)\b/,function:/\w+(?=\()/,operator:/(?:S?R?:?=>?|&&?|\*\*?|<=?|>=?|[-:^/+])|\b(?:OR|AND|MOD|NOT|XOR|LE|GE|EQ|NE|GT|LT)\b/,punctuation:/[();]/,type:{pattern:/#/,alias:"selector"}}},277:()=>{Prism.languages.json={property:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?=\s*:)/,lookbehind:!0,greedy:!0},string:{pattern:/(^|[^\\])"(?:\\.|[^\\"\r\n])*"(?!\s*:)/,lookbehind:!0,greedy:!0},comment:{pattern:/\/\/.*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},number:/-?\b\d+(?:\.\d+)?(?:e[+-]?\d+)?\b/i,punctuation:/[{}[\],]/,operator:/:/,boolean:/\b(?:true|false)\b/,null:{pattern:/\bnull\b/,alias:"keyword"}},Prism.languages.webmanifest=Prism.languages.json},64:()=>{(function(i){var r=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function s(v){return v=v.replace(/<inner>/g,function(){return r}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+v+")")}var a=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,l=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return a}),c=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;i.languages.markdown=i.languages.extend("markup",{}),i.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"font-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:i.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+l+c+"(?:"+l+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+l+c+")(?:"+l+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(a),inside:i.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+l+")"+c+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+l+"$"),inside:{"table-header":{pattern:RegExp(a),alias:"important",inside:i.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:s(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:s(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:s(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:s(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(v){["url","bold","italic","strike","code-snippet"].forEach(function(m){v!==m&&(i.languages.markdown[v].inside.content.inside[m]=i.languages.markdown[m])})}),i.hooks.add("after-tokenize",function(v){v.language!=="markdown"&&v.language!=="md"||function m(_){if(_&&typeof _!="string")for(var w=0,F=_.length;w<F;w++){var y=_[w];if(y.type==="code"){var B=y.content[1],N=y.content[3];if(B&&N&&B.type==="code-language"&&N.type==="code-block"&&typeof B.content=="string"){var W=B.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp"),k="language-"+(W=(/[a-z][\w-]*/i.exec(W)||[""])[0].toLowerCase());N.alias?typeof N.alias=="string"?N.alias=[N.alias,k]:N.alias.push(k):N.alias=[k]}}else m(y.content)}}(v.tokens)}),i.hooks.add("wrap",function(v){if(v.type==="code-block"){for(var m="",_=0,w=v.classes.length;_<w;_++){var F=v.classes[_],y=/language-(.+)/.exec(F);if(y){m=y[1];break}}var B=i.languages[m];if(B)v.content=i.highlight(v.content.replace(d,"").replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(W,k){var S;return(k=k.toLowerCase())[0]==="#"?(S=k[1]==="x"?parseInt(k.slice(2),16):Number(k.slice(1)),p(S)):u[k]||W}),B,m);else if(m&&m!=="none"&&i.plugins.autoloader){var N="md-"+new Date().valueOf()+"-"+Math.floor(1e16*Math.random());v.attributes.id=N,i.plugins.autoloader.loadLanguages(m,function(){var W=document.getElementById(N);W&&(W.innerHTML=i.highlight(W.textContent,i.languages[m],m))})}}});var d=RegExp(i.languages.markup.tag.pattern.source,"gi"),u={amp:"&",lt:"<",gt:">",quot:'"'},p=String.fromCodePoint||String.fromCharCode;i.languages.md=i.languages.markdown})(Prism)},335:()=>{Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?\]\]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(i){i.type==="entity"&&(i.attributes.title=i.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(i,r){var s={};s["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[r]},s.cdata=/^<!\[CDATA\[|\]\]>$/i;var a={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:s}};a["language-"+r]={pattern:/[\s\S]+/,inside:Prism.languages[r]};var l={};l[i]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return i}),"i"),lookbehind:!0,greedy:!0,inside:a},Prism.languages.insertBefore("markup","cdata",l)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(i,r){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+i+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[r,"language-"+r],inside:Prism.languages[r]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml},366:()=>{Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0},"string-interpolation":{pattern:/(?:f|rf|fr)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|rb|br)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|rb|br)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/im,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:and|as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:True|False|None)\b/,number:/(?:\b(?=\d)|\B(?=\.))(?:0[bo])?(?:(?:\d|0x[\da-f])[\da-f]*(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?j?\b/i,operator:/[-+%=]=?|!=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python},660:(i,r,s)=>{var a=function(l){var c=/\blang(?:uage)?-([\w-]+)\b/i,d=0,u={},p={manual:l.Prism&&l.Prism.manual,disableWorkerMessageHandler:l.Prism&&l.Prism.disableWorkerMessageHandler,util:{encode:function k(S){return S instanceof v?new v(S.type,k(S.content),S.alias):Array.isArray(S)?S.map(k):S.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(k){return Object.prototype.toString.call(k).slice(8,-1)},objId:function(k){return k.__id||Object.defineProperty(k,"__id",{value:++d}),k.__id},clone:function k(S,E){var x,T;switch(E=E||{},p.util.type(S)){case"Object":if(T=p.util.objId(S),E[T])return E[T];for(var L in x={},E[T]=x,S)S.hasOwnProperty(L)&&(x[L]=k(S[L],E));return x;case"Array":return T=p.util.objId(S),E[T]?E[T]:(x=[],E[T]=x,S.forEach(function(h,f){x[f]=k(h,E)}),x);default:return S}},getLanguage:function(k){for(;k&&!c.test(k.className);)k=k.parentElement;return k?(k.className.match(c)||[,"none"])[1].toLowerCase():"none"},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(x){var k=(/at [^(\r\n]*\((.*):.+:.+\)$/i.exec(x.stack)||[])[1];if(k){var S=document.getElementsByTagName("script");for(var E in S)if(S[E].src==k)return S[E]}return null}},isActive:function(k,S,E){for(var x="no-"+S;k;){var T=k.classList;if(T.contains(S))return!0;if(T.contains(x))return!1;k=k.parentElement}return!!E}},languages:{plain:u,plaintext:u,text:u,txt:u,extend:function(k,S){var E=p.util.clone(p.languages[k]);for(var x in S)E[x]=S[x];return E},insertBefore:function(k,S,E,x){var T=(x=x||p.languages)[k],L={};for(var h in T)if(T.hasOwnProperty(h)){if(h==S)for(var f in E)E.hasOwnProperty(f)&&(L[f]=E[f]);E.hasOwnProperty(h)||(L[h]=T[h])}var b=x[k];return x[k]=L,p.languages.DFS(p.languages,function(g,O){O===b&&g!=k&&(this[g]=L)}),L},DFS:function k(S,E,x,T){T=T||{};var L=p.util.objId;for(var h in S)if(S.hasOwnProperty(h)){E.call(S,h,S[h],x||h);var f=S[h],b=p.util.type(f);b!=="Object"||T[L(f)]?b!=="Array"||T[L(f)]||(T[L(f)]=!0,k(f,E,h,T)):(T[L(f)]=!0,k(f,E,null,T))}}},plugins:{},highlightAll:function(k,S){p.highlightAllUnder(document,k,S)},highlightAllUnder:function(k,S,E){var x={callback:E,container:k,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};p.hooks.run("before-highlightall",x),x.elements=Array.prototype.slice.apply(x.container.querySelectorAll(x.selector)),p.hooks.run("before-all-elements-highlight",x);for(var T,L=0;T=x.elements[L++];)p.highlightElement(T,S===!0,x.callback)},highlightElement:function(k,S,E){var x=p.util.getLanguage(k),T=p.languages[x];k.className=k.className.replace(c,"").replace(/\s+/g," ")+" language-"+x;var L=k.parentElement;L&&L.nodeName.toLowerCase()==="pre"&&(L.className=L.className.replace(c,"").replace(/\s+/g," ")+" language-"+x);var h={element:k,language:x,grammar:T,code:k.textContent};function f(g){h.highlightedCode=g,p.hooks.run("before-insert",h),h.element.innerHTML=h.highlightedCode,p.hooks.run("after-highlight",h),p.hooks.run("complete",h),E&&E.call(h.element)}if(p.hooks.run("before-sanity-check",h),(L=h.element.parentElement)&&L.nodeName.toLowerCase()==="pre"&&!L.hasAttribute("tabindex")&&L.setAttribute("tabindex","0"),!h.code)return p.hooks.run("complete",h),void(E&&E.call(h.element));if(p.hooks.run("before-highlight",h),h.grammar)if(S&&l.Worker){var b=new Worker(p.filename);b.onmessage=function(g){f(g.data)},b.postMessage(JSON.stringify({language:h.language,code:h.code,immediateClose:!0}))}else f(p.highlight(h.code,h.grammar,h.language));else f(p.util.encode(h.code))},highlight:function(k,S,E){var x={code:k,grammar:S,language:E};return p.hooks.run("before-tokenize",x),x.tokens=p.tokenize(x.code,x.grammar),p.hooks.run("after-tokenize",x),v.stringify(p.util.encode(x.tokens),x.language)},tokenize:function(k,S){var E=S.rest;if(E){for(var x in E)S[x]=E[x];delete S.rest}var T=new w;return F(T,T.head,k),_(k,T,S,T.head,0),function(L){for(var h=[],f=L.head.next;f!==L.tail;)h.push(f.value),f=f.next;return h}(T)},hooks:{all:{},add:function(k,S){var E=p.hooks.all;E[k]=E[k]||[],E[k].push(S)},run:function(k,S){var E=p.hooks.all[k];if(E&&E.length)for(var x,T=0;x=E[T++];)x(S)}},Token:v};function v(k,S,E,x){this.type=k,this.content=S,this.alias=E,this.length=0|(x||"").length}function m(k,S,E,x){k.lastIndex=S;var T=k.exec(E);if(T&&x&&T[1]){var L=T[1].length;T.index+=L,T[0]=T[0].slice(L)}return T}function _(k,S,E,x,T,L){for(var h in E)if(E.hasOwnProperty(h)&&E[h]){var f=E[h];f=Array.isArray(f)?f:[f];for(var b=0;b<f.length;++b){if(L&&L.cause==h+","+b)return;var g=f[b],O=g.inside,$=!!g.lookbehind,z=!!g.greedy,G=g.alias;if(z&&!g.pattern.global){var re=g.pattern.toString().match(/[imsuy]*$/)[0];g.pattern=RegExp(g.pattern.source,re+"g")}for(var ke=g.pattern||g,P=x.next,I=T;P!==S.tail&&!(L&&I>=L.reach);I+=P.value.length,P=P.next){var K=P.value;if(S.length>k.length)return;if(!(K instanceof v)){var j,U=1;if(z){if(!(j=m(ke,I,k,$)))break;var ee=j.index,J=j.index+j[0].length,A=I;for(A+=P.value.length;ee>=A;)A+=(P=P.next).value.length;if(I=A-=P.value.length,P.value instanceof v)continue;for(var ne=P;ne!==S.tail&&(A<J||typeof ne.value=="string");ne=ne.next)U++,A+=ne.value.length;U--,K=k.slice(I,A),j.index-=I}else if(!(j=m(ke,0,K,$)))continue;ee=j.index;var Q=j[0],M=K.slice(0,ee),H=K.slice(ee+Q.length),R=I+K.length;L&&R>L.reach&&(L.reach=R);var D=P.prev;if(M&&(D=F(S,D,M),I+=M.length),y(S,D,U),P=F(S,D,new v(h,O?p.tokenize(Q,O):Q,G,Q)),H&&F(S,P,H),U>1){var X={cause:h+","+b,reach:R};_(k,S,E,P.prev,I,X),L&&X.reach>L.reach&&(L.reach=X.reach)}}}}}}function w(){var k={value:null,prev:null,next:null},S={value:null,prev:k,next:null};k.next=S,this.head=k,this.tail=S,this.length=0}function F(k,S,E){var x=S.next,T={value:E,prev:S,next:x};return S.next=T,x.prev=T,k.length++,T}function y(k,S,E){for(var x=S.next,T=0;T<E&&x!==k.tail;T++)x=x.next;S.next=x,x.prev=S,k.length-=T}if(l.Prism=p,v.stringify=function k(S,E){if(typeof S=="string")return S;if(Array.isArray(S)){var x="";return S.forEach(function(b){x+=k(b,E)}),x}var T={type:S.type,content:k(S.content,E),tag:"span",classes:["token",S.type],attributes:{},language:E},L=S.alias;L&&(Array.isArray(L)?Array.prototype.push.apply(T.classes,L):T.classes.push(L)),p.hooks.run("wrap",T);var h="";for(var f in T.attributes)h+=" "+f+'="'+(T.attributes[f]||"").replace(/"/g,"&quot;")+'"';return"<"+T.tag+' class="'+T.classes.join(" ")+'"'+h+">"+T.content+"</"+T.tag+">"},!l.document)return l.addEventListener&&(p.disableWorkerMessageHandler||l.addEventListener("message",function(k){var S=JSON.parse(k.data),E=S.language,x=S.code,T=S.immediateClose;l.postMessage(p.highlight(x,p.languages[E],E)),T&&l.close()},!1)),p;var B=p.util.currentScript();function N(){p.manual||p.highlightAll()}if(B&&(p.filename=B.src,B.hasAttribute("data-manual")&&(p.manual=!0)),!p.manual){var W=document.readyState;W==="loading"||W==="interactive"&&B&&B.defer?document.addEventListener("DOMContentLoaded",N):window.requestAnimationFrame?window.requestAnimationFrame(N):window.setTimeout(N,16)}return p}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});i.exports&&(i.exports=a),s.g!==void 0&&(s.g.Prism=a),a.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/,name:/[^\s<>'"]+/}},cdata:/<!\[CDATA\[[\s\S]*?\]\]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},a.languages.markup.tag.inside["attr-value"].inside.entity=a.languages.markup.entity,a.languages.markup.doctype.inside["internal-subset"].inside=a.languages.markup,a.hooks.add("wrap",function(l){l.type==="entity"&&(l.attributes.title=l.content.replace(/&amp;/,"&"))}),Object.defineProperty(a.languages.markup.tag,"addInlined",{value:function(l,c){var d={};d["language-"+c]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:a.languages[c]},d.cdata=/^<!\[CDATA\[|\]\]>$/i;var u={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:d}};u["language-"+c]={pattern:/[\s\S]+/,inside:a.languages[c]};var p={};p[l]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return l}),"i"),lookbehind:!0,greedy:!0,inside:u},a.languages.insertBefore("markup","cdata",p)}}),Object.defineProperty(a.languages.markup.tag,"addAttribute",{value:function(l,c){a.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+l+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[c,"language-"+c],inside:a.languages[c]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),a.languages.html=a.languages.markup,a.languages.mathml=a.languages.markup,a.languages.svg=a.languages.markup,a.languages.xml=a.languages.extend("markup",{}),a.languages.ssml=a.languages.xml,a.languages.atom=a.languages.xml,a.languages.rss=a.languages.xml,function(l){var c=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;l.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+c.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+c.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+c.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:c,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},l.languages.css.atrule.inside.rest=l.languages.css;var d=l.languages.markup;d&&(d.tag.addInlined("style","css"),d.tag.addAttribute("style","css"))}(a),a.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|interface|extends|implements|trait|instanceof|new)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},a.languages.javascript=a.languages.extend("clike",{"class-name":[a.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:/\b(?:(?:0[xX](?:[\dA-Fa-f](?:_[\dA-Fa-f])?)+|0[bB](?:[01](?:_[01])?)+|0[oO](?:[0-7](?:_[0-7])?)+)n?|(?:\d(?:_\d)?)+n|NaN|Infinity)\b|(?:\b(?:\d(?:_\d)?)+\.?(?:\d(?:_\d)?)*|\B\.(?:\d(?:_\d)?)+)(?:[Ee][+-]?(?:\d(?:_\d)?)+)?/,operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),a.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,a.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:a.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:a.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:a.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:a.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:a.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),a.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:a.languages.javascript}},string:/[\s\S]+/}}}),a.languages.markup&&(a.languages.markup.tag.addInlined("script","javascript"),a.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),a.languages.js=a.languages.javascript,function(){if(a!==void 0&&typeof document<"u"){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var l={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},c="data-src-status",d='pre[data-src]:not([data-src-status="loaded"]):not([data-src-status="loading"])',u=/\blang(?:uage)?-([\w-]+)\b/i;a.hooks.add("before-highlightall",function(m){m.selector+=", "+d}),a.hooks.add("before-sanity-check",function(m){var _=m.element;if(_.matches(d)){m.code="",_.setAttribute(c,"loading");var w=_.appendChild(document.createElement("CODE"));w.textContent="Loading\u2026";var F=_.getAttribute("data-src"),y=m.language;if(y==="none"){var B=(/\.(\w+)$/.exec(F)||[,"none"])[1];y=l[B]||B}v(w,y),v(_,y);var N=a.plugins.autoloader;N&&N.loadLanguages(y);var W=new XMLHttpRequest;W.open("GET",F,!0),W.onreadystatechange=function(){W.readyState==4&&(W.status<400&&W.responseText?(_.setAttribute(c,"loaded"),w.textContent=W.responseText,a.highlightElement(w)):(_.setAttribute(c,"failed"),W.status>=400?w.textContent="\u2716 Error "+W.status+" while fetching file: "+W.statusText:w.textContent="\u2716 Error: File does not exist or is empty"))},W.send(null)}}),a.plugins.fileHighlight={highlight:function(m){for(var _,w=(m||document).querySelectorAll(d),F=0;_=w[F++];)a.highlightElement(_)}};var p=!1;a.fileHighlight=function(){p||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),p=!0),a.plugins.fileHighlight.highlight.apply(this,arguments)}}function v(m,_){var w=m.className;w=w.replace(u," ")+" language-"+_,m.className=w.replace(/\s+/g," ").trim()}}()},379:i=>{"use strict";var r=[];function s(c){for(var d=-1,u=0;u<r.length;u++)if(r[u].identifier===c){d=u;break}return d}function a(c,d){for(var u={},p=[],v=0;v<c.length;v++){var m=c[v],_=d.base?m[0]+d.base:m[0],w=u[_]||0,F="".concat(_," ").concat(w);u[_]=w+1;var y=s(F),B={css:m[1],media:m[2],sourceMap:m[3],supports:m[4],layer:m[5]};if(y!==-1)r[y].references++,r[y].updater(B);else{var N=l(B,d);d.byIndex=v,r.splice(v,0,{identifier:F,updater:N,references:1})}p.push(F)}return p}function l(c,d){var u=d.domAPI(d);return u.update(c),function(p){if(p){if(p.css===c.css&&p.media===c.media&&p.sourceMap===c.sourceMap&&p.supports===c.supports&&p.layer===c.layer)return;u.update(c=p)}else u.remove()}}i.exports=function(c,d){var u=a(c=c||[],d=d||{});return function(p){p=p||[];for(var v=0;v<u.length;v++){var m=s(u[v]);r[m].references--}for(var _=a(p,d),w=0;w<u.length;w++){var F=s(u[w]);r[F].references===0&&(r[F].updater(),r.splice(F,1))}u=_}}},569:i=>{"use strict";var r={};i.exports=function(s,a){var l=function(c){if(r[c]===void 0){var d=document.querySelector(c);if(window.HTMLIFrameElement&&d instanceof window.HTMLIFrameElement)try{d=d.contentDocument.head}catch{d=null}r[c]=d}return r[c]}(s);if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(a)}},216:i=>{"use strict";i.exports=function(r){var s=document.createElement("style");return r.setAttributes(s,r.attributes),r.insert(s,r.options),s}},565:(i,r,s)=>{"use strict";i.exports=function(a){var l=s.nc;l&&a.setAttribute("nonce",l)}},795:i=>{"use strict";i.exports=function(r){var s=r.insertStyleElement(r);return{update:function(a){(function(l,c,d){var u="";d.supports&&(u+="@supports (".concat(d.supports,") {")),d.media&&(u+="@media ".concat(d.media," {"));var p=d.layer!==void 0;p&&(u+="@layer".concat(d.layer.length>0?" ".concat(d.layer):""," {")),u+=d.css,p&&(u+="}"),d.media&&(u+="}"),d.supports&&(u+="}");var v=d.sourceMap;v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),c.styleTagTransform(u,l,c.options)})(s,r,a)},remove:function(){(function(a){if(a.parentNode===null)return!1;a.parentNode.removeChild(a)})(s)}}}},589:i=>{"use strict";i.exports=function(r,s){if(s.styleSheet)s.styleSheet.cssText=r;else{for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(document.createTextNode(r))}}},497:i=>{i.exports='<svg width="14" height="14" viewBox="0 -1 14 14" xmlns="http://www.w3.org/2000/svg"><path d="M3.177 6.852c.205.253.347.572.427.954.078.372.117.844.117 1.417 0 .418.01.725.03.92.02.18.057.314.107.396.046.075.093.117.14.134.075.027.218.056.42.083a.855.855 0 0 1 .56.297c.145.167.215.38.215.636 0 .612-.432.934-1.216.934-.457 0-.87-.087-1.233-.262a1.995 1.995 0 0 1-.853-.751 2.09 2.09 0 0 1-.305-1.097c-.014-.648-.029-1.168-.043-1.56-.013-.383-.034-.631-.06-.733-.064-.263-.158-.455-.276-.578a2.163 2.163 0 0 0-.505-.376c-.238-.134-.41-.256-.519-.371C.058 6.76 0 6.567 0 6.315c0-.37.166-.657.493-.846.329-.186.56-.342.693-.466a.942.942 0 0 0 .26-.447c.056-.2.088-.42.097-.658.01-.25.024-.85.043-1.802.015-.629.239-1.14.672-1.522C2.691.19 3.268 0 3.977 0c.783 0 1.216.317 1.216.921 0 .264-.069.48-.211.643a.858.858 0 0 1-.563.29c-.249.03-.417.076-.498.126-.062.04-.112.134-.139.291-.031.187-.052.562-.061 1.119a8.828 8.828 0 0 1-.112 1.378 2.24 2.24 0 0 1-.404.963c-.159.212-.373.406-.64.583.25.163.454.342.612.538zm7.34 0c.157-.196.362-.375.612-.538a2.544 2.544 0 0 1-.641-.583 2.24 2.24 0 0 1-.404-.963 8.828 8.828 0 0 1-.112-1.378c-.009-.557-.03-.932-.061-1.119-.027-.157-.077-.251-.14-.29-.08-.051-.248-.096-.496-.127a.858.858 0 0 1-.564-.29C8.57 1.401 8.5 1.185 8.5.921 8.5.317 8.933 0 9.716 0c.71 0 1.286.19 1.72.574.432.382.656.893.671 1.522.02.952.033 1.553.043 1.802.009.238.041.458.097.658a.942.942 0 0 0 .26.447c.133.124.364.28.693.466a.926.926 0 0 1 .493.846c0 .252-.058.446-.183.58-.109.115-.281.237-.52.371-.21.118-.377.244-.504.376-.118.123-.212.315-.277.578-.025.102-.045.35-.06.733-.013.392-.027.912-.042 1.56a2.09 2.09 0 0 1-.305 1.097c-.2.323-.486.574-.853.75a2.811 2.811 0 0 1-1.233.263c-.784 0-1.216-.322-1.216-.934 0-.256.07-.47.214-.636a.855.855 0 0 1 .562-.297c.201-.027.344-.056.418-.083.048-.017.096-.06.14-.134a.996.996 0 0 0 .107-.396c.02-.195.031-.502.031-.92 0-.573.039-1.045.117-1.417.08-.382.222-.701.427-.954z"></path></svg>'}},e={};function t(i){var r=e[i];if(r!==void 0)return r.exports;var s=e[i]={id:i,exports:{}};return n[i](s,s.exports,t),s.exports}t.n=i=>{var r=i&&i.__esModule?()=>i.default:()=>i;return t.d(r,{a:r}),r},t.d=(i,r)=>{for(var s in r)t.o(r,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:r[s]})},t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),t.o=(i,r)=>Object.prototype.hasOwnProperty.call(i,r);var o={};return(()=>{"use strict";t.d(o,{default:()=>ke});var i=t(379),r=t.n(i),s=t(795),a=t.n(s),l=t(569),c=t.n(l),d=t(565),u=t.n(d),p=t(216),v=t.n(p),m=t(589),_=t.n(m),w=t(738),F={};F.styleTagTransform=_(),F.setAttributes=u(),F.insert=c().bind(null,"head"),F.domAPI=a(),F.insertStyleElement=v(),r()(w.Z,F),w.Z&&w.Z.locals&&w.Z.locals;var y,B=t(497),N=t.n(B),W=t(660),k=t.n(W),S=(t(689),t(335),t(64),t(277),t(366),t(874),"#fff"),E='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',x=`
  .codeflask {
    position: absolute;
    width: 100%;
    height: 100%;
    overflow: hidden;
  }

  .codeflask, .codeflask * {
    box-sizing: border-box;
  }

  .codeflask__pre {
    pointer-events: none;
    z-index: 3;
    overflow: hidden;
  }

  .codeflask__textarea {
    background: none;
    border: none;
    color: `+(y="caret-color",((typeof CSS<"u"?CSS.supports(y,"#000"):typeof document<"u"&&function(P){return(P=P.split("-").filter(function(I){return!!I}).map(function(I){return I[0].toUpperCase()+I.substr(1)}).join(""))[0].toLowerCase()+P.substr(1)}(y)in document.body.style)?S:"#ccc")+`;
    z-index: 1;
    resize: none;
    font-family: `)+E+`;
    -webkit-appearance: pre;
    caret-color: #111;
    z-index: 2;
    width: 100%;
    height: 100%;
  }

  .codeflask--has-line-numbers .codeflask__textarea {
    width: calc(100% - 40px);
  }

  .codeflask__code {
    display: block;
    font-family: `+E+`;
    overflow: hidden;
  }

  .codeflask__flatten {
    padding: 10px;
    font-size: 13px;
    line-height: 20px;
    white-space: pre;
    position: absolute;
    top: 0;
    left: 0;
    overflow: auto;
    margin: 0 !important;
    outline: none;
    text-align: left;
  }

  .codeflask--has-line-numbers .codeflask__flatten {
    width: calc(100% - 40px);
    left: 40px;
  }

  .codeflask__line-highlight {
    position: absolute;
    top: 10px;
    left: 0;
    width: 100%;
    height: 20px;
    background: rgba(0,0,0,0.1);
    z-index: 1;
  }

  .codeflask__lines {
    padding: 10px 4px;
    font-size: 12px;
    line-height: 20px;
    font-family: 'Cousine', monospace;
    position: absolute;
    left: 0;
    top: 0;
    width: 40px;
    height: 100%;
    text-align: right;
    color: #999;
    z-index: 2;
  }

  .codeflask__lines__line {
    display: block;
  }

  .codeflask.codeflask--has-line-numbers {
    padding-left: 40px;
  }

  .codeflask.codeflask--has-line-numbers:before {
    content: '';
    position: absolute;
    left: 0;
    top: 0;
    width: 40px;
    height: 100%;
    background: #eee;
    z-index: 1;
  }
`;function T(P,I,K){var j=I||"codeflask-style",U=K||document.head;if(!P)return!1;if(document.getElementById(j))return!0;var ee=document.createElement("style");return ee.innerHTML=P,ee.id=j,U.appendChild(ee),!0}var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function h(P){return String(P).replace(/[&<>"'`=/]/g,function(I){return L[I]})}var f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:t.g!==void 0?t.g:typeof self<"u"?self:{},b=function(P,I){return function(K){var j=function(U){var ee=/\blang(?:uage)?-([\w-]+)\b/i,J=0,A={manual:U.Prism&&U.Prism.manual,disableWorkerMessageHandler:U.Prism&&U.Prism.disableWorkerMessageHandler,util:{encode:function(M){return M instanceof ne?new ne(M.type,A.util.encode(M.content),M.alias):Array.isArray(M)?M.map(A.util.encode):M.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(M){return Object.prototype.toString.call(M).slice(8,-1)},objId:function(M){return M.__id||Object.defineProperty(M,"__id",{value:++J}),M.__id},clone:function M(H,R){var D,X,oe=A.util.type(H);switch(R=R||{},oe){case"Object":if(X=A.util.objId(H),R[X])return R[X];for(var V in D={},R[X]=D,H)H.hasOwnProperty(V)&&(D[V]=M(H[V],R));return D;case"Array":return X=A.util.objId(H),R[X]?R[X]:(D=[],R[X]=D,H.forEach(function(le,fe){D[fe]=M(le,R)}),D);default:return H}}},languages:{extend:function(M,H){var R=A.util.clone(A.languages[M]);for(var D in H)R[D]=H[D];return R},insertBefore:function(M,H,R,D){var X=(D=D||A.languages)[M],oe={};for(var V in X)if(X.hasOwnProperty(V)){if(V==H)for(var le in R)R.hasOwnProperty(le)&&(oe[le]=R[le]);R.hasOwnProperty(V)||(oe[V]=X[V])}var fe=D[M];return D[M]=oe,A.languages.DFS(A.languages,function(Ae,pe){pe===fe&&Ae!=M&&(this[Ae]=oe)}),oe},DFS:function M(H,R,D,X){X=X||{};var oe=A.util.objId;for(var V in H)if(H.hasOwnProperty(V)){R.call(H,V,H[V],D||V);var le=H[V],fe=A.util.type(le);fe!=="Object"||X[oe(le)]?fe!=="Array"||X[oe(le)]||(X[oe(le)]=!0,M(le,R,V,X)):(X[oe(le)]=!0,M(le,R,null,X))}}},plugins:{},highlightAll:function(M,H){A.highlightAllUnder(document,M,H)},highlightAllUnder:function(M,H,R){var D={callback:R,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};A.hooks.run("before-highlightall",D);for(var X,oe=D.elements||M.querySelectorAll(D.selector),V=0;X=oe[V++];)A.highlightElement(X,H===!0,D.callback)},highlightElement:function(M,H,R){for(var D,X,oe=M;oe&&!ee.test(oe.className);)oe=oe.parentNode;oe&&(D=(oe.className.match(ee)||[,""])[1].toLowerCase(),X=A.languages[D]),M.className=M.className.replace(ee,"").replace(/\s+/g," ")+" language-"+D,M.parentNode&&(oe=M.parentNode,/pre/i.test(oe.nodeName)&&(oe.className=oe.className.replace(ee,"").replace(/\s+/g," ")+" language-"+D));var V={element:M,language:D,grammar:X,code:M.textContent},le=function(Ae){V.highlightedCode=Ae,A.hooks.run("before-insert",V),V.element.innerHTML=V.highlightedCode,A.hooks.run("after-highlight",V),A.hooks.run("complete",V),R&&R.call(V.element)};if(A.hooks.run("before-sanity-check",V),V.code)if(A.hooks.run("before-highlight",V),V.grammar)if(H&&U.Worker){var fe=new Worker(A.filename);fe.onmessage=function(Ae){le(Ae.data)},fe.postMessage(JSON.stringify({language:V.language,code:V.code,immediateClose:!0}))}else le(A.highlight(V.code,V.grammar,V.language));else le(A.util.encode(V.code));else A.hooks.run("complete",V)},highlight:function(M,H,R){var D={code:M,grammar:H,language:R};return A.hooks.run("before-tokenize",D),D.tokens=A.tokenize(D.code,D.grammar),A.hooks.run("after-tokenize",D),ne.stringify(A.util.encode(D.tokens),D.language)},matchGrammar:function(M,H,R,D,X,oe,V){for(var le in R)if(R.hasOwnProperty(le)&&R[le]){if(le==V)return;var fe=R[le];fe=A.util.type(fe)==="Array"?fe:[fe];for(var Ae=0;Ae<fe.length;++Ae){var pe=fe[Ae],ds=pe.inside,us=!!pe.lookbehind,In=!!pe.greedy,An=0,Il=pe.alias;if(In&&!pe.pattern.global){var Al=pe.pattern.toString().match(/[imuy]*$/)[0];pe.pattern=RegExp(pe.pattern.source,Al+"g")}pe=pe.pattern||pe;for(var Se=D,Fe=X;Se<H.length;Fe+=H[Se].length,++Se){var ht=H[Se];if(H.length>M.length)return;if(!(ht instanceof ne)){if(In&&Se!=H.length-1){if(pe.lastIndex=Fe,!(be=pe.exec(M)))break;for(var Ln=be.index+(us?be[1].length:0),Mn=be.index+be[0].length,nt=Se,Bt=Fe,Ll=H.length;nt<Ll&&(Bt<Mn||!H[nt].type&&!H[nt-1].greedy);++nt)Ln>=(Bt+=H[nt].length)&&(++Se,Fe=Bt);if(H[Se]instanceof ne)continue;Pn=nt-Se,ht=M.slice(Fe,Bt),be.index-=Fe}else{pe.lastIndex=0;var be=pe.exec(ht),Pn=1}if(be){us&&(An=be[1]?be[1].length:0),Mn=(Ln=be.index+An)+(be=be[0].slice(An)).length;var Nn=ht.slice(0,Ln),hs=ht.slice(Mn),_t=[Se,Pn];Nn&&(++Se,Fe+=Nn.length,_t.push(Nn));var Ml=new ne(le,ds?A.tokenize(be,ds):be,Il,be,In);if(_t.push(Ml),hs&&_t.push(hs),Array.prototype.splice.apply(H,_t),Pn!=1&&A.matchGrammar(M,H,R,Se,Fe,!0,le),oe)break}else if(oe)break}}}}},tokenize:function(M,H){var R=[M],D=H.rest;if(D){for(var X in D)H[X]=D[X];delete H.rest}return A.matchGrammar(M,R,H,0,0,!1),R},hooks:{all:{},add:function(M,H){var R=A.hooks.all;R[M]=R[M]||[],R[M].push(H)},run:function(M,H){var R=A.hooks.all[M];if(R&&R.length)for(var D,X=0;D=R[X++];)D(H)}},Token:ne};function ne(M,H,R,D,X){this.type=M,this.content=H,this.alias=R,this.length=0|(D||"").length,this.greedy=!!X}if(U.Prism=A,ne.stringify=function(M,H,R){if(typeof M=="string")return M;if(Array.isArray(M))return M.map(function(V){return ne.stringify(V,H,M)}).join("");var D={type:M.type,content:ne.stringify(M.content,H,R),tag:"span",classes:["token",M.type],attributes:{},language:H,parent:R};if(M.alias){var X=Array.isArray(M.alias)?M.alias:[M.alias];Array.prototype.push.apply(D.classes,X)}A.hooks.run("wrap",D);var oe=Object.keys(D.attributes).map(function(V){return V+'="'+(D.attributes[V]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+D.tag+' class="'+D.classes.join(" ")+'"'+(oe?" "+oe:"")+">"+D.content+"</"+D.tag+">"},!U.document)return U.addEventListener&&(A.disableWorkerMessageHandler||U.addEventListener("message",function(M){var H=JSON.parse(M.data),R=H.language,D=H.code,X=H.immediateClose;U.postMessage(A.highlight(D,A.languages[R],R)),X&&U.close()},!1)),A;var Q=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();return Q&&(A.filename=Q.src,A.manual||Q.hasAttribute("data-manual")||(document.readyState!=="loading"?window.requestAnimationFrame?window.requestAnimationFrame(A.highlightAll):window.setTimeout(A.highlightAll,16):document.addEventListener("DOMContentLoaded",A.highlightAll))),A}(typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{});K.exports&&(K.exports=j),f!==void 0&&(f.Prism=j),j.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/i,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/i,inside:{punctuation:[/^=/,{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i},j.languages.markup.tag.inside["attr-value"].inside.entity=j.languages.markup.entity,j.hooks.add("wrap",function(U){U.type==="entity"&&(U.attributes.title=U.content.replace(/&amp;/,"&"))}),Object.defineProperty(j.languages.markup.tag,"addInlined",{value:function(U,ee){var J={};J["language-"+ee]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:j.languages[ee]},J.cdata=/^<!\[CDATA\[|\]\]>$/i;var A={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:J}};A["language-"+ee]={pattern:/[\s\S]+/,inside:j.languages[ee]};var ne={};ne[U]={pattern:RegExp(/(<__[\s\S]*?>)(?:<!\[CDATA\[[\s\S]*?\]\]>\s*|[\s\S])*?(?=<\/__>)/.source.replace(/__/g,U),"i"),lookbehind:!0,greedy:!0,inside:A},j.languages.insertBefore("markup","cdata",ne)}}),j.languages.xml=j.languages.extend("markup",{}),j.languages.html=j.languages.markup,j.languages.mathml=j.languages.markup,j.languages.svg=j.languages.markup,function(U){var ee=/("|')(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/;U.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?[\s\S]*?(?:;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:RegExp("url\\((?:"+ee.source+"|.*?)\\)","i"),selector:RegExp(`[^{}\\s](?:[^{};"']|`+ee.source+")*?(?=\\s*\\{)"),string:{pattern:ee,greedy:!0},property:/[-_a-z\xA0-\uFFFF][-\w\xA0-\uFFFF]*(?=\s*:)/i,important:/!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:,]/},U.languages.css.atrule.inside.rest=U.languages.css;var J=U.languages.markup;J&&(J.tag.addInlined("style","css"),U.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|')(?:\\[\s\S]|(?!\1)[^\\])*\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:J.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:U.languages.css}},alias:"language-css"}},J.tag))}(j),j.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(?:true|false)\b/,function:/\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+\.?\d*|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/},j.languages.javascript=j.languages.extend("clike",{"class-name":[j.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])[_$A-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\.(?:prototype|constructor))/,lookbehind:!0}],keyword:[{pattern:/((?:^|})\s*)(?:catch|finally)\b/,lookbehind:!0},{pattern:/(^|[^.])\b(?:as|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],number:/\b(?:(?:0[xX][\dA-Fa-f]+|0[bB][01]+|0[oO][0-7]+)n?|\d+n|NaN|Infinity)\b|(?:\b\d+\.?\d*|\B\.\d+)(?:[Ee][+-]?\d+)?/,function:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/}),j.languages.javascript["class-name"][0].pattern=/(\b(?:class|interface|extends|implements|instanceof|new)\s+)[\w.\\]+/,j.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s])\s*)\/(\[(?:[^\]\\\r\n]|\\.)*]|\\.|[^/\\\[\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})\]]))/,lookbehind:!0,greedy:!0},"function-variable":{pattern:/[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|[_$a-zA-Z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*)?\s*\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\))/,lookbehind:!0,inside:j.languages.javascript},{pattern:/[_$a-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*(?=\s*=>)/i,inside:j.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*=>)/,lookbehind:!0,inside:j.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:[_$A-Za-z\xA0-\uFFFF][$\w\xA0-\uFFFF]*\s*)\(\s*)(?!\s)(?:[^()]|\([^()]*\))+?(?=\s*\)\s*\{)/,lookbehind:!0,inside:j.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),j.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\[\s\S]|\${[^}]+}|[^\\`])*`/,greedy:!0,inside:{interpolation:{pattern:/\${[^}]+}/,inside:{"interpolation-punctuation":{pattern:/^\${|}$/,alias:"punctuation"},rest:j.languages.javascript}},string:/[\s\S]+/}}}),j.languages.markup&&j.languages.markup.tag.addInlined("script","javascript"),j.languages.js=j.languages.javascript,typeof self<"u"&&self.Prism&&self.document&&document.querySelector&&(self.Prism.fileHighlight=function(U){U=U||document;var ee={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};Array.prototype.slice.call(U.querySelectorAll("pre[data-src]")).forEach(function(J){if(!J.hasAttribute("data-src-loaded")){for(var A,ne=J.getAttribute("data-src"),Q=J,M=/\blang(?:uage)?-([\w-]+)\b/i;Q&&!M.test(Q.className);)Q=Q.parentNode;if(Q&&(A=(J.className.match(M)||[,""])[1]),!A){var H=(ne.match(/\.(\w+)$/)||[,""])[1];A=ee[H]||H}var R=document.createElement("code");R.className="language-"+A,J.textContent="",R.textContent="Loading\u2026",J.appendChild(R);var D=new XMLHttpRequest;D.open("GET",ne,!0),D.onreadystatechange=function(){D.readyState==4&&(D.status<400&&D.responseText?(R.textContent=D.responseText,j.highlightElement(R),J.setAttribute("data-src-loaded","")):D.status>=400?R.textContent="\u2716 Error "+D.status+" while fetching file: "+D.statusText:R.textContent="\u2716 Error: File does not exist or is empty")},D.send(null)}}),j.plugins.toolbar&&j.plugins.toolbar.registerButton("download-file",function(J){var A=J.element.parentNode;if(A&&/pre/i.test(A.nodeName)&&A.hasAttribute("data-src")&&A.hasAttribute("data-download-link")){var ne=A.getAttribute("data-src"),Q=document.createElement("a");return Q.textContent=A.getAttribute("data-download-link-label")||"Download",Q.setAttribute("download",""),Q.href=ne,Q}})},document.addEventListener("DOMContentLoaded",function(){self.Prism.fileHighlight()}))}(I={exports:{}}),I.exports}(),g=function(P,I){if(!P)throw Error("CodeFlask expects a parameter which is Element or a String selector");if(!I)throw Error("CodeFlask expects an object containing options as second parameter");if(P.nodeType)this.editorRoot=P;else{var K=document.querySelector(P);K&&(this.editorRoot=K)}this.opts=I,this.startEditor()};g.prototype.startEditor=function(){if(!T(x,null,this.opts.styleParent))throw Error("Failed to inject CodeFlask CSS.");this.createWrapper(),this.createTextarea(),this.createPre(),this.createCode(),this.runOptions(),this.listenTextarea(),this.populateDefault(),this.updateCode(this.code)},g.prototype.createWrapper=function(){this.code=this.editorRoot.innerHTML,this.editorRoot.innerHTML="",this.elWrapper=this.createElement("div",this.editorRoot),this.elWrapper.classList.add("codeflask")},g.prototype.createTextarea=function(){this.elTextarea=this.createElement("textarea",this.elWrapper),this.elTextarea.classList.add("codeflask__textarea","codeflask__flatten")},g.prototype.createPre=function(){this.elPre=this.createElement("pre",this.elWrapper),this.elPre.classList.add("codeflask__pre","codeflask__flatten")},g.prototype.createCode=function(){this.elCode=this.createElement("code",this.elPre),this.elCode.classList.add("codeflask__code","language-"+(this.opts.language||"html"))},g.prototype.createLineNumbers=function(){this.elLineNumbers=this.createElement("div",this.elWrapper),this.elLineNumbers.classList.add("codeflask__lines"),this.setLineNumber()},g.prototype.createElement=function(P,I){var K=document.createElement(P);return I.appendChild(K),K},g.prototype.runOptions=function(){this.opts.rtl=this.opts.rtl||!1,this.opts.tabSize=this.opts.tabSize||2,this.opts.enableAutocorrect=this.opts.enableAutocorrect||!1,this.opts.lineNumbers=this.opts.lineNumbers||!1,this.opts.defaultTheme=this.opts.defaultTheme!==!1,this.opts.areaId=this.opts.areaId||null,this.opts.ariaLabelledby=this.opts.ariaLabelledby||null,this.opts.readonly=this.opts.readonly||null,typeof this.opts.handleTabs!="boolean"&&(this.opts.handleTabs=!0),typeof this.opts.handleSelfClosingCharacters!="boolean"&&(this.opts.handleSelfClosingCharacters=!0),typeof this.opts.handleNewLineIndentation!="boolean"&&(this.opts.handleNewLineIndentation=!0),this.opts.rtl===!0&&(this.elTextarea.setAttribute("dir","rtl"),this.elPre.setAttribute("dir","rtl")),this.opts.enableAutocorrect===!1&&(this.elTextarea.setAttribute("spellcheck","false"),this.elTextarea.setAttribute("autocapitalize","off"),this.elTextarea.setAttribute("autocomplete","off"),this.elTextarea.setAttribute("autocorrect","off")),this.opts.lineNumbers&&(this.elWrapper.classList.add("codeflask--has-line-numbers"),this.createLineNumbers()),this.opts.defaultTheme&&T(`
.codeflask {
  background: #fff;
  color: #4f559c;
}

.codeflask .token.punctuation {
  color: #4a4a4a;
}

.codeflask .token.keyword {
  color: #8500ff;
}

.codeflask .token.operator {
  color: #ff5598;
}

.codeflask .token.string {
  color: #41ad8f;
}

.codeflask .token.comment {
  color: #9badb7;
}

.codeflask .token.function {
  color: #8500ff;
}

.codeflask .token.boolean {
  color: #8500ff;
}

.codeflask .token.number {
  color: #8500ff;
}

.codeflask .token.selector {
  color: #8500ff;
}

.codeflask .token.property {
  color: #8500ff;
}

.codeflask .token.tag {
  color: #8500ff;
}

.codeflask .token.attr-value {
  color: #8500ff;
}
`,"theme-default",this.opts.styleParent),this.opts.areaId&&this.elTextarea.setAttribute("id",this.opts.areaId),this.opts.ariaLabelledby&&this.elTextarea.setAttribute("aria-labelledby",this.opts.ariaLabelledby),this.opts.readonly&&this.enableReadonlyMode()},g.prototype.updateLineNumbersCount=function(){for(var P="",I=1;I<=this.lineNumber;I++)P=P+'<span class="codeflask__lines__line">'+I+"</span>";this.elLineNumbers.innerHTML=P},g.prototype.listenTextarea=function(){var P=this;this.elTextarea.addEventListener("input",function(I){P.code=I.target.value,P.elCode.innerHTML=h(I.target.value),P.highlight(),setTimeout(function(){P.runUpdate(),P.setLineNumber()},1)}),this.elTextarea.addEventListener("keydown",function(I){P.handleTabs(I),P.handleSelfClosingCharacters(I),P.handleNewLineIndentation(I)}),this.elTextarea.addEventListener("scroll",function(I){P.elPre.style.transform="translate3d(-"+I.target.scrollLeft+"px, -"+I.target.scrollTop+"px, 0)",P.elLineNumbers&&(P.elLineNumbers.style.transform="translate3d(0, -"+I.target.scrollTop+"px, 0)")})},g.prototype.handleTabs=function(P){if(this.opts.handleTabs){if(P.keyCode!==9)return;P.preventDefault();var I=this.elTextarea,K=I.selectionDirection,j=I.selectionStart,U=I.selectionEnd,ee=I.value,J=ee.substr(0,j),A=ee.substring(j,U),ne=ee.substring(U),Q=" ".repeat(this.opts.tabSize);if(j!==U&&A.length>=Q.length){var M=j-J.split(`
`).pop().length,H=Q.length,R=Q.length;P.shiftKey?(ee.substr(M,Q.length)===Q?(H=-H,M>j?(A=A.substring(0,M)+A.substring(M+Q.length),R=0):M===j?(H=0,R=0,A=A.substring(Q.length)):(R=-R,J=J.substring(0,M)+J.substring(M+Q.length))):(H=0,R=0),A=A.replace(new RegExp(`
`+Q.split("").join("\\"),"g"),`
`)):(J=J.substr(0,M)+Q+J.substring(M,j),A=A.replace(/\n/g,`
`+Q)),I.value=J+A+ne,I.selectionStart=j+H,I.selectionEnd=j+A.length+R,I.selectionDirection=K}else I.value=J+Q+ne,I.selectionStart=j+Q.length,I.selectionEnd=j+Q.length;var D=I.value;this.updateCode(D),this.elTextarea.selectionEnd=U+this.opts.tabSize}},g.prototype.handleSelfClosingCharacters=function(P){if(this.opts.handleSelfClosingCharacters){var I=P.key;if(["(","[","{","<","'",'"'].includes(I)||[")","]","}",">","'",'"'].includes(I))switch(I){case"(":case")":case"[":case"]":case"{":case"}":case"<":case">":case"'":case'"':this.closeCharacter(I)}}},g.prototype.setLineNumber=function(){this.lineNumber=this.code.split(`
`).length,this.opts.lineNumbers&&this.updateLineNumbersCount()},g.prototype.handleNewLineIndentation=function(P){if(this.opts.handleNewLineIndentation&&P.keyCode===13){P.preventDefault();var I=this.elTextarea,K=I.selectionStart,j=I.selectionEnd,U=I.value,ee=U.substr(0,K),J=U.substring(j),A=U.lastIndexOf(`
`,K-1),ne=A+U.slice(A+1).search(/[^ ]|$/),Q=ne>A?ne-A:0,M=ee+`
`+" ".repeat(Q)+J;I.value=M,I.selectionStart=K+Q+1,I.selectionEnd=K+Q+1,this.updateCode(I.value)}},g.prototype.closeCharacter=function(P){var I=this.elTextarea.selectionStart,K=this.elTextarea.selectionEnd;if(this.skipCloseChar(P)){var j=this.code.substr(K,1)===P,U=j?K+1:K,ee=!j&&["'",'"'].includes(P)?P:"",J=""+this.code.substring(0,I)+ee+this.code.substring(U);this.updateCode(J),this.elTextarea.selectionEnd=++this.elTextarea.selectionStart}else{var A=P;switch(P){case"(":A=String.fromCharCode(P.charCodeAt()+1);break;case"<":case"{":case"[":A=String.fromCharCode(P.charCodeAt()+2)}var ne=this.code.substring(I,K),Q=""+this.code.substring(0,I)+ne+A+this.code.substring(K);this.updateCode(Q)}this.elTextarea.selectionEnd=I},g.prototype.skipCloseChar=function(P){var I=this.elTextarea.selectionStart,K=this.elTextarea.selectionEnd,j=Math.abs(K-I)>0;return[")","}","]",">"].includes(P)||["'",'"'].includes(P)&&!j},g.prototype.updateCode=function(P){this.code=P,this.elTextarea.value=P,this.elCode.innerHTML=h(P),this.highlight(),this.setLineNumber(),setTimeout(this.runUpdate.bind(this),1)},g.prototype.updateLanguage=function(P){var I=this.opts.language;this.elCode.classList.remove("language-"+I),this.elCode.classList.add("language-"+P),this.opts.language=P,this.highlight()},g.prototype.addLanguage=function(P,I){b.languages[P]=I},g.prototype.populateDefault=function(){this.updateCode(this.code)},g.prototype.highlight=function(){b.highlightElement(this.elCode,!1)},g.prototype.onUpdate=function(P){if(P&&{}.toString.call(P)!=="[object Function]")throw Error("CodeFlask expects callback of type Function");this.updateCallBack=P},g.prototype.getCode=function(){return this.code},g.prototype.runUpdate=function(){this.updateCallBack&&this.updateCallBack(this.code)},g.prototype.enableReadonlyMode=function(){this.elTextarea.setAttribute("readonly",!0)},g.prototype.disableReadonlyMode=function(){this.elTextarea.removeAttribute("readonly")};let O=g;var $=t(668),z=t.n($),G=t(733),re={};re.styleTagTransform=_(),re.setAttributes=u(),re.insert=c().bind(null,"head"),re.domAPI=a(),re.insertStyleElement=v(),r()(G.Z,re),G.Z&&G.Z.locals&&G.Z.locals;class ke{static get DEFAULT_PLACEHOLDER(){return"// Hello"}static get enableLineBreaks(){return!0}constructor({data:I,config:K,api:j,readOnly:U}){this.api=j,this.readOnly=U,this._CSS={block:this.api.styles.block,wrapper:"ce-EditorJsCodeFlask",settingsButton:this.api.styles.settingsButton,settingsButtonActive:this.api.styles.settingsButtonActive},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=K.placeholder?K.placeholder:ke.DEFAULT_PLACEHOLDER,this._preserveBlank=K.preserveBlank!==void 0&&K.preserveBlank,this._element,this.data={},this.data.code=I.code===void 0?"// Hello World":I.code,this.data.language=I.language===void 0?"plain":I.language,this.data.showlinenumbers=I.showlinenumbers===void 0||I.showlinenumbers,this.data.editorInstance={}}onKeyUp(I){if(I.code!=="Backspace"&&I.code!=="Delete")return;let{textContent:K}=this._element;K===""&&(this._element.innerHTML="")}render(){this._element=document.createElement("div"),this._element.classList.add("editorjs-codeFlask_Wrapper");let I=document.createElement("div");I.classList.add("editorjs-codeFlask_Editor");let K=document.createElement("div");return K.classList.add("editorjs-codeFlask_LangDisplay"),K.innerHTML=this.data.language,this._element.appendChild(I),this._element.appendChild(K),this.data.editorInstance=new O(I,{language:this.data.language,lineNumbers:this.data.showlinenumbers,readonly:this.readOnly}),this.data.editorInstance.onUpdate(j=>{let U=j.split(`
`).length;this._debounce(this._updateEditorHeight(U))}),this.data.editorInstance.addLanguage(this.data.language,k().languages[this.data.language]),this.data.editorInstance.updateCode(this.data.code),this._element}_updateEditorHeight(I){let K=21*I+10;K<60&&(K=60),this._element.style.height=K+"px"}_debounce(I,K=500){let j;return(...U)=>{clearTimeout(j),j=setTimeout(()=>{I.apply(this,U)},K)}}renderSettings(){let I=document.createElement("div"),K=document.createElement("select");K.classList.add("small");let j=Object.keys(k().languages).sort(function(J,A){return J.toLowerCase().localeCompare(A.toLowerCase())});for(var U=0;U<j.length;U++)if(j[U]!="extend"&&j[U]!="insertBefore"&&j[U]!="DFS"){var ee=document.createElement("option");ee.value=j[U],ee.text=j[U],j[U]==this.data.language&&(ee.selected="selected"),K.appendChild(ee)}return K.addEventListener("change",J=>{this._updateLanguage(J.target.value)}),I.appendChild(K),new(z())(K,{searchable:!0,placeholder:"Language..."}),I}_toggleLineNumbers=I=>{this.data.showlinenumbers=!this.data.showlinenumbers};_updateLanguage=I=>{this.data.language=I,this._element.querySelector(".editorjs-codeFlask_LangDisplay").innerHTML=this.data.language,this.data.editorInstance.updateLanguage(this.data.language)};save(I){return{code:this.data.editorInstance.getCode(),language:this.data.language,showlinenumbers:this.data.showlinenumbers}}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:N(),title:"CodeFlask"}}}})(),o.default})())});var af=gs((_n,cs)=>{"use strict";(function(n,e){typeof _n=="object"&&typeof cs=="object"?cs.exports=e():typeof define=="function"&&define.amd?define([],e):typeof _n=="object"?_n.ToggleBlock=e():n.ToggleBlock=e()})(self,()=>(()=>{var n={424:(i,r,s)=>{"use strict";s.d(r,{Z:()=>u});var a=s(81),l=s.n(a),c=s(645),d=s.n(c)()(l());d.push([i.id,`.toggle-block__selector > div {
  vertical-align: middle;
  display: inline-block;
  padding: 1% 0 1% 0;
  outline: none;
  border: none;
  width: 90%;
}

.toggle-block__selector br {
  display: none;
}

.toggle-block__icon > svg {
  vertical-align: middle;
  width: 15px;
  height: auto;
}

.toggle-block__icon:hover {
  color: #388ae5;
  cursor: pointer;
}

.bi-play-fill {
  width: 34px;
  height: 34px;
}

.toggle-block__input {
  margin-left: 5px;
}

.toggle-block__input:empty:before {
  content: attr(placeholder);
  color: gray;
  background-color: transparent;
}

.toggle-block__content-default {
  margin-left: 20px;
}

.toggle-block__item {
  margin-left: 39px;
}

.toggle-block__content-default {
  color: gray;
  border-radius: 5px;
}

.toggle-block__content-default:hover {
  cursor: pointer;
  background: rgba(55, 53, 47, 0.08);
}

div.toggle-block__hidden {
  display: none;
}
`,""]);let u=d},645:i=>{"use strict";i.exports=function(r){var s=[];return s.toString=function(){return this.map(function(a){var l="",c=a[5]!==void 0;return a[4]&&(l+="@supports (".concat(a[4],") {")),a[2]&&(l+="@media ".concat(a[2]," {")),c&&(l+="@layer".concat(a[5].length>0?" ".concat(a[5]):""," {")),l+=r(a),c&&(l+="}"),a[2]&&(l+="}"),a[4]&&(l+="}"),l}).join("")},s.i=function(a,l,c,d,u){typeof a=="string"&&(a=[[null,a,void 0]]);var p={};if(c)for(var v=0;v<this.length;v++){var m=this[v][0];m!=null&&(p[m]=!0)}for(var _=0;_<a.length;_++){var w=[].concat(a[_]);c&&p[w[0]]||(u!==void 0&&(w[5]===void 0||(w[1]="@layer".concat(w[5].length>0?" ".concat(w[5]):""," {").concat(w[1],"}")),w[5]=u),l&&(w[2]&&(w[1]="@media ".concat(w[2]," {").concat(w[1],"}")),w[2]=l),d&&(w[4]?(w[1]="@supports (".concat(w[4],") {").concat(w[1],"}"),w[4]=d):w[4]="".concat(d)),s.push(w))}},s}},81:i=>{"use strict";i.exports=function(r){return r[1]}},379:i=>{"use strict";var r=[];function s(c){for(var d=-1,u=0;u<r.length;u++)if(r[u].identifier===c){d=u;break}return d}function a(c,d){for(var u={},p=[],v=0;v<c.length;v++){var m=c[v],_=d.base?m[0]+d.base:m[0],w=u[_]||0,F="".concat(_," ").concat(w);u[_]=w+1;var y=s(F),B={css:m[1],media:m[2],sourceMap:m[3],supports:m[4],layer:m[5]};if(y!==-1)r[y].references++,r[y].updater(B);else{var N=l(B,d);d.byIndex=v,r.splice(v,0,{identifier:F,updater:N,references:1})}p.push(F)}return p}function l(c,d){var u=d.domAPI(d);return u.update(c),function(p){if(p){if(p.css===c.css&&p.media===c.media&&p.sourceMap===c.sourceMap&&p.supports===c.supports&&p.layer===c.layer)return;u.update(c=p)}else u.remove()}}i.exports=function(c,d){var u=a(c=c||[],d=d||{});return function(p){p=p||[];for(var v=0;v<u.length;v++){var m=s(u[v]);r[m].references--}for(var _=a(p,d),w=0;w<u.length;w++){var F=s(u[w]);r[F].references===0&&(r[F].updater(),r.splice(F,1))}u=_}}},569:i=>{"use strict";var r={};i.exports=function(s,a){var l=function(c){if(r[c]===void 0){var d=document.querySelector(c);if(window.HTMLIFrameElement&&d instanceof window.HTMLIFrameElement)try{d=d.contentDocument.head}catch{d=null}r[c]=d}return r[c]}(s);if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(a)}},216:i=>{"use strict";i.exports=function(r){var s=document.createElement("style");return r.setAttributes(s,r.attributes),r.insert(s,r.options),s}},565:(i,r,s)=>{"use strict";i.exports=function(a){var l=s.nc;l&&a.setAttribute("nonce",l)}},795:i=>{"use strict";i.exports=function(r){if(typeof document>"u")return{update:function(){},remove:function(){}};var s=r.insertStyleElement(r);return{update:function(a){(function(l,c,d){var u="";d.supports&&(u+="@supports (".concat(d.supports,") {")),d.media&&(u+="@media ".concat(d.media," {"));var p=d.layer!==void 0;p&&(u+="@layer".concat(d.layer.length>0?" ".concat(d.layer):""," {")),u+=d.css,p&&(u+="}"),d.media&&(u+="}"),d.supports&&(u+="}");var v=d.sourceMap;v&&typeof btoa<"u"&&(u+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(v))))," */")),c.styleTagTransform(u,l,c.options)})(s,r,a)},remove:function(){(function(a){if(a.parentNode===null)return!1;a.parentNode.removeChild(a)})(s)}}}},589:i=>{"use strict";i.exports=function(r,s){if(s.styleSheet)s.styleSheet.cssText=r;else{for(;s.firstChild;)s.removeChild(s.firstChild);s.appendChild(document.createTextNode(r))}}},370:i=>{i.exports='<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16"><path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path></svg>'}},e={};function t(i){var r=e[i];if(r!==void 0)return r.exports;var s=e[i]={id:i,exports:{}};return n[i](s,s.exports,t),s.exports}t.n=i=>{var r=i&&i.__esModule?()=>i.default:()=>i;return t.d(r,{a:r}),r},t.d=(i,r)=>{for(var s in r)t.o(r,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:r[s]})},t.o=(i,r)=>Object.prototype.hasOwnProperty.call(i,r),t.nc=void 0;var o={};return(()=>{"use strict";t.d(o,{default:()=>T});var i=t(379),r=t.n(i),s=t(795),a=t.n(s),l=t(569),c=t.n(l),d=t(565),u=t.n(d),p=t(216),v=t.n(p),m=t(589),_=t.n(m),w=t(424),F={};F.styleTagTransform=_(),F.setAttributes=u(),F.insert=c().bind(null,"head"),F.domAPI=a(),F.insertStyleElement=v(),r()(w.Z,F),w.Z&&w.Z.locals&&w.Z.locals;let y={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},B,N=new Uint8Array(16);function W(){if(!B&&(B=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!B))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return B(N)}let k=[];for(let L=0;L<256;++L)k.push((L+256).toString(16).slice(1));let S=function(L,h,f){if(y.randomUUID&&!h&&!L)return y.randomUUID();let b=(L=L||{}).random||(L.rng||W)();if(b[6]=15&b[6]|64,b[8]=63&b[8]|128,h){f=f||0;for(let g=0;g<16;++g)h[f+g]=b[g];return h}return function(g,O=0){return(k[g[O+0]]+k[g[O+1]]+k[g[O+2]]+k[g[O+3]]+"-"+k[g[O+4]]+k[g[O+5]]+"-"+k[g[O+6]]+k[g[O+7]]+"-"+k[g[O+8]]+k[g[O+9]]+"-"+k[g[O+10]]+k[g[O+11]]+k[g[O+12]]+k[g[O+13]]+k[g[O+14]]+k[g[O+15]]).toLowerCase()}(b)};var E=t(370),x=t.n(E);class T{static get toolbox(){return{title:"Toggle",icon:x()}}static get enableLineBreaks(){return!0}static get isReadOnlySupported(){return!0}constructor({data:h,api:f,readOnly:b,config:g}){this.data={text:h.text||"",status:h.status||"open",fk:h.fk||`fk-${S()}`,items:h.items||0},this.itemsId=[],this.api=f;let{toolbar:{close:O},blocks:{getCurrentBlockIndex:$,getBlockByIndex:z,getBlocksCount:G,move:re}}=this.api;this.close=O,this.getCurrentBlockIndex=$,this.getBlocksCount=G,this.getBlockByIndex=z,this.move=re,this.wrapper=void 0,this.readOnly=b||!1,this.placeholder=g?.placeholder??"Toggle",this.defaultContent=g?.defaultContent??"Empty toggle. Click or drop blocks inside.",this.addListeners(),this.addSupportForUndoAndRedoActions(),this.addSupportForDragAndDropActions(),this.addSupportForCopyAndPasteAction()}isAToggleItem(h){return h.classList.contains("toggle-block__item")}isAToggleRoot(h){return h.classList.contains("toggle-block__selector")||!!h.querySelector(".toggle-block__selector")}createParagraphFromToggleRoot(h){if(h.code==="Enter"){let f=document.getSelection().focusOffset,b=this.api.blocks.getCurrentBlockIndex(),g=this.api.blocks.getBlockByIndex(b),{holder:O}=g,$=O.firstChild.firstChild,z=$.children[1].innerHTML,G=z.indexOf("<br>"),re=G===-1?z.length:G;this.data.status==="closed"&&(this.resolveToggleAction(),this.hideAndShowBlocks());let ke=z.slice(re+4,f.focusOffset);$.children[1].innerHTML=z.slice(f.focusOffset,re),this.api.blocks.insert("paragraph",{text:ke},{},b+1,1),this.setAttributesToNewBlock()}}createParagraphFromIt(){this.setAttributesToNewBlock()}setAttributesToNewBlock(h=null,f=this.wrapper.id,b=null){let g=h===null?this.api.blocks.getCurrentBlockIndex():h,O=b||this.api.blocks.getBlockByIndex(g),$=S();this.itemsId.includes(O.id)||this.itemsId.splice(g-1,0,O.id);let{holder:z}=O,G=z.firstChild.firstChild;z.setAttribute("foreignKey",f),z.setAttribute("id",$),setTimeout(()=>z.classList.add("toggle-block__item")),this.readOnly||(z.onkeydown=this.setEventsToNestedBlock.bind(this),G.focus())}setEventsToNestedBlock(h){if(h.code==="Enter")setTimeout(()=>this.createParagraphFromIt());else{let f=this.getCurrentBlockIndex(),b=this.getBlockByIndex(f),{holder:g}=b;if(h.code==="Tab"&&h.shiftKey&&this.extractBlock(f),h.code==="Backspace"){let O=document.getSelection().focusOffset;this.removeBlock(g,b.id,O)}}}removeBlock(h,f,b){if(b===0){let g=this.itemsId.indexOf(f);this.itemsId.splice(g,1)}}removeAttributesFromNewBlock(h){let f=this.api.blocks.getBlockByIndex(h),{holder:b}=f;if(!this.itemsId.includes(f.id)){let g=this.itemsId.indexOf(f.id);this.itemsId.splice(g,1)}b.removeAttribute("foreignKey"),b.removeAttribute("id"),b.onkeydown={},b.onkeyup={},b.classList.remove("toggle-block__item")}createToggle(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("toggle-block__selector"),this.wrapper.id=this.data.fk;let h=document.createElement("span"),f=document.createElement("div"),b=document.createElement("div");h.classList.add("toggle-block__icon"),h.innerHTML=x(),f.classList.add("toggle-block__input"),f.setAttribute("contentEditable",!this.readOnly),f.innerHTML=this.data.text||"",this.readOnly||(f.addEventListener("keyup",this.createParagraphFromToggleRoot.bind(this)),f.addEventListener("keydown",this.removeToggle.bind(this)),f.addEventListener("focusin",()=>this.setFocusToggleRootAtTheEnd()),f.addEventListener("keyup",this.setPlaceHolder.bind(this)),f.setAttribute("placeholder",this.placeholder),f.addEventListener("focus",this.setDefaultContent.bind(this)),f.addEventListener("focusout",this.setDefaultContent.bind(this)),b.addEventListener("click",this.clickInDefaultContent.bind(this)),f.addEventListener("focus",this.setNestedBlockAttributes.bind(this))),b.classList.add("toggle-block__content-default","toggle-block__hidden"),b.innerHTML=this.defaultContent,this.wrapper.appendChild(h),this.wrapper.appendChild(f),this.wrapper.appendChild(b)}setFocusToggleRootAtTheEnd(){let h=document.activeElement,f=window.getSelection(),b=document.createRange();f.removeAllRanges(),b.selectNodeContents(h),b.collapse(!1),f.addRange(b),h.focus()}clickInDefaultContent(){this.api.blocks.insert(),this.setAttributesToNewBlock(),this.setDefaultContent()}setDefaultContent(){let h=document.querySelectorAll(`div[foreignKey="${this.wrapper.id}"]`),{firstChild:f,lastChild:b}=this.wrapper,{status:g}=this.data,O=h.length>0||g==="closed";b.classList.toggle("toggle-block__hidden",O),f.style.color=h.length===0?"gray":"black"}removeToggle(h){if(h.code==="Backspace"){let{children:f}=this.wrapper,b=f[1].innerHTML;if(document.getSelection().focusOffset===0){let g=this.api.blocks.getCurrentBlockIndex(),O=b.indexOf("<br>"),$=O===-1?b.length:O,z=document.querySelectorAll(`div[foreignKey="${this.wrapper.id}"]`);for(let G=1;G<z.length+1;G+=1)this.removeAttributesFromNewBlock(g+G);this.api.blocks.delete(g),this.api.blocks.insert("paragraph",{text:b.slice(0,$)},{},g,1),this.api.caret.setToBlock(g)}}}findToggleRootIndex(h,f){let b=this.getBlockByIndex(h),{holder:g}=b;return this.isAToggleRoot(g)&&f===g.querySelector(".toggle-block__selector").getAttribute("id")?h:h-1>=0?this.findToggleRootIndex(h-1,f):-1}extractBlock(h){let f=this.getBlockByIndex(h),{holder:b}=f;if(this.isAToggleItem(b)){let g=b.getAttribute("foreignKey"),O=this.findToggleRootIndex(h,g);if(O>=0){let $=this.getDescendantsNumber(g),z=O+$;$>1&&this.api.blocks.move(z,h),setTimeout(()=>this.removeAttributesFromNewBlock(z),200)}}this.api.caret.setToBlock(h),this.api.toolbar.close()}setPlaceHolder(h){if(h.code==="Backspace"||h.code==="Enter"){let{children:f}=this.wrapper,{length:b}=f[1].textContent;b===0&&(f[1].textContent="")}}render(){return this.createToggle(),setTimeout(()=>this.renderItems()),setTimeout(()=>this.setInitialTransition()),this.wrapper}setInitialTransition(){let{status:h}=this.data,f=this.wrapper.firstChild.firstChild;f.style.transition="0.1s",f.style.transform=`rotate(${h==="closed"?0:90}deg)`}renderItems(){let h=this.api.blocks.getBlocksCount(),f=this.wrapper.firstChild,b;if(this.readOnly){let g=document.getElementsByClassName("codex-editor__redactor")[0],{children:O}=g,{length:$}=O;for(let z=0;z<$;z+=1){let G=O[z].firstChild.firstChild,{id:re}=G;if(re===this.wrapper.id){b=z;break}}}else{let g=this.wrapper.children[1],O={},$=this.api.blocks.getCurrentBlockIndex(),z=$===h-1?-1:1;for(;O[1]!==g;){b=$;let G=this.api.blocks.getBlockByIndex(b);if(!G)break;let{holder:re}=G;O=re.firstChild.firstChild.children,$+=z}}if(b+this.data.items<h)for(let g=b+1,O=0;g<=b+this.data.items;g+=1){let $=this.api.blocks.getBlockByIndex(g),{holder:z}=$,G=z.firstChild.firstChild;if(this.isPartOfAToggle(G)){this.data.items=O;break}this.setAttributesToNewBlock(g),O+=1}else this.data.items=0;f.addEventListener("click",()=>{this.resolveToggleAction(),setTimeout(()=>{this.hideAndShowBlocks()})}),this.hideAndShowBlocks()}resolveToggleAction(){let h=this.wrapper.firstChild.firstChild;this.data.status==="closed"?(this.data.status="open",h.style.transform="rotate(90deg)"):(this.data.status="closed",h.style.transform="rotate(0deg)"),this.api.blocks.getBlockByIndex(this.api.blocks.getCurrentBlockIndex()).holder.setAttribute("status",this.data.status)}hideAndShowBlocks(h=this.wrapper.id,f=this.data.status){let b=document.querySelectorAll(`div[foreignKey="${h}"]`),{length:g}=b;if(g>0)b.forEach(O=>{O.hidden=f==="closed";let $=O.querySelectorAll(".toggle-block__selector");if($.length>0){let z=f==="closed"?f:O.getAttribute("status");this.hideAndShowBlocks($[0].getAttribute("id"),z)}});else if(h===this.wrapper.id){let{lastChild:O}=this.wrapper;O.classList.toggle("toggle-block__hidden",f)}}save(h){let f=h.getAttribute("id"),{children:b}=h,g=b[1].innerHTML,O=document.querySelectorAll(`div[foreignKey="${f}"]`);return this.data.fk=f,Object.assign(this.data,{text:g,items:O.length})}getDescendantsNumber(h){let f=0;return document.querySelectorAll(`div[foreignKey="${h}"]`).forEach(b=>{if(b.hasAttribute("status")){let g=b.querySelector(".toggle-block__selector").getAttribute("id");f+=this.getDescendantsNumber(g)}f+=1}),f}highlightToggleItems(h){document.querySelectorAll(`div[foreignKey="${h}"]`).forEach(f=>{if(f.classList.add("ce-block--selected"),f.hasAttribute("status")){let b=f.querySelector(".toggle-block__selector").getAttribute("id");this.highlightToggleItems(b)}})}renderSettings(){let h=document.getElementsByClassName("ce-settings")[0];return setTimeout(()=>{let f=h.lastChild,b=this.api.blocks.getCurrentBlockIndex();this.highlightToggleItems(this.wrapper.id);let g=f.querySelector('[data-item-name="move-up"]')||f.getElementsByClassName("ce-tune-move-up")[0],O=f.querySelector('[data-item-name="move-down"]')||f.getElementsByClassName("ce-tune-move-down")[0],$=f.querySelector('[data-item-name="delete"]')||f.getElementsByClassName("ce-settings__button--delete")[0];this.addEventsMoveButtons(O,0,b),this.addEventsMoveButtons(g,1,b),this.addEventDeleteButton($,b)}),document.createElement("div")}addEventsMoveButtons(h,f,b){h&&h.addEventListener("click",()=>{this.moveToggle(b,f)})}addEventDeleteButton(h,f){h&&h.addEventListener("click",()=>{let b=h.classList;Object.values(b).indexOf("clicked-to-destroy-toggle")===-1?h.classList.add("clicked-to-destroy-toggle"):this.removeFullToggle(f)})}moveToggle(h,f){if(!this.readOnly){this.close();let b=this.getCurrentBlockIndex(),g=this.getDescendantsNumber(this.wrapper.id),O=this.getBlocksCount(),$=h+g;this.move(h,b),h>=0&&$<=O-1&&(f===0?this.moveDown(h,$):this.moveUp(h,$))}}moveDown(h,f){let b=f+1,g=this.getBlockByIndex(b),{holder:O}=g;if(this.move(h,b),g.name==="toggle"){let $=O.querySelector(".toggle-block__selector").getAttribute("id"),z=this.getDescendantsNumber($);this.moveDescendants(z,h+1,b+1,0)}}moveUp(h,f){let b=h-1,g=this.getBlockByIndex(b);if(g.name==="toggle")return;let{holder:O}=g;if(O.hasAttribute("foreignKey")){let $=this.getBlockByIndex(h).holder.getAttribute("foreignKey"),z=O.getAttribute("foreignKey");if(z!==$){let G=this.findIndexOfParentBlock($,z,h),re=this.getBlockByIndex(G).holder.querySelector(".toggle-block__selector").getAttribute("id"),ke=this.getDescendantsNumber(re);return this.move(f,G),void this.moveDescendants(ke,f,G,1)}}this.move(f,b)}findIndexOfParentBlock(h,f,b){let g=b-(this.getDescendantsNumber(f)+1),O=this.getBlockByIndex(g).holder;if(O.hasAttribute("foreignKey")){let $=O.getAttribute("foreignKey");if($!==h){let z=this.getBlockByIndex(g-1).holder;if(z.hasAttribute("foreignKey")){let G=z.getAttribute("foreignKey");if(G!==$)return this.findIndexOfParentBlock(h,G,g)}}}return g}moveDescendants(h,f,b,g){let O=b,$=f;for(;h;)this.move($,O),g===0&&(O+=1,$+=1),h-=1}removeFullToggle(h){let f=document.querySelectorAll(`div[foreignKey="${this.wrapper.id}"]`),{length:b}=f;for(let g=h;g<h+b;g+=1)setTimeout(()=>this.api.blocks.delete(h))}addListeners(){this.readOnly||document.activeElement.addEventListener("keyup",h=>{let f=document.activeElement,b=this.getCurrentBlockIndex(),{holder:g}=this.getBlockByIndex(b);h.code==="Space"?this.createToggleWithShortcut(f):b>0&&!this.isPartOfAToggle(g)&&h.code==="Tab"&&this.nestBlock(g)})}addSupportForUndoAndRedoActions(){if(!this.readOnly){let h=document.querySelector("div.codex-editor__redactor"),f={attributes:!0,childList:!0,characterData:!0};new MutationObserver(b=>{b.forEach(g=>{g.type==="childList"&&setTimeout(this.restoreItemAttributes.bind(this,g))})}).observe(h,f)}}getIndex=h=>Array.from(h.parentNode.children).indexOf(h);isChild=(h,f)=>!(!h||!f)&&(h===f||[...document.querySelectorAll(`div[foreignKey="${h}"]`)].some(b=>{let g=b.querySelector(".toggle-block__selector");return!!g&&this.isChild(g.getAttribute("id"),f)}));addSupportForDragAndDropActions(){if(!this.readOnly){if(this.wrapper===void 0)return void setTimeout(()=>this.addSupportForDragAndDropActions(),250);document.querySelector(`#${this.wrapper.id}`).parentNode.parentNode.setAttribute("status",this.data.status);let h=document.querySelector(".ce-toolbar__settings-btn");h.setAttribute("draggable","true"),h.addEventListener("dragstart",()=>{this.startBlock=this.api.blocks.getCurrentBlockIndex(),this.nameDragged=this.api.blocks.getBlockByIndex(this.startBlock).name,this.holderDragged=this.api.blocks.getBlockByIndex(this.startBlock).holder}),document.addEventListener("drop",f=>{let{target:b}=f;if(document.contains(b)){let g=b.classList.contains("ce-block")?b:b.closest(".ce-block");if(g&&g!==this.holderDragged){let O=this.getIndex(g);O=this.startBlock<O?O+1:O;let $=g.querySelectorAll(".toggle-block__selector").length>0||g.getAttribute("foreignKey")!==null;setTimeout(()=>{if(this.nameDragged==="toggle"){let z=this.holderDragged.querySelector(`#${this.wrapper.id}`);if(z)if(this.isChild(z.getAttribute("id"),g.getAttribute("foreignKey"))){if(this.startBlock===O?this.api.blocks.move(this.startBlock+1,O):this.api.blocks.move(this.startBlock,O),!$){let G=this.getIndex(this.holderDragged);this.removeAttributesFromNewBlock(G)}}else this.assignToggleItemAttributes($,g),this.moveChildren(O)}else this.nameDragged&&this.assignToggleItemAttributes($,g);if(!$){let z=this.getIndex(this.holderDragged);this.removeAttributesFromNewBlock(z)}})}}})}}assignToggleItemAttributes(h,f){if(h){let b=f.getAttribute("foreignKey")??f.querySelector(".toggle-block__selector").getAttribute("id"),g=this.getIndex(this.holderDragged);this.setAttributesToNewBlock(g,b)}}moveChildren(h,f=this.wrapper.id){let b=document.querySelectorAll(`div[foreignKey="${f}"]`);b=this.startBlock>=h?[...b].reverse():b,b.forEach(g=>{let O=this.getIndex(g);this.api.blocks.move(h,O);let $=g.querySelectorAll(".toggle-block__selector");if($.length>0){let z=this.getIndex(g),G=this.startBlock<h?0:1;$.forEach(ke=>this.moveChildren(z+G,ke.getAttribute("id")));let re=Math.abs(h-z);h=this.startBlock<h?h+re:h-re}})}restoreItemAttributes(h){if(this.wrapper!==void 0){let f=this.api.blocks.getCurrentBlockIndex(),b=this.api.blocks.getBlockByIndex(f),{holder:g}=b,O=!this.isPartOfAToggle(g),{length:$}=this.itemsId,{length:z}=document.querySelectorAll(`div[foreignKey="${this.data.fk}"]`);if(this.itemsId.includes(b.id)&&O)this.setAttributesToNewBlock(f);else if(h.addedNodes[0]&&h?.previousSibling&&this.isPartOfAToggle(h.previousSibling)&&!this.isPartOfAToggle(h.addedNodes[0])&&$>z){let{id:G}=h.addedNodes[0],re=this.api.blocks.getById(G);this.setAttributesToNewBlock(null,this.wrapper.id,re),this.itemsId[f]=b.id}}}createToggleWithShortcut(h){let f=h.textContent;if(f[0]===">"&&!this.isPartOfAToggle(h)){let b=this.api.blocks.getCurrentBlockIndex();this.api.blocks.insert("toggle",{text:f.slice(2)},this.api,b,!0),this.api.blocks.delete(b+1),this.api.caret.setToBlock(b)}}nestBlock(h){let f=h.previousElementSibling,b=f.firstChild.firstChild;if(this.isPartOfAToggle(b)||this.isPartOfAToggle(f)){let g=f.getAttribute("foreignKey"),O=b.getAttribute("id"),$=g||O;h.setAttribute("will-be-a-nested-block",!0),document.getElementById($).children[1].focus()}}setNestedBlockAttributes(){let h=this.api.blocks.getCurrentBlockIndex(),f=this.api.blocks.getBlockByIndex(h),{holder:b}=f;b.getAttribute("will-be-a-nested-block")&&(b.removeAttribute("will-be-a-nested-block"),this.setAttributesToNewBlock(h),this.api.toolbar.close())}isPartOfAToggle(h){let f=Array.from(h.classList),b=["toggle-block__item","toggle-block__input","toggle-block__selector"],g=b.some(O=>h.getElementsByClassName(O).length!==0);return b.some(O=>f.includes(O))||g}addSupportForCopyAndPasteAction(){if(!this.readOnly){let h=document.querySelector("div.codex-editor__redactor"),f={attributes:!0,childList:!0,characterData:!0};new MutationObserver(b=>{b.forEach(g=>{g.type==="childList"&&setTimeout(this.resetIdToCopiedBlock.bind(this,g))})}).observe(h,f)}}resetIdToCopiedBlock(){if(this.wrapper!==void 0){let h=this.api.blocks.getCurrentBlockIndex(),{holder:f}=this.api.blocks.getBlockByIndex(h);if(this.isPartOfAToggle(f)){let b=f.getAttribute("foreignKey");if(document.querySelectorAll(`#${b}`).length>1){let g=this.findToggleRootIndex(h,b),O=S();for(let $=g;$<=h;$+=1){let z=this.api.blocks.getBlockByIndex($),{holder:G}=z;$===g?G.firstChild.firstChild.setAttribute("id",`fk-${O}`):G.setAttribute("foreignKey",`fk-${O}`)}}}}}}})(),o.default})())});var vs=class n{constructor(e){this.http=e}Get(e){return this.http.get(`${qe.baseUrl}/Editor/GetPadding/${e}`)}Add(e){return this.http.post(`${qe.baseUrl}/Editor`,e)}GetById(e){return this.http.get(`${qe.baseUrl}/Editor/${e}`)}Delete(e){return this.http.delete(`${qe.baseUrl}/Editor/${e}`)}Update(e){return e.forEach((t,o)=>{console.log(`${o}:`,t)}),this.http.put(`${qe.baseUrl}/Editor`,e)}GetPostCount(){return this.http.get(`${qe.baseUrl}/Editor/PostsCount`)}static \u0275fac=function(t){return new(t||n)(ms(bs))};static \u0275prov=fs({token:n,factory:n.\u0275fac,providedIn:"root"})};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-hint--align-start{text-align:left}.ce-hint--align-center{text-align:center}.ce-hint__description{opacity:.6;margin-top:3px}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xt(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Pl(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var i=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:function(){return n[o]}})}),t}function jn(){}Object.assign(jn,{default:jn,register:jn,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(n){let e=(this.document||this.ownerDocument).querySelectorAll(n),t=e.length;for(;--t>=0&&e.item(t)!==this;);return t>-1});Element.prototype.closest||(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(n){let e=document.createDocumentFragment();Array.isArray(n)||(n=[n]),n.forEach(t=>{let o=t instanceof Node;e.appendChild(o?t:document.createTextNode(t))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(n){n=arguments.length===0?!0:!!n;let e=this.parentNode,t=window.getComputedStyle(e,null),o=parseInt(t.getPropertyValue("border-top-width")),i=parseInt(t.getPropertyValue("border-left-width")),r=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-o>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-i>e.scrollLeft+e.clientWidth,c=r&&!s;(r||s)&&n&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-o+this.clientHeight/2),(a||l)&&n&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-i+this.clientWidth/2),(r||s||a||l)&&!n&&this.scrollIntoView(c)});window.requestIdleCallback=window.requestIdleCallback||function(n){let e=Date.now();return setTimeout(function(){n({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(n){clearTimeout(n)};var Nl=(n=21)=>crypto.getRandomValues(new Uint8Array(n)).reduce((e,t)=>(t&=63,t<36?e+=t.toString(36):t<62?e+=(t-26).toString(36).toUpperCase():t>62?e+="-":e+="_",e),""),Ms=(n=>(n.VERBOSE="VERBOSE",n.INFO="INFO",n.WARN="WARN",n.ERROR="ERROR",n))(Ms||{}),Z={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},jl={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Ct(n,e,t="log",o,i="color: inherit"){if(!("console"in window)||!window.console[t])return;let r=["info","log","warn","error"].includes(t),s=[];switch(Ct.logLevel){case"ERROR":if(t!=="error")return;break;case"WARN":if(!["error","warn"].includes(t))return;break;case"INFO":if(!r||n)return;break}o&&s.push(o);let a="Editor.js 2.31.0-rc.7";n&&(r?(s.unshift(`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`,i),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{r?o?console[t](`${e} %o`,...s):console[t](e,...s):console[t](e)}catch{}}Ct.logLevel="VERBOSE";function Dl(n){Ct.logLevel=n}var ie=Ct.bind(window,!1),Oe=Ct.bind(window,!0);function Ye(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function de(n){return Ye(n)==="function"||Ye(n)==="asyncfunction"}function ge(n){return Ye(n)==="object"}function De(n){return Ye(n)==="string"}function Rl(n){return Ye(n)==="boolean"}function ys(n){return Ye(n)==="number"}function ks(n){return Ye(n)==="undefined"}function Be(n){return n?Object.keys(n).length===0&&n.constructor===Object:!0}function Ps(n){return n>47&&n<58||n===32||n===13||n===229||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223}function Fl(n,e=()=>{},t=()=>{}){return q(this,null,function*(){function o(i,r,s){return q(this,null,function*(){try{yield i.function(i.data),yield r(ks(i.data)?{}:i.data)}catch{s(ks(i.data)?{}:i.data)}})}return n.reduce((i,r)=>q(null,null,function*(){return yield i,o(r,e,t)}),Promise.resolve())})}function Ns(n){return Array.prototype.slice.call(n)}function Dt(n,e){return function(){let t=this,o=arguments;window.setTimeout(()=>n.apply(t,o),e)}}function Hl(n){return n.name.split(".").pop()}function $l(n){return/^[-\w]+\/([-+\w]+|\*)$/.test(n)}function ws(n,e,t){let o;return(...i)=>{let r=this,s=()=>{o=null,t||n.apply(r,i)},a=t&&!o;window.clearTimeout(o),o=window.setTimeout(s,e),a&&n.apply(r,i)}}function zn(n,e,t=void 0){let o,i,r,s=null,a=0;t||(t={});let l=function(){a=t.leading===!1?0:Date.now(),s=null,r=n.apply(o,i),s||(o=i=null)};return function(){let c=Date.now();!a&&t.leading===!1&&(a=c);let d=e-(c-a);return o=this,i=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),a=c,r=n.apply(o,i),s||(o=i=null)):!s&&t.trailing!==!1&&(s=setTimeout(l,d)),r}}function Ul(){let n={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(n).find(t=>window.navigator.appVersion.toLowerCase().indexOf(t)!==-1);return e&&(n[e]=!0),n}function Rt(n){return n[0].toUpperCase()+n.slice(1)}function Wn(n,...e){if(!e.length)return n;let t=e.shift();if(ge(n)&&ge(t))for(let o in t)ge(t[o])?(n[o]||Object.assign(n,{[o]:{}}),Wn(n[o],t[o])):Object.assign(n,{[o]:t[o]});return Wn(n,...e)}function zo(n){let e=Ul();return n=n.replace(/shift/gi,"\u21E7").replace(/backspace/gi,"\u232B").replace(/enter/gi,"\u23CE").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238B").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi," + "),e.mac?n=n.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):n=n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),n}function zl(n){try{return new URL(n).href}catch{}return n.substring(0,2)==="//"?window.location.protocol+n:window.location.origin+n}function Wl(){return Nl(10)}function ql(n){window.open(n,"_blank")}function Kl(n=""){return`${n}${Math.floor(Math.random()*1e8).toString(16)}`}function qn(n,e,t){let o=`\xAB${e}\xBB is deprecated and will be removed in the next major release. Please use the \xAB${t}\xBB instead.`;n&&Oe(o,"warn")}function lt(n,e,t){let o=t.value?"value":"get",i=t[o],r=`#${e}Cache`;if(t[o]=function(...s){return this[r]===void 0&&(this[r]=i.apply(this,...s)),this[r]},o==="get"&&t.set){let s=t.set;t.set=function(a){delete n[r],s.apply(this,a)}}return t}var js=650;function ct(){return window.matchMedia(`(max-width: ${js}px)`).matches}var Kn=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function Yl(n,e){let t=Array.isArray(n)||ge(n),o=Array.isArray(e)||ge(e);return t||o?JSON.stringify(n)===JSON.stringify(e):n===e}var C=class n{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,t=null,o={}){let i=document.createElement(e);if(Array.isArray(t)){let r=t.filter(s=>s!==void 0);i.classList.add(...r)}else t&&i.classList.add(t);for(let r in o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o[r]);return i}static text(e){return document.createTextNode(e)}static append(e,t){Array.isArray(t)?t.forEach(o=>e.appendChild(o)):e.appendChild(t)}static prepend(e,t){Array.isArray(t)?(t=t.reverse(),t.forEach(o=>e.prepend(o))):e.prepend(t)}static swap(e,t){let o=document.createElement("div"),i=e.parentNode;i.insertBefore(o,e),i.insertBefore(e,t),i.insertBefore(t,o),i.removeChild(o)}static find(e=document,t){return e.querySelector(t)}static get(e){return document.getElementById(e)}static findAll(e=document,t){return e.querySelectorAll(t)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return Ns(e.querySelectorAll(n.allInputsSelector)).reduce((t,o)=>n.isNativeInput(o)||n.containsOnlyInlineElements(o)?[...t,o]:[...t,...n.getDeepestBlockElements(o)],[])}static getDeepestNode(e,t=!1){let o=t?"lastChild":"firstChild",i=t?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[o]){let r=e[o];if(n.isSingleTag(r)&&!n.isNativeInput(r)&&!n.isLineBreakTag(r))if(r[i])r=r[i];else if(r.parentNode[i])r=r.parentNode[i];else return r.parentNode;return this.getDeepestNode(r,t)}return e}static isElement(e){return ys(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return ys(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){let t=["INPUT","TEXTAREA"];return e&&e.tagName?t.includes(e.tagName):!1}static canSetCaret(e){let t=!0;if(n.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":t=!1;break}else t=n.isContentEditable(e);return t}static isNodeEmpty(e,t){let o;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?o=e.value:o=e.textContent.replace("\u200B",""),t&&(o=o.replace(new RegExp(t,"g"),"")),o.length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e,t){let o=[e];for(;o.length>0;)if(e=o.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e,t))return!1;e.childNodes&&o.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){let t=n.make("div");return t.innerHTML=e,t.childElementCount>0}static getContentLength(e){return n.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let t;De(e)?(t=document.createElement("div"),t.innerHTML=e):t=e;let o=i=>!n.blockElements.includes(i.tagName.toLowerCase())&&Array.from(i.children).every(o);return Array.from(t.children).every(o)}static getDeepestBlockElements(e){return n.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((t,o)=>[...t,...n.getDeepestBlockElements(o)],[])}static getHolder(e){return De(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){let t=e.getBoundingClientRect(),o=window.pageXOffset||document.documentElement.scrollLeft,i=window.pageYOffset||document.documentElement.scrollTop,r=t.top+i,s=t.left+o;return{top:r,left:s,bottom:r+t.height,right:s+t.width}}};function Gl(n){return!/[^\t\n\r ]/.test(n)}function Xl(n){let e=window.getComputedStyle(n),t=parseFloat(e.fontSize),o=parseFloat(e.lineHeight)||t*1.2,i=parseFloat(e.paddingTop),r=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=t*.8,l=(o-t)/2;return s+r+i+l+a}function Ds(n){n.dataset.empty=C.isEmpty(n)?"true":"false"}var Vl={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":"","Convert to":""}},Zl={Text:"",Link:"",Bold:"",Italic:""},Jl={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},Ql={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},Rs={ui:Vl,toolNames:Zl,tools:Jl,blockTunes:Ql},Fs=class ot{static ui(e,t){return ot._t(e,t)}static t(e,t){return ot._t(e,t)}static setDictionary(e){ot.currentDictionary=e}static _t(e,t){let o=ot.getNamespace(e);return!o||!o[t]?t:o[t]}static getNamespace(e){return e.split(".").reduce((t,o)=>!t||!Object.keys(t).length?{}:t[o],ot.currentDictionary)}};Fs.currentDictionary=Rs;var ye=Fs,Ft=class extends Error{},Ge=class{constructor(){this.subscribers={}}on(e,t){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(t)}once(e,t){e in this.subscribers||(this.subscribers[e]=[]);let o=i=>{let r=t(i),s=this.subscribers[e].indexOf(o);return s!==-1&&this.subscribers[e].splice(s,1),r};this.subscribers[e].push(o)}emit(e,t){Be(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((o,i)=>{let r=i(o);return r!==void 0?r:o},t)}off(e,t){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let o=0;o<this.subscribers[e].length;o++)if(this.subscribers[e][o]===t){delete this.subscribers[e][o];break}}destroy(){this.subscribers={}}};function Pe(n){Object.setPrototypeOf(this,{get id(){return n.id},get name(){return n.name},get config(){return n.config},get holder(){return n.holder},get isEmpty(){return n.isEmpty},get selected(){return n.selected},set stretched(e){n.stretched=e},get stretched(){return n.stretched},get focusable(){return n.focusable},call(e,t){return n.call(e,t)},save(){return n.save()},validate(e){return n.validate(e)},dispatchChange(){n.dispatchChange()},getActiveToolboxEntry(){return n.getActiveToolboxEntry()}})}var Xe=class{constructor(){this.allListeners=[]}on(e,t,o,i=!1){let r=Kl("l"),s={id:r,element:e,eventType:t,handler:o,options:i};if(!this.findOne(e,t,o))return this.allListeners.push(s),e.addEventListener(t,o,i),r}off(e,t,o,i){let r=this.findAll(e,t,o);r.forEach((s,a)=>{let l=this.allListeners.indexOf(r[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){let t=this.findById(e);t&&t.element.removeEventListener(t.eventType,t.handler,t.options)}findOne(e,t,o){let i=this.findAll(e,t,o);return i.length>0?i[0]:null}findAll(e,t,o){let i,r=e?this.findByEventTarget(e):[];return e&&t&&o?i=r.filter(s=>s.eventType===t&&s.handler===o):e&&t?i=r.filter(s=>s.eventType===t):i=r,i}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(t=>{if(t.element===e)return t})}findByType(e){return this.allListeners.filter(t=>{if(t.eventType===e)return t})}findByHandler(e){return this.allListeners.filter(t=>{if(t.handler===e)return t})}findById(e){return this.allListeners.find(t=>t.id===e)}},te=class n{constructor({config:e,eventsDispatcher:t}){if(this.nodes={},this.listeners=new Xe,this.readOnlyMutableListeners={on:(o,i,r,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(o,i,r,s))},clearAll:()=>{for(let o of this.mutableListenerIds)this.listeners.offById(o);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===n)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=t}set state(e){this.Editor=e}removeAllNodes(){for(let e in this.nodes){let t=this.nodes[e];t instanceof HTMLElement&&t.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}},Y=class n{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){let e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){let e=window.getSelection();if(!e)return null;let t=e.anchorNode;return t?C.isElement(t)?t:t.parentElement:null}static get anchorOffset(){let e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){let e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(n.get())}static isSelectionAtEditor(e){if(!e)return!1;let t=e.anchorNode||e.focusNode;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let o=null;return t&&t instanceof Element&&(o=t.closest(`.${n.CSS.editorZone}`)),o?o.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let t=e.startContainer;t&&t.nodeType===Node.TEXT_NODE&&(t=t.parentNode);let o=null;return t&&t instanceof Element&&(o=t.closest(`.${n.CSS.editorZone}`)),o?o.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!n.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,t,o={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,t=e.createRange(),o.x=t.boundingLeft,o.y=t.boundingTop,o.width=t.boundingWidth,o.height=t.boundingHeight,o;if(!window.getSelection)return ie("Method window.getSelection is not supported","warn"),o;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return ie("Method SelectionUtils.rangeCount is not supported","warn"),o;if(e.rangeCount===0)return o;if(t=e.getRangeAt(0).cloneRange(),t.getBoundingClientRect&&(o=t.getBoundingClientRect()),o.x===0&&o.y===0){let i=document.createElement("span");if(i.getBoundingClientRect){i.appendChild(document.createTextNode("\u200B")),t.insertNode(i),o=i.getBoundingClientRect();let r=i.parentNode;r.removeChild(i),r.normalize()}}return o}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,t=0){let o=document.createRange(),i=window.getSelection();return C.isNativeInput(e)?C.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=t,e.getBoundingClientRect()):void 0:(o.setStart(e,t),o.setEnd(e,t),i.removeAllRanges(),i.addRange(o),o.getBoundingClientRect())}static isRangeInsideContainer(e){let t=n.range;return t===null?!1:e.contains(t.startContainer)}static addFakeCursor(){let e=n.range;if(e===null)return;let t=C.make("span","codex-editor__fake-cursor");t.dataset.mutationFree="true",e.collapse(),e.insertNode(t)}static isFakeCursorInsideContainer(e){return C.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){let t=C.find(e,".codex-editor__fake-cursor");t&&t.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=n.range}restore(){if(!this.savedSelectionRange)return;let e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){let e=window.getSelection(),t=document.createRange();t.selectNodeContents(e.focusNode),t.collapse(!1),e.removeAllRanges(),e.addRange(t)}findParentTag(e,t,o=10){let i=window.getSelection(),r=null;return!i||!i.anchorNode||!i.focusNode?null:([i.anchorNode,i.focusNode].forEach(s=>{let a=o;for(;a>0&&s.parentNode&&!(s.tagName===e&&(r=s,t&&s.classList&&!s.classList.contains(t)&&(r=null),r));)s=s.parentNode,a--}),r)}expandToTag(e){let t=window.getSelection();t.removeAllRanges();let o=document.createRange();o.selectNodeContents(e),t.addRange(o)}};function ec(n,e){let{type:t,target:o,addedNodes:i,removedNodes:r}=n;return n.type==="attributes"&&n.attributeName==="data-empty"?!1:!!(e.contains(o)||t==="childList"&&(Array.from(i).some(s=>s===e)||Array.from(r).some(s=>s===e)))}var Yn="redactor dom changed",Hs="block changed",$s="fake cursor is about to be toggled",Us="fake cursor have been set",kt="editor mobile layout toggled";function Gn(n,e){if(!n.conversionConfig)return!1;let t=n.conversionConfig[e];return de(t)||De(t)}function Ht(n,e){return Gn(n.tool,e)}function zs(n,e){return Object.entries(n).some(([t,o])=>e[t]&&Yl(e[t],o))}function Ws(n,e){return q(this,null,function*(){let t=(yield n.save()).data,o=e.find(i=>i.name===n.name);return o!==void 0&&!Gn(o,"export")?[]:e.reduce((i,r)=>{if(!Gn(r,"import")||r.toolbox===void 0)return i;let s=r.toolbox.filter(a=>{if(Be(a)||a.icon===void 0)return!1;if(a.data!==void 0){if(zs(a.data,t))return!1}else if(r.name===n.name)return!1;return!0});return i.push(we(se({},r),{toolbox:s})),i},[])})}function xs(n,e){return n.mergeable?n.name===e.name?!0:Ht(e,"export")&&Ht(n,"import"):!1}function tc(n,e){let t=e?.export;return de(t)?t(n):De(t)?n[t]:(t!==void 0&&ie("Conversion \xABexport\xBB property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function Es(n,e,t){let o=e?.import;return de(o)?o(n,t):De(o)?{[o]:n}:(o!==void 0&&ie("Conversion \xABimport\xBB property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var ce=(n=>(n.Default="default",n.Separator="separator",n.Html="html",n))(ce||{}),Ne=(n=>(n.APPEND_CALLBACK="appendCallback",n.RENDERED="rendered",n.MOVED="moved",n.UPDATED="updated",n.REMOVED="removed",n.ON_PASTE="onPaste",n))(Ne||{}),_e=class n extends Ge{constructor({id:e=Wl(),data:t,tool:o,readOnly:i,tunesData:r},s){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(a=void 0)=>{let l=a===void 0,c=a instanceof InputEvent;!l&&!c&&this.detectToolRootChange(a);let d;l||c?d=!0:d=!(a.length>0&&a.every(u=>{let{addedNodes:p,removedNodes:v,target:m}=u;return[...Array.from(p),...Array.from(v),m].some(_=>(C.isElement(_)||(_=_.parentElement),_&&_.closest('[data-mutation-free="true"]')!==null))})),d&&(this.dropInputsCache(),this.updateCurrentInput(),this.toggleInputsEmptyMark(),this.call("updated"),this.emit("didMutated",this))},this.name=o.name,this.id=e,this.settings=o.settings,this.config=o.settings.config||{},this.editorEventBus=s||null,this.blockAPI=new Pe(this),this.tool=o,this.toolInstance=o.create(t,this.blockAPI,i),this.tunes=o.tunes,this.composeTunes(r),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents(),this.toggleInputsEmptyMark()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;let e=C.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){let t=this.inputs.findIndex(o=>o===e||o.contains(e));t!==-1&&(this.inputIndex=t)}get firstInput(){return this.inputs[0]}get lastInput(){let e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!Be(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return de(this.toolInstance.merge)}get focusable(){return this.inputs.length!==0}get isEmpty(){let e=C.isEmpty(this.pluginsContent,"/"),t=!this.hasMedia;return e&&t}get hasMedia(){let e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set selected(e){var t,o;this.holder.classList.toggle(n.CSS.selected,e);let i=e===!0&&Y.isRangeInsideContainer(this.holder),r=e===!1&&Y.isFakeCursorInsideContainer(this.holder);(i||r)&&((t=this.editorEventBus)==null||t.emit($s,{state:e}),i?Y.addFakeCursor():Y.removeFakeCursor(this.holder),(o=this.editorEventBus)==null||o.emit(Us,{state:e}))}get selected(){return this.holder.classList.contains(n.CSS.selected)}set stretched(e){this.holder.classList.toggle(n.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(n.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(n.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,t){if(de(this.toolInstance[e])){e==="appendCallback"&&ie("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,t)}catch(o){ie(`Error during '${e}' call: ${o.message}`,"error")}}}mergeWith(e){return q(this,null,function*(){yield this.toolInstance.merge(e)})}save(){return q(this,null,function*(){let e=yield this.toolInstance.save(this.pluginsContent),t=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([r,s])=>{if(de(s.save))try{t[r]=s.save()}catch(a){ie(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});let o=window.performance.now(),i;return Promise.resolve(e).then(r=>(i=window.performance.now(),{id:this.id,tool:this.name,data:r,tunes:t,time:i-o})).catch(r=>{ie(`Saving process for ${this.name} tool failed due to the ${r}`,"log","red")})})}validate(e){return q(this,null,function*(){let t=!0;return this.toolInstance.validate instanceof Function&&(t=yield this.toolInstance.validate(e)),t})}getTunes(){let e=[],t=[],o=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[];return C.isElement(o)?e.push({type:ce.Html,element:o}):Array.isArray(o)?e.push(...o):e.push(o),[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(i=>i.render()).forEach(i=>{C.isElement(i)?t.push({type:ce.Html,element:i}):Array.isArray(i)?t.push(...i):t.push(i)}),{toolTunes:e,commonTunes:t}}updateCurrentInput(){this.currentInput=C.isNativeInput(document.activeElement)||!Y.anchorNode?document.activeElement:Y.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),de(this.toolInstance.destroy)&&this.toolInstance.destroy()}getActiveToolboxEntry(){return q(this,null,function*(){let e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);let t=yield this.data,o=e;return o?.find(i=>zs(i.data,t))})}exportDataAsString(){return q(this,null,function*(){let e=yield this.data;return tc(e,this.tool.conversionConfig)})}compose(){let e=C.make("div",n.CSS.wrapper),t=C.make("div",n.CSS.content),o=this.toolInstance.render();e.setAttribute("data-cy","block-wrapper"),e.dataset.id=this.id,this.toolRenderedElement=o,t.appendChild(this.toolRenderedElement);let i=t;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(r=>{if(de(r.wrap))try{i=r.wrap(i)}catch(s){ie(`Tune ${r.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(i),e}composeTunes(e){Array.from(this.tunes.values()).forEach(t=>{(t.isInternal?this.defaultTunesInstances:this.tunesInstances).set(t.name,t.create(e[t.name],this.blockAPI))}),Object.entries(e).forEach(([t,o])=>{this.tunesInstances.has(t)||(this.unavailableTunesData[t]=o)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),C.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),C.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=t=>{let{mutations:o}=t;o.some(i=>ec(i,this.toolRenderedElement))&&this.didMutated(o)},(e=this.editorEventBus)==null||e.on(Yn,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Yn,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(t=>{if(Array.from(t.removedNodes).includes(this.toolRenderedElement)){let o=t.addedNodes[t.addedNodes.length-1];this.toolRenderedElement=o}})}dropInputsCache(){this.cachedInputs=[]}toggleInputsEmptyMark(){this.inputs.forEach(Ds)}},Xn=class extends te{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,t={},o={},i,r,s,a)=>{let l=this.Editor.BlockManager.insert({id:a,tool:e,data:t,index:i,needToFocus:r,replace:s});return new Pe(l)},this.composeBlockData=e=>q(this,null,function*(){let t=this.Editor.Tools.blockTools.get(e);return new _e({tool:t,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data}),this.update=(e,t,o)=>q(this,null,function*(){let{BlockManager:i}=this.Editor,r=i.getBlockById(e);if(r===void 0)throw new Error(`Block with id "${e}" not found`);let s=yield i.update(r,t,o);return new Pe(s)}),this.convert=(e,t,o)=>q(this,null,function*(){var i,r;let{BlockManager:s,Tools:a}=this.Editor,l=s.getBlockById(e);if(!l)throw new Error(`Block with id "${e}" not found`);let c=a.blockTools.get(l.name),d=a.blockTools.get(t);if(!d)throw new Error(`Block Tool with type "${t}" not found`);let u=((i=c?.conversionConfig)==null?void 0:i.export)!==void 0,p=((r=d.conversionConfig)==null?void 0:r.import)!==void 0;if(u&&p){let v=yield s.convert(l,t,o);return new Pe(v)}else{let v=[u?!1:Rt(l.name),p?!1:Rt(t)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${l.name}" to "${t}" is not possible. ${v} tool(s) should provide a "conversionConfig"`)}}),this.insertMany=(e,t=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(t);let o=e.map(({id:i,type:r,data:s})=>this.Editor.BlockManager.composeBlock({id:i,tool:r||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(o,t),o.map(i=>new Pe(i))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,t)=>this.swap(e,t),move:(e,t)=>this.move(e,t),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),getBlockByElement:e=>this.getBlockByElement(e),stretchBlock:(e,t=!0)=>this.stretchBlock(e,t),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){let t=this.Editor.BlockManager.getBlockById(e);if(!t){Oe("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(t)}getBlockByIndex(e){let t=this.Editor.BlockManager.getBlockByIndex(e);if(t===void 0){Oe("There is no block at index `"+e+"`","warn");return}return new Pe(t)}getById(e){let t=this.Editor.BlockManager.getBlockById(e);return t===void 0?(Oe("There is no block with id `"+e+"`","warn"),null):new Pe(t)}getBlockByElement(e){let t=this.Editor.BlockManager.getBlock(e);if(t===void 0){Oe("There is no block corresponding to element `"+e+"`","warn");return}return new Pe(t)}swap(e,t){ie("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,t)}move(e,t){this.Editor.BlockManager.move(e,t)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{let t=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(t)}catch(t){Oe(t,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}clear(){return q(this,null,function*(){yield this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()})}render(e){return q(this,null,function*(){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),yield this.Editor.BlockManager.clear(),yield this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()})}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,t=!0){qn(!0,"blocks.stretchBlock()","BlockAPI");let o=this.Editor.BlockManager.getBlockByIndex(e);o&&(o.stretched=t)}insertNewBlock(){ie("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}};function nc(n,e){return typeof n=="number"?e.BlockManager.getBlockByIndex(n):typeof n=="string"?e.BlockManager.getBlockById(n):e.BlockManager.getBlockById(n.id)}var Vn=class extends te{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,t),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,t),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,t),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,t=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,t),!0):!1,this.setToBlock=(e,t=this.Editor.Caret.positions.DEFAULT,o=0)=>{let i=nc(e,this.Editor);return i===void 0?!1:(this.Editor.Caret.setToBlock(i,t,o),!0)},this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}},Zn=class extends te{get methods(){return{emit:(e,t)=>this.emit(e,t),off:(e,t)=>this.off(e,t),on:(e,t)=>this.on(e,t)}}on(e,t){this.eventsDispatcher.on(e,t)}emit(e,t){this.eventsDispatcher.emit(e,t)}off(e,t){this.eventsDispatcher.off(e,t)}},Jn=class n extends te{static getNamespace(e,t){return t?`blockTunes.${e}`:`tools.${e}`}get methods(){return{t:()=>{Oe("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e,t){return Object.assign(this.methods,{t:o=>ye.t(n.getNamespace(e,t),o)})}},Qn=class extends te{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,tools:this.Editor.ToolsAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e,t){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e,t)})}},eo=class extends te{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}},to=class extends te{get methods(){return{on:(e,t,o,i)=>this.on(e,t,o,i),off:(e,t,o,i)=>this.off(e,t,o,i),offById:e=>this.offById(e)}}on(e,t,o,i){return this.listeners.on(e,t,o,i)}off(e,t,o,i){this.listeners.off(e,t,o,i)}offById(e){this.listeners.offById(e)}},qs={exports:{}};(function(n,e){(function(t,o){n.exports=o()})(window,function(){return function(t){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,(function(c){return r[c]}).bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="/",i(i.s=0)}([function(t,o,i){i(1),t.exports=function(){var r=i(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=r.getWrapper(),document.body.appendChild(a)})();var c=null,d=l.time||8e3;switch(l.type){case"confirm":c=r.confirm(l);break;case"prompt":c=r.prompt(l);break;default:c=r.alert(l),window.setTimeout(function(){c.remove()},d)}a.appendChild(c),c.classList.add(s)}}}}()},function(t,o,i){var r=i(2);typeof r=="string"&&(r=[[t.i,r,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};i(4)(r,s),r.locals&&(t.exports=r.locals)},function(t,o,i){(t.exports=i(3)(!1)).push([t.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(t,o){t.exports=function(i){var r=[];return r.toString=function(){return this.map(function(s){var a=function(l,c){var d=l[1]||"",u=l[3];if(!u)return d;if(c&&typeof btoa=="function"){var p=(m=u,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(m))))+" */"),v=u.sources.map(function(_){return"/*# sourceURL="+u.sourceRoot+_+" */"});return[d].concat(v).concat([p]).join(`
`)}var m;return[d].join(`
`)}(s,i);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},r.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var d=this[c][0];typeof d=="number"&&(l[d]=!0)}for(c=0;c<s.length;c++){var u=s[c];typeof u[0]=="number"&&l[u[0]]||(a&&!u[2]?u[2]=a:a&&(u[2]="("+u[2]+") and ("+a+")"),r.push(u))}},r}},function(t,o,i){var r,s,a={},l=(r=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=r.apply(this,arguments)),s}),c=function(E){var x={};return function(T){if(typeof T=="function")return T();if(x[T]===void 0){var L=(function(h){return document.querySelector(h)}).call(this,T);if(window.HTMLIFrameElement&&L instanceof window.HTMLIFrameElement)try{L=L.contentDocument.head}catch{L=null}x[T]=L}return x[T]}}(),d=null,u=0,p=[],v=i(5);function m(E,x){for(var T=0;T<E.length;T++){var L=E[T],h=a[L.id];if(h){h.refs++;for(var f=0;f<h.parts.length;f++)h.parts[f](L.parts[f]);for(;f<L.parts.length;f++)h.parts.push(N(L.parts[f],x))}else{var b=[];for(f=0;f<L.parts.length;f++)b.push(N(L.parts[f],x));a[L.id]={id:L.id,refs:1,parts:b}}}}function _(E,x){for(var T=[],L={},h=0;h<E.length;h++){var f=E[h],b=x.base?f[0]+x.base:f[0],g={css:f[1],media:f[2],sourceMap:f[3]};L[b]?L[b].parts.push(g):T.push(L[b]={id:b,parts:[g]})}return T}function w(E,x){var T=c(E.insertInto);if(!T)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var L=p[p.length-1];if(E.insertAt==="top")L?L.nextSibling?T.insertBefore(x,L.nextSibling):T.appendChild(x):T.insertBefore(x,T.firstChild),p.push(x);else if(E.insertAt==="bottom")T.appendChild(x);else{if(typeof E.insertAt!="object"||!E.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var h=c(E.insertInto+" "+E.insertAt.before);T.insertBefore(x,h)}}function F(E){if(E.parentNode===null)return!1;E.parentNode.removeChild(E);var x=p.indexOf(E);x>=0&&p.splice(x,1)}function y(E){var x=document.createElement("style");return E.attrs.type===void 0&&(E.attrs.type="text/css"),B(x,E.attrs),w(E,x),x}function B(E,x){Object.keys(x).forEach(function(T){E.setAttribute(T,x[T])})}function N(E,x){var T,L,h,f;if(x.transform&&E.css){if(!(f=x.transform(E.css)))return function(){};E.css=f}if(x.singleton){var b=u++;T=d||(d=y(x)),L=S.bind(null,T,b,!1),h=S.bind(null,T,b,!0)}else E.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(T=function(g){var O=document.createElement("link");return g.attrs.type===void 0&&(g.attrs.type="text/css"),g.attrs.rel="stylesheet",B(O,g.attrs),w(g,O),O}(x),L=(function(g,O,$){var z=$.css,G=$.sourceMap,re=O.convertToAbsoluteUrls===void 0&&G;(O.convertToAbsoluteUrls||re)&&(z=v(z)),G&&(z+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(G))))+" */");var ke=new Blob([z],{type:"text/css"}),P=g.href;g.href=URL.createObjectURL(ke),P&&URL.revokeObjectURL(P)}).bind(null,T,x),h=function(){F(T),T.href&&URL.revokeObjectURL(T.href)}):(T=y(x),L=(function(g,O){var $=O.css,z=O.media;if(z&&g.setAttribute("media",z),g.styleSheet)g.styleSheet.cssText=$;else{for(;g.firstChild;)g.removeChild(g.firstChild);g.appendChild(document.createTextNode($))}}).bind(null,T),h=function(){F(T)});return L(E),function(g){if(g){if(g.css===E.css&&g.media===E.media&&g.sourceMap===E.sourceMap)return;L(E=g)}else h()}}t.exports=function(E,x){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(x=x||{}).attrs=typeof x.attrs=="object"?x.attrs:{},x.singleton||typeof x.singleton=="boolean"||(x.singleton=l()),x.insertInto||(x.insertInto="head"),x.insertAt||(x.insertAt="bottom");var T=_(E,x);return m(T,x),function(L){for(var h=[],f=0;f<T.length;f++){var b=T[f];(g=a[b.id]).refs--,h.push(g)}for(L&&m(_(L,x),x),f=0;f<h.length;f++){var g;if((g=h[f]).refs===0){for(var O=0;O<g.parts.length;O++)g.parts[O]();delete a[g.id]}}}};var W,k=(W=[],function(E,x){return W[E]=x,W.filter(Boolean).join(`
`)});function S(E,x,T,L){var h=T?"":L.css;if(E.styleSheet)E.styleSheet.cssText=k(x,h);else{var f=document.createTextNode(h),b=E.childNodes;b[x]&&E.removeChild(b[x]),b.length?E.insertBefore(f,b[x]):E.appendChild(f)}}},function(t,o){t.exports=function(i){var r=typeof window<"u"&&window.location;if(!r)throw new Error("fixUrls requires window.location");if(!i||typeof i!="string")return i;var s=r.protocol+"//"+r.host,a=s+r.pathname.replace(/\/[^\/]*$/,"/");return i.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var d,u=c.trim().replace(/^"(.*)"$/,function(p,v){return v}).replace(/^'(.*)'$/,function(p,v){return v});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(u)?l:(d=u.indexOf("//")===0?u:u.indexOf("/")===0?s+u:a+u.replace(/^\.\//,""),"url("+JSON.stringify(d)+")")})}},function(t,o,i){var r,s,a,l,c,d,u,p,v;t.exports=(r="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",d="cdx-notify__input",u="cdx-notify__button",p="cdx-notify__btns-wrapper",{alert:v=function(m){var _=document.createElement("DIV"),w=document.createElement("DIV"),F=m.message,y=m.style;return _.classList.add(s),y&&_.classList.add(s+"--"+y),_.innerHTML=F,w.classList.add(a),w.addEventListener("click",_.remove.bind(_)),_.appendChild(w),_},confirm:function(m){var _=v(m),w=document.createElement("div"),F=document.createElement("button"),y=document.createElement("button"),B=_.querySelector("."+a),N=m.cancelHandler,W=m.okHandler;return w.classList.add(p),F.innerHTML=m.okText||"Confirm",y.innerHTML=m.cancelText||"Cancel",F.classList.add(u),y.classList.add(u),F.classList.add(l),y.classList.add(c),N&&typeof N=="function"&&(y.addEventListener("click",N),B.addEventListener("click",N)),W&&typeof W=="function"&&F.addEventListener("click",W),F.addEventListener("click",_.remove.bind(_)),y.addEventListener("click",_.remove.bind(_)),w.appendChild(F),w.appendChild(y),_.appendChild(w),_},prompt:function(m){var _=v(m),w=document.createElement("div"),F=document.createElement("button"),y=document.createElement("input"),B=_.querySelector("."+a),N=m.cancelHandler,W=m.okHandler;return w.classList.add(p),F.innerHTML=m.okText||"Ok",F.classList.add(u),F.classList.add(l),y.classList.add(d),m.placeholder&&y.setAttribute("placeholder",m.placeholder),m.default&&(y.value=m.default),m.inputType&&(y.type=m.inputType),N&&typeof N=="function"&&B.addEventListener("click",N),W&&typeof W=="function"&&F.addEventListener("click",function(){W(y.value)}),F.addEventListener("click",_.remove.bind(_)),w.appendChild(y),w.appendChild(F),_.appendChild(w),_},getWrapper:function(){var m=document.createElement("DIV");return m.classList.add(r),m}})}])})})(qs);var oc=qs.exports,ic=Xt(oc),no=class{show(e){ic.show(e)}},oo=class extends te{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.notifier=new no}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}},io=class extends te{get methods(){let e=()=>this.isEnabled;return{toggle:t=>this.toggle(t),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}},Ks={exports:{}};(function(n,e){(function(t,o){n.exports=o()})(yt,function(){function t(u){var p=u.tags,v=Object.keys(p),m=v.map(function(_){return typeof p[_]}).every(function(_){return _==="object"||_==="boolean"||_==="function"});if(!m)throw new Error("The configuration was invalid");this.config=u}var o=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function i(u){return o.indexOf(u.nodeName)!==-1}var r=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(u){return r.indexOf(u.nodeName)!==-1}t.prototype.clean=function(u){let p=document.implementation.createHTMLDocument(),v=p.createElement("div");return v.innerHTML=u,this._sanitize(p,v),v.innerHTML},t.prototype._sanitize=function(u,p){var v=a(u,p),m=v.firstChild();if(m)do{if(m.nodeType===Node.TEXT_NODE)if(m.data.trim()===""&&(m.previousElementSibling&&i(m.previousElementSibling)||m.nextElementSibling&&i(m.nextElementSibling))){p.removeChild(m),this._sanitize(u,p);break}else continue;if(m.nodeType===Node.COMMENT_NODE){p.removeChild(m),this._sanitize(u,p);break}var _=s(m),w;_&&(w=Array.prototype.some.call(m.childNodes,i));var F=!!p.parentNode,y=i(p)&&i(m)&&F,B=m.nodeName.toLowerCase(),N=l(this.config,B,m),W=_&&w;if(W||c(m,N)||!this.config.keepNestedBlockElements&&y){if(!(m.nodeName==="SCRIPT"||m.nodeName==="STYLE"))for(;m.childNodes.length>0;)p.insertBefore(m.childNodes[0],m);p.removeChild(m),this._sanitize(u,p);break}for(var k=0;k<m.attributes.length;k+=1){var S=m.attributes[k];d(S,N,m)&&(m.removeAttribute(S.name),k=k-1)}this._sanitize(u,m)}while(m=v.nextSibling())};function a(u,p){return u.createTreeWalker(p,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(u,p,v){return typeof u.tags[p]=="function"?u.tags[p](v):u.tags[p]}function c(u,p){return typeof p>"u"?!0:typeof p=="boolean"?!p:!1}function d(u,p,v){var m=u.name.toLowerCase();return p===!0?!1:typeof p[m]=="function"?!p[m](u.value,v):typeof p[m]>"u"||p[m]===!1?!0:typeof p[m]=="string"?p[m]!==u.value:!1}return t})})(Ks);var rc=Ks.exports,sc=Xt(rc);function Wo(n,e){return n.map(t=>{let o=de(e)?e(t.tool):e;return Be(o)||(t.data=qo(t.data,o)),t})}function Le(n,e={}){let t={tags:e};return new sc(t).clean(n)}function qo(n,e){return Array.isArray(n)?ac(n,e):ge(n)?lc(n,e):De(n)?cc(n,e):n}function ac(n,e){return n.map(t=>qo(t,e))}function lc(n,e){let t={};for(let o in n){if(!Object.prototype.hasOwnProperty.call(n,o))continue;let i=n[o],r=dc(e[o])?e[o]:e;t[o]=qo(i,r)}return t}function cc(n,e){return ge(e)?Le(n,e):e===!1?Le(n,{}):n}function dc(n){return ge(n)||Rl(n)||de(n)}var ro=class extends te{get methods(){return{clean:(e,t)=>this.clean(e,t)}}clean(e,t){return Le(e,t)}},so=class extends te{get methods(){return{save:()=>this.save()}}save(){let e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(Oe(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}},ao=class extends te{constructor(){super(...arguments),this.selectionUtils=new Y}get methods(){return{findParentTag:(e,t)=>this.findParentTag(e,t),expandToTag:e=>this.expandToTag(e),save:()=>this.selectionUtils.save(),restore:()=>this.selectionUtils.restore(),setFakeBackground:()=>this.selectionUtils.setFakeBackground(),removeFakeBackground:()=>this.selectionUtils.removeFakeBackground()}}findParentTag(e,t){return this.selectionUtils.findParentTag(e,t)}expandToTag(e){this.selectionUtils.expandToTag(e)}},lo=class extends te{get methods(){return{getBlockTools:()=>Array.from(this.Editor.Tools.blockTools.values())}}},co=class extends te{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}},uo=class extends te{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Oe("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){Oe("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}},Ys={exports:{}};(function(n,e){(function(t,o){n.exports=o()})(window,function(){return function(t){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,(function(c){return r[c]}).bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="",i(i.s=0)}([function(t,o,i){t.exports=i(1)},function(t,o,i){i.r(o),i.d(o,"default",function(){return r});class r{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);let d=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(d.hidingDelay&&(this.hidingDelay=d.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of \xABcontent\xBB passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),d.placement){case"top":this.placeTop(a,d);break;case"left":this.placeLeft(a,d);break;case"right":this.placeRight(a,d);break;case"bottom":default:this.placeBottom(a,d)}d&&d.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},d.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){let a="codex-tooltips-style";if(document.getElementById(a))return;let l=i(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){let c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",d,u)}placeTop(a,l){let c=a.getBoundingClientRect(),d=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,u=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",d,u)}placeLeft(a,l){let c=a.getBoundingClientRect(),d=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",d,u)}placeRight(a,l){let c=a.getBoundingClientRect(),d=c.right+this.offsetRight+l.marginRight,u=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",d,u)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){let d=document.createElement(a);Array.isArray(l)?d.classList.add(...l):l&&d.classList.add(l);for(let u in c)c.hasOwnProperty(u)&&(d[u]=c[u]);return d}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(t,o){t.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(Ys);var uc=Ys.exports,hc=Xt(uc),Ie=null;function Ko(){Ie||(Ie=new hc)}function pc(n,e,t){Ko(),Ie?.show(n,e,t)}function $t(n=!1){Ko(),Ie?.hide(n)}function Ut(n,e,t){Ko(),Ie?.onHover(n,e,t)}function gc(){Ie?.destroy(),Ie=null}var ho=class extends te{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t})}get methods(){return{show:(e,t,o)=>this.show(e,t,o),hide:()=>this.hide(),onHover:(e,t,o)=>this.onHover(e,t,o)}}show(e,t,o){pc(e,t,o)}hide(){$t()}onHover(e,t,o){Ut(e,t,o)}},po=class extends te{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}};function Gs(n,e){let t={};return Object.entries(n).forEach(([o,i])=>{if(ge(i)){let r=e?`${e}.${o}`:o;Object.values(i).every(s=>De(s))?t[o]=r:t[o]=Gs(i,r);return}t[o]=i}),t}var Ce=Gs(Rs);function fc(n,e){let t={};return Object.keys(n).forEach(o=>{let i=e[o];i!==void 0?t[i]=n[o]:t[o]=n[o]}),t}var mc=(()=>{let n=class mt{constructor(t,o){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=o}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(mt.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(mt.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let o=this.cursor;return o===-1?o=t===mt.directions.RIGHT?-1:0:this.items[o].classList.remove(this.focusedCssClass),t===mt.directions.RIGHT?o=(o+1)%this.items.length:o=(this.items.length+o-1)%this.items.length,C.canSetCaret(this.items[o])&&Dt(()=>Y.setCursor(this.items[o]),50)(),this.items[o].classList.add(this.focusedCssClass),o}};return n.directions={RIGHT:"right",LEFT:"left"},n})(),pt=mc,st=class n{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=t=>{if(this.isEventReadyForHandling(t))switch(n.usedKeys.includes(t.keyCode)&&t.preventDefault(),t.keyCode){case Z.TAB:this.handleTabPress(t);break;case Z.LEFT:case Z.UP:this.flipLeft();break;case Z.RIGHT:case Z.DOWN:this.flipRight();break;case Z.ENTER:this.handleEnterPress(t);break}},this.iterator=new pt(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||n.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[Z.TAB,Z.LEFT,Z.RIGHT,Z.ENTER,Z.UP,Z.DOWN]}activate(e,t){this.activated=!0,e&&this.iterator.setItems(e),t!==void 0&&this.iterator.setCursor(t),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(t=>t!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?pt.directions.LEFT:pt.directions.RIGHT){case pt.directions.RIGHT:this.flipRight();break;case pt.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),de(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}},bc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',vc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',yc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.5 17.5L9.64142 12.6414C9.56331 12.5633 9.56331 12.4367 9.64142 12.3586L14.5 7.5"/></svg>',kc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.58284 17.5L14.4414 12.6414C14.5195 12.5633 14.5195 12.4367 14.4414 12.3586L9.58284 7.5"/></svg>',wc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',xc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',Ec='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',Cc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Cs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',Sc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',Tc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',Xs='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M11.5 17.5L5 11M5 11V15.5M5 11H9.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12.5 6.5L19 13M19 13V8.5M19 13H14.5"/></svg>',Oc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',Bc='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',_c='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',Ic="__",Ac="--";function $e(n){return(e,t)=>[[n,e].filter(o=>!!o).join(Ic),t].filter(o=>!!o).join(Ac)}var gt=$e("ce-hint"),ft={root:gt(),alignedStart:gt(null,"align-left"),alignedCenter:gt(null,"align-center"),title:gt("title"),description:gt("description")},go=class{constructor(e){this.nodes={root:C.make("div",[ft.root,e.alignment==="center"?ft.alignedCenter:ft.alignedStart]),title:C.make("div",ft.title,{textContent:e.title})},this.nodes.root.appendChild(this.nodes.title),e.description!==void 0&&(this.nodes.description=C.make("div",ft.description,{textContent:e.description}),this.nodes.root.appendChild(this.nodes.description))}getElement(){return this.nodes.root}},wt=class{constructor(e){this.params=e}get name(){if(this.params!==void 0&&"name"in this.params)return this.params.name}destroy(){$t()}onChildrenOpen(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onOpen)=="function"&&this.params.children.onOpen()}onChildrenClose(){var e;this.params!==void 0&&"children"in this.params&&typeof((e=this.params.children)==null?void 0:e.onClose)=="function"&&this.params.children.onClose()}handleClick(){var e,t;this.params!==void 0&&"onActivate"in this.params&&((t=(e=this.params).onActivate)==null||t.call(e,this.params))}addHint(e,t){let o=new go(t);Ut(e,o.getElement(),{placement:t.position,hidingDelay:100})}get children(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.items)!==void 0?this.params.children.items:[]}get hasChildren(){return this.children.length>0}get isChildrenOpen(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.isOpen)===!0}get isChildrenFlippable(){var e;return!(this.params===void 0||!("children"in this.params)||((e=this.params.children)==null?void 0:e.isFlippable)===!1)}get isChildrenSearchable(){var e;return this.params!==void 0&&"children"in this.params&&((e=this.params.children)==null?void 0:e.searchable)===!0}get closeOnActivate(){return this.params!==void 0&&"closeOnActivate"in this.params&&this.params.closeOnActivate}get isActive(){return this.params===void 0||!("isActive"in this.params)?!1:typeof this.params.isActive=="function"?this.params.isActive():this.params.isActive===!0}},Ee=$e("ce-popover-item"),ue={container:Ee(),active:Ee(null,"active"),disabled:Ee(null,"disabled"),focused:Ee(null,"focused"),hidden:Ee(null,"hidden"),confirmationState:Ee(null,"confirmation"),noHover:Ee(null,"no-hover"),noFocus:Ee(null,"no-focus"),title:Ee("title"),secondaryTitle:Ee("secondary-title"),icon:Ee("icon"),iconTool:Ee("icon","tool"),iconChevronRight:Ee("icon","chevron-right"),wobbleAnimation:$e("wobble")()},je=class extends wt{constructor(e,t){super(e),this.params=e,this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{var o;(o=this.nodes.root)==null||o.classList.remove(ue.noFocus)},this.removeSpecialHoverBehavior=()=>{var o;(o=this.nodes.root)==null||o.classList.remove(ue.noHover)},this.onErrorAnimationEnd=()=>{var o,i;(o=this.nodes.icon)==null||o.classList.remove(ue.wobbleAnimation),(i=this.nodes.icon)==null||i.removeEventListener("animationend",this.onErrorAnimationEnd)},this.nodes.root=this.make(e,t)}get isDisabled(){return this.params.isDisabled===!0}get toggle(){return this.params.toggle}get title(){return this.params.title}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root===null?!1:this.nodes.root.classList.contains(ue.focused)}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled&&this.confirmationState!==null){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){var t;(t=this.nodes.root)==null||t.classList.toggle(ue.active,e)}toggleHidden(e){var t;(t=this.nodes.root)==null||t.classList.toggle(ue.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e,t){var o,i;let r=t?.wrapperTag||"div",s=C.make(r,ue.container,{type:r==="button"?"button":void 0});return e.name&&(s.dataset.itemName=e.name),this.nodes.icon=C.make("div",[ue.icon,ue.iconTool],{innerHTML:e.icon||Ec}),s.appendChild(this.nodes.icon),e.title!==void 0&&s.appendChild(C.make("div",ue.title,{innerHTML:e.title||""})),e.secondaryLabel&&s.appendChild(C.make("div",ue.secondaryTitle,{textContent:e.secondaryLabel})),this.hasChildren&&s.appendChild(C.make("div",[ue.icon,ue.iconChevronRight],{innerHTML:kc})),this.isActive&&s.classList.add(ue.active),e.isDisabled&&s.classList.add(ue.disabled),e.hint!==void 0&&((o=t?.hint)==null?void 0:o.enabled)!==!1&&this.addHint(s,we(se({},e.hint),{position:((i=t?.hint)==null?void 0:i.position)||"right"})),s}enableConfirmationMode(e){if(this.nodes.root===null)return;let t=we(se(se({},this.params),e),{confirmation:"confirmation"in e?e.confirmation:void 0}),o=this.make(t);this.nodes.root.innerHTML=o.innerHTML,this.nodes.root.classList.add(ue.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){if(this.nodes.root===null)return;let e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(ue.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){var e,t,o;(e=this.nodes.root)==null||e.classList.add(ue.noHover),(t=this.nodes.root)==null||t.classList.add(ue.noFocus),(o=this.nodes.root)==null||o.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){var e;this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),(e=this.nodes.root)==null||e.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){var t;if(!("confirmation"in e)||e.confirmation===void 0)try{(t=e.onActivate)==null||t.call(e,e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){var e,t,o;(e=this.nodes.icon)!=null&&e.classList.contains(ue.wobbleAnimation)||((t=this.nodes.icon)==null||t.classList.add(ue.wobbleAnimation),(o=this.nodes.icon)==null||o.addEventListener("animationend",this.onErrorAnimationEnd))}},Dn=$e("ce-popover-item-separator"),Rn={container:Dn(),line:Dn("line"),hidden:Dn(null,"hidden")},zt=class extends wt{constructor(){super(),this.nodes={root:C.make("div",Rn.container),line:C.make("div",Rn.line)},this.nodes.root.appendChild(this.nodes.line)}getElement(){return this.nodes.root}toggleHidden(e){var t;(t=this.nodes.root)==null||t.classList.toggle(Rn.hidden,e)}},Me=(n=>(n.Closed="closed",n.ClosedOnActivate="closed-on-activate",n))(Me||{}),ve=$e("ce-popover"),he={popover:ve(),popoverContainer:ve("container"),popoverOpenTop:ve(null,"open-top"),popoverOpenLeft:ve(null,"open-left"),popoverOpened:ve(null,"opened"),search:ve("search"),nothingFoundMessage:ve("nothing-found-message"),nothingFoundMessageDisplayed:ve("nothing-found-message","displayed"),items:ve("items"),overlay:ve("overlay"),overlayHidden:ve("overlay","hidden"),popoverNested:ve(null,"nested"),getPopoverNestedClass:n=>ve(null,`nested-level-${n.toString()}`),popoverInline:ve(null,"inline"),popoverHeader:ve("header")},rt=(n=>(n.NestingLevel="--nesting-level",n.PopoverHeight="--popover-height",n.InlinePopoverWidth="--inline-popover-width",n.TriggerItemLeft="--trigger-item-left",n.TriggerItemTop="--trigger-item-top",n))(rt||{}),Ss=$e("ce-popover-item-html"),Ts={root:Ss(),hidden:Ss(null,"hidden")},Ve=class extends wt{constructor(e,t){var o,i;super(e),this.nodes={root:C.make("div",Ts.root)},this.nodes.root.appendChild(e.element),e.name&&(this.nodes.root.dataset.itemName=e.name),e.hint!==void 0&&((o=t?.hint)==null?void 0:o.enabled)!==!1&&this.addHint(this.nodes.root,we(se({},e.hint),{position:((i=t?.hint)==null?void 0:i.position)||"right"}))}getElement(){return this.nodes.root}toggleHidden(e){var t;(t=this.nodes.root)==null||t.classList.toggle(Ts.hidden,e)}getControls(){let e=this.nodes.root.querySelectorAll(`button, ${C.allInputsSelector}`);return Array.from(e)}},Wt=class extends Ge{constructor(e,t={}){super(),this.params=e,this.itemsRenderParams=t,this.listeners=new Xe,this.messages={nothingFound:"Nothing found",search:"Search"},this.items=this.buildItems(e.items),e.messages&&(this.messages=se(se({},this.messages),e.messages)),this.nodes={},this.nodes.popoverContainer=C.make("div",[he.popoverContainer]),this.nodes.nothingFoundMessage=C.make("div",[he.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popoverContainer.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=C.make("div",[he.items]),this.items.forEach(o=>{let i=o.getElement();i!==null&&this.nodes.items.appendChild(i)}),this.nodes.popoverContainer.appendChild(this.nodes.items),this.listeners.on(this.nodes.popoverContainer,"click",o=>this.handleClick(o)),this.nodes.popover=C.make("div",[he.popover,this.params.class]),this.nodes.popover.appendChild(this.nodes.popoverContainer)}get itemsDefault(){return this.items.filter(e=>e instanceof je)}getElement(){return this.nodes.popover}show(){this.nodes.popover.classList.add(he.popoverOpened),this.search!==void 0&&this.search.focus()}hide(){this.nodes.popover.classList.remove(he.popoverOpened),this.nodes.popover.classList.remove(he.popoverOpenTop),this.itemsDefault.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),this.emit(Me.Closed)}destroy(){var e;this.items.forEach(t=>t.destroy()),this.nodes.popover.remove(),this.listeners.removeAll(),(e=this.search)==null||e.destroy()}activateItemByName(e){let t=this.items.find(o=>o.name===e);this.handleItemClick(t)}buildItems(e){return e.map(t=>{switch(t.type){case ce.Separator:return new zt;case ce.Html:return new Ve(t,this.itemsRenderParams[ce.Html]);default:return new je(t,this.itemsRenderParams[ce.Default])}})}getTargetItem(e){return this.items.filter(t=>t instanceof je||t instanceof Ve).find(t=>{let o=t.getElement();return o===null?!1:e.composedPath().includes(o)})}handleItemClick(e){if(!("isDisabled"in e&&e.isDisabled)){if(e.hasChildren){this.showNestedItems(e),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick();return}this.itemsDefault.filter(t=>t!==e).forEach(t=>t.reset()),"handleClick"in e&&typeof e.handleClick=="function"&&e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&(this.hide(),this.emit(Me.ClosedOnActivate))}}handleClick(e){let t=this.getTargetItem(e);t!==void 0&&this.handleItemClick(t)}toggleItemActivenessIfNeeded(e){if(e instanceof je&&(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string")){let t=this.itemsDefault.filter(o=>o.toggle===e.toggle);if(t.length===1){e.toggleActive();return}t.forEach(o=>{o.toggleActive(o===e)})}}},qt=(n=>(n.Search="search",n))(qt||{}),Fn=$e("cdx-search-field"),Hn={wrapper:Fn(),icon:Fn("icon"),input:Fn("input")},fo=class extends Ge{constructor({items:e,placeholder:t}){super(),this.listeners=new Xe,this.items=e,this.wrapper=C.make("div",Hn.wrapper);let o=C.make("div",Hn.icon,{innerHTML:Oc});this.input=C.make("input",Hn.input,{placeholder:t,tabIndex:-1}),this.wrapper.appendChild(o),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.emit(qt.Search,{query:this.searchQuery,items:this.foundItems})})}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.emit(qt.Search,{query:"",items:this.foundItems})}destroy(){this.listeners.removeAll()}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var t,o;let i=((t=e.title)==null?void 0:t.toLowerCase())||"",r=(o=this.searchQuery)==null?void 0:o.toLowerCase();return r!==void 0?i.includes(r):!1}},Lc=Object.defineProperty,Mc=Object.getOwnPropertyDescriptor,Pc=(n,e,t,o)=>{for(var i=o>1?void 0:o?Mc(e,t):e,r=n.length-1,s;r>=0;r--)(s=n[r])&&(i=(o?s(e,t,i):s(i))||i);return o&&i&&Lc(e,t,i),i},Vs=class Zs extends Wt{constructor(e,t){super(e,t),this.nestingLevel=0,this.nestedPopoverTriggerItem=null,this.previouslyHoveredItem=null,this.scopeElement=document.body,this.hide=()=>{var o;super.hide(),this.destroyNestedPopoverIfExists(),(o=this.flipper)==null||o.deactivate(),this.previouslyHoveredItem=null},this.onFlip=()=>{let o=this.itemsDefault.find(i=>i.isFocused);o?.onFocus()},this.onSearch=o=>{var i;let r=o.query==="",s=o.items.length===0;this.items.forEach(l=>{let c=!1;l instanceof je?c=!o.items.includes(l):(l instanceof zt||l instanceof Ve)&&(c=s||!r),l.toggleHidden(c)}),this.toggleNothingFoundMessage(s);let a=o.query===""?this.flippableElements:o.items.map(l=>l.getElement());(i=this.flipper)!=null&&i.isActivated&&(this.flipper.deactivate(),this.flipper.activate(a))},e.nestingLevel!==void 0&&(this.nestingLevel=e.nestingLevel),this.nestingLevel>0&&this.nodes.popover.classList.add(he.popoverNested),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),this.nodes.popoverContainer!==null&&this.listeners.on(this.nodes.popoverContainer,"mouseover",o=>this.handleHover(o)),e.searchable&&this.addSearch(),e.flippable!==!1&&(this.flipper=new st({items:this.flippableElements,focusedItemClass:ue.focused,allowedKeys:[Z.TAB,Z.UP,Z.DOWN,Z.ENTER]}),this.flipper.onFlip(this.onFlip))}hasFocus(){return this.flipper===void 0?!1:this.flipper.hasFocus()}get scrollTop(){return this.nodes.items===null?0:this.nodes.items.scrollTop}get offsetTop(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetTop}show(){var e;this.nodes.popover.style.setProperty(rt.PopoverHeight,this.size.height+"px"),this.shouldOpenBottom||this.nodes.popover.classList.add(he.popoverOpenTop),this.shouldOpenRight||this.nodes.popover.classList.add(he.popoverOpenLeft),super.show(),(e=this.flipper)==null||e.activate(this.flippableElements)}destroy(){this.hide(),super.destroy()}showNestedItems(e){this.nestedPopover!==null&&this.nestedPopover!==void 0||(this.nestedPopoverTriggerItem=e,this.showNestedPopoverForItem(e))}handleHover(e){let t=this.getTargetItem(e);t!==void 0&&this.previouslyHoveredItem!==t&&(this.destroyNestedPopoverIfExists(),this.previouslyHoveredItem=t,t.hasChildren&&this.showNestedPopoverForItem(t))}setTriggerItemPosition(e,t){let o=t.getElement(),i=(o?o.offsetTop:0)-this.scrollTop,r=this.offsetTop+i;e.style.setProperty(rt.TriggerItemTop,r+"px")}destroyNestedPopoverIfExists(){var e,t;this.nestedPopover===void 0||this.nestedPopover===null||(this.nestedPopover.off(Me.ClosedOnActivate,this.hide),this.nestedPopover.hide(),this.nestedPopover.destroy(),this.nestedPopover.getElement().remove(),this.nestedPopover=null,(e=this.flipper)==null||e.activate(this.flippableElements),(t=this.nestedPopoverTriggerItem)==null||t.onChildrenClose())}showNestedPopoverForItem(e){var t;this.nestedPopover=new Zs({searchable:e.isChildrenSearchable,items:e.children,nestingLevel:this.nestingLevel+1,flippable:e.isChildrenFlippable,messages:this.messages}),e.onChildrenOpen(),this.nestedPopover.on(Me.ClosedOnActivate,this.hide);let o=this.nestedPopover.getElement();return this.nodes.popover.appendChild(o),this.setTriggerItemPosition(o,e),o.style.setProperty(rt.NestingLevel,this.nestedPopover.nestingLevel.toString()),this.nestedPopover.show(),(t=this.flipper)==null||t.deactivate(),this.nestedPopover}get shouldOpenBottom(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;let e=this.nodes.popoverContainer.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),o=this.size.height,i=e.top+o,r=e.top-o,s=Math.min(window.innerHeight,t.bottom);return r<t.top||i<=s}get shouldOpenRight(){if(this.nodes.popover===void 0||this.nodes.popover===null)return!1;let e=this.nodes.popover.getBoundingClientRect(),t=this.scopeElement.getBoundingClientRect(),o=this.size.width,i=e.right+o,r=e.left-o,s=Math.min(window.innerWidth,t.right);return r<t.left||i<=s}get size(){var e;let t={height:0,width:0};if(this.nodes.popover===null)return t;let o=this.nodes.popover.cloneNode(!0);o.style.visibility="hidden",o.style.position="absolute",o.style.top="-1000px",o.classList.add(he.popoverOpened),(e=o.querySelector("."+he.popoverNested))==null||e.remove(),document.body.appendChild(o);let i=o.querySelector("."+he.popoverContainer);return t.height=i.offsetHeight,t.width=i.offsetWidth,o.remove(),t}get flippableElements(){return this.items.map(e=>{if(e instanceof je)return e.getElement();if(e instanceof Ve)return e.getControls()}).flat().filter(e=>e!=null)}addSearch(){this.search=new fo({items:this.itemsDefault,placeholder:this.messages.search}),this.search.on(qt.Search,this.onSearch);let e=this.search.getElement();e.classList.add(he.search),this.nodes.popoverContainer.insertBefore(e,this.nodes.popoverContainer.firstChild)}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(he.nothingFoundMessageDisplayed,e)}};Pc([lt],Vs.prototype,"size",1);var Yo=Vs,mo=class extends Yo{constructor(e){let t=!ct();super(we(se({},e),{class:he.popoverInline}),{[ce.Default]:{wrapperTag:"button",hint:{position:"top",alignment:"center",enabled:t}},[ce.Html]:{hint:{position:"top",alignment:"center",enabled:t}}}),this.items.forEach(o=>{!(o instanceof je)&&!(o instanceof Ve)||o.hasChildren&&o.isChildrenOpen&&this.showNestedItems(o)})}get offsetLeft(){return this.nodes.popoverContainer===null?0:this.nodes.popoverContainer.offsetLeft}show(){this.nestingLevel===0&&this.nodes.popover.style.setProperty(rt.InlinePopoverWidth,this.size.width+"px"),super.show()}handleHover(){}setTriggerItemPosition(e,t){let o=t.getElement(),i=o?o.offsetLeft:0,r=this.offsetLeft+i;e.style.setProperty(rt.TriggerItemLeft,r+"px")}showNestedItems(e){if(this.nestedPopoverTriggerItem===e){this.destroyNestedPopoverIfExists(),this.nestedPopoverTriggerItem=null;return}super.showNestedItems(e)}showNestedPopoverForItem(e){let t=super.showNestedPopoverForItem(e);return t.getElement().classList.add(he.getPopoverNestedClass(t.nestingLevel)),t}handleItemClick(e){var t;e!==this.nestedPopoverTriggerItem&&((t=this.nestedPopoverTriggerItem)==null||t.handleClick(),super.destroyNestedPopoverIfExists()),super.handleItemClick(e)}},Nc=(()=>{let n=class bt{constructor(){this.scrollPosition=null}lock(){Kn?this.lockHard():document.body.classList.add(bt.CSS.scrollLocked)}unlock(){Kn?this.unlockHard():document.body.classList.remove(bt.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(bt.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(bt.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};return n.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"},n})(),jc=Nc,$n=$e("ce-popover-header"),Un={root:$n(),text:$n("text"),backButton:$n("back-button")},bo=class{constructor({text:e,onBackButtonClick:t}){this.listeners=new Xe,this.text=e,this.onBackButtonClick=t,this.nodes={root:C.make("div",[Un.root]),backButton:C.make("button",[Un.backButton]),text:C.make("div",[Un.text])},this.nodes.backButton.innerHTML=yc,this.nodes.root.appendChild(this.nodes.backButton),this.listeners.on(this.nodes.backButton,"click",this.onBackButtonClick),this.nodes.text.innerText=this.text,this.nodes.root.appendChild(this.nodes.text)}getElement(){return this.nodes.root}destroy(){this.nodes.root.remove(),this.listeners.destroy()}},vo=class{constructor(){this.history=[]}push(e){this.history.push(e)}pop(){return this.history.pop()}get currentTitle(){return this.history.length===0?"":this.history[this.history.length-1].title}get currentItems(){return this.history.length===0?[]:this.history[this.history.length-1].items}reset(){for(;this.history.length>1;)this.pop()}},Kt=class extends Wt{constructor(e){super(e,{[ce.Default]:{hint:{enabled:!1}},[ce.Html]:{hint:{enabled:!1}}}),this.scrollLocker=new jc,this.history=new vo,this.isHidden=!0,this.nodes.overlay=C.make("div",[he.overlay,he.overlayHidden]),this.nodes.popover.insertBefore(this.nodes.overlay,this.nodes.popover.firstChild),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.history.push({items:e.items})}show(){this.nodes.overlay.classList.remove(he.overlayHidden),super.show(),this.scrollLocker.lock(),this.isHidden=!1}hide(){this.isHidden||(super.hide(),this.nodes.overlay.classList.add(he.overlayHidden),this.scrollLocker.unlock(),this.history.reset(),this.isHidden=!0)}destroy(){super.destroy(),this.scrollLocker.unlock()}showNestedItems(e){this.updateItemsAndHeader(e.children,e.title),this.history.push({title:e.title,items:e.children})}updateItemsAndHeader(e,t){if(this.header!==null&&this.header!==void 0&&(this.header.destroy(),this.header=null),t!==void 0){this.header=new bo({text:t,onBackButtonClick:()=>{this.history.pop(),this.updateItemsAndHeader(this.history.currentItems,this.history.currentTitle)}});let o=this.header.getElement();o!==null&&this.nodes.popoverContainer.insertBefore(o,this.nodes.popoverContainer.firstChild)}this.items.forEach(o=>{var i;return(i=o.getElement())==null?void 0:i.remove()}),this.items=this.buildItems(e),this.items.forEach(o=>{var i;let r=o.getElement();r!==null&&((i=this.nodes.items)==null||i.appendChild(r))})}},yo=class extends te{constructor(){super(...arguments),this.opened=!1,this.selection=new Y,this.popover=null,this.close=()=>{this.opened&&(this.opened=!1,Y.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&this.Editor.BlockSelection.unselectBlock(this.Editor.BlockManager.currentBlock),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(Me.Closed,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null))},this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;if(this.popover!==null)return"flipper"in this.popover?(e=this.popover)==null?void 0:e.flipper:void 0}make(){this.nodes.wrapper=C.make("div",[this.CSS.settings]),this.nodes.wrapper.setAttribute("data-cy","block-tunes"),this.eventsDispatcher.on(kt,this.close)}destroy(){this.removeAllNodes(),this.listeners.destroy(),this.eventsDispatcher.off(kt,this.close)}open(){return q(this,arguments,function*(e=this.Editor.BlockManager.currentBlock){var t;this.opened=!0,this.selection.save(),this.Editor.BlockSelection.selectBlock(e),this.Editor.BlockSelection.clearCache();let{toolTunes:o,commonTunes:i}=e.getTunes();this.eventsDispatcher.emit(this.events.opened);let r=ct()?Kt:Yo;this.popover=new r({searchable:!0,items:yield this.getTunesItems(e,i,o),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:ye.ui(Ce.ui.popover,"Nothing found"),search:ye.ui(Ce.ui.popover,"Filter")}}),this.popover.on(Me.Closed,this.onPopoverClose),(t=this.nodes.wrapper)==null||t.append(this.popover.getElement()),this.popover.show()})}getElement(){return this.nodes.wrapper}getTunesItems(e,t,o){return q(this,null,function*(){let i=[];o!==void 0&&o.length>0&&(i.push(...o),i.push({type:ce.Separator}));let r=Array.from(this.Editor.Tools.blockTools.values()),s=(yield Ws(e,r)).reduce((a,l)=>(l.toolbox.forEach(c=>{a.push({icon:c.icon,title:ye.t(Ce.toolNames,c.title),name:l.name,closeOnActivate:!0,onActivate:()=>q(this,null,function*(){let{BlockManager:d,Caret:u,Toolbar:p}=this.Editor,v=yield d.convert(e,l.name,c.data);p.close(),u.setToBlock(v,u.positions.END)})})}),a),[]);return s.length>0&&(i.push({icon:Xs,name:"convert-to",title:ye.ui(Ce.ui.popover,"Convert to"),children:{searchable:!0,items:s}}),i.push({type:ce.Separator})),i.push(...t),i.map(a=>this.resolveTuneAliases(a))})}resolveTuneAliases(e){if(e.type===ce.Separator||e.type===ce.Html)return e;let t=fc(e,{label:"title"});return e.confirmation&&(t.confirmation=this.resolveTuneAliases(e.confirmation)),t}},Js={exports:{}};(function(n,e){(function(t,o){n.exports=o()})(window,function(){return function(t){var o={};function i(r){if(o[r])return o[r].exports;var s=o[r]={i:r,l:!1,exports:{}};return t[r].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=t,i.c=o,i.d=function(r,s,a){i.o(r,s)||Object.defineProperty(r,s,{enumerable:!0,get:a})},i.r=function(r){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},i.t=function(r,s){if(1&s&&(r=i(r)),8&s||4&s&&typeof r=="object"&&r&&r.__esModule)return r;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:r}),2&s&&typeof r!="string")for(var l in r)i.d(a,l,(function(c){return r[c]}).bind(null,l));return a},i.n=function(r){var s=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(s,"a",s),s},i.o=function(r,s){return Object.prototype.hasOwnProperty.call(r,s)},i.p="",i(i.s=0)}([function(t,o,i){function r(l,c){for(var d=0;d<c.length;d++){var u=c[d];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(l,u.key,u)}}function s(l,c,d){return c&&r(l.prototype,c),d&&r(l,d),l}i.r(o);var a=function(){function l(c){var d=this;(function(u,p){if(!(u instanceof p))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(u){d.execute(u)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var d=0;d<c.length;d++){c[d]=c[d].toUpperCase();var u=!1;for(var p in l.supportedCommands)if(l.supportedCommands[p].includes(c[d])){u=this.commands[p]=!0;break}u||(this.keys[c[d]]=!0)}for(var v in l.supportedCommands)this.commands[v]||(this.commands[v]=!1)}},{key:"execute",value:function(c){var d,u={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},p=!0;for(d in this.commands)this.commands[d]!==u[d]&&(p=!1);var v,m=!0;for(v in this.keys)m=m&&c.keyCode===l.keyCodes[v];p&&m&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();o.default=a}]).default})})(Js);var Dc=Js.exports,Rc=Xt(Dc),ko=class{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);let t=new Rc({name:e.name,on:e.on,callback:e.handler}),o=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...o,t])}remove(e,t){let o=this.findShortcut(e,t);if(!o)return;o.remove();let i=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,i.filter(r=>r!==o))}findShortcut(e,t){return(this.registeredShortcuts.get(e)||[]).find(({name:o})=>o===t)}},at=new ko,Fc=Object.defineProperty,Hc=Object.getOwnPropertyDescriptor,Qs=(n,e,t,o)=>{for(var i=o>1?void 0:o?Hc(e,t):e,r=n.length-1,s;r>=0;r--)(s=n[r])&&(i=(o?s(e,t,i):s(i))||i);return o&&i&&Fc(e,t,i),i},Lt=(n=>(n.Opened="toolbox-opened",n.Closed="toolbox-closed",n.BlockAdded="toolbox-block-added",n))(Lt||{}),Go=class ea extends Ge{constructor({api:e,tools:t,i18nLabels:o}){super(),this.opened=!1,this.listeners=new Xe,this.popover=null,this.handleMobileLayoutToggle=()=>{this.destroyPopover(),this.initPopover()},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=e,this.tools=t,this.i18nLabels=o,this.enableShortcuts(),this.nodes={toolbox:C.make("div",ea.CSS.toolbox)},this.initPopover(),this.nodes.toolbox.setAttribute("data-cy","toolbox"),this.api.events.on(kt,this.handleMobileLayoutToggle)}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}getElement(){return this.nodes.toolbox}hasFocus(){if(this.popover!==null)return"hasFocus"in this.popover?this.popover.hasFocus():void 0}destroy(){var e;super.destroy(),this.nodes&&this.nodes.toolbox&&this.nodes.toolbox.remove(),this.removeAllShortcuts(),(e=this.popover)==null||e.off(Me.Closed,this.onPopoverClose),this.listeners.destroy(),this.api.events.off(kt,this.handleMobileLayoutToggle)}toolButtonActivated(e,t){this.insertNewBlock(e,t)}open(){var e;this.isEmpty||((e=this.popover)==null||e.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var e;(e=this.popover)==null||e.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}initPopover(){var e;let t=ct()?Kt:Yo;this.popover=new t({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(Me.Closed,this.onPopoverClose),(e=this.nodes.toolbox)==null||e.append(this.popover.getElement())}destroyPopover(){this.popover!==null&&(this.popover.hide(),this.popover.off(Me.Closed,this.onPopoverClose),this.popover.destroy(),this.popover=null),this.nodes.toolbox!==null&&(this.nodes.toolbox.innerHTML="")}get toolsToBeDisplayed(){let e=[];return this.tools.forEach(t=>{t.toolbox&&e.push(t)}),e}get toolboxItemsToBeDisplayed(){let e=(t,o,i=!0)=>({icon:t.icon,title:ye.t(Ce.toolNames,t.title||Rt(o.name)),name:o.name,onActivate:()=>{this.toolButtonActivated(o.name,t.data)},secondaryLabel:o.shortcut&&i?zo(o.shortcut):""});return this.toolsToBeDisplayed.reduce((t,o)=>(Array.isArray(o.toolbox)?o.toolbox.forEach((i,r)=>{t.push(e(i,o,r===0))}):o.toolbox!==void 0&&t.push(e(o.toolbox,o)),t),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(e=>{let t=e.shortcut;t&&this.enableShortcutForTool(e.name,t)})}enableShortcutForTool(e,t){at.add({name:t,on:this.api.ui.nodes.redactor,handler:o=>q(this,null,function*(){o.preventDefault();let i=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(i);if(r)try{let s=yield this.api.blocks.convert(r.id,e);this.api.caret.setToBlock(s,"end");return}catch{}this.insertNewBlock(e)})})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(e=>{let t=e.shortcut;t&&at.remove(this.api.ui.nodes.redactor,t)})}insertNewBlock(e,t){return q(this,null,function*(){let o=this.api.blocks.getCurrentBlockIndex(),i=this.api.blocks.getBlockByIndex(o);if(!i)return;let r=i.isEmpty?o:o+1,s;if(t){let l=yield this.api.blocks.composeBlockData(e);s=Object.assign(l,t)}let a=this.api.blocks.insert(e,s,void 0,r,void 0,i.isEmpty);a.call(Ne.APPEND_CALLBACK),this.api.caret.setToBlock(r),this.emit("toolbox-block-added",{block:a}),this.api.toolbar.close()})}};Qs([lt],Go.prototype,"toolsToBeDisplayed",1);Qs([lt],Go.prototype,"toolboxItemsToBeDisplayed",1);var $c=Go,ta="block hovered";function Uc(n,e){return q(this,null,function*(){let t=navigator.keyboard;if(!t)return e;try{return(yield t.getLayoutMap()).get(n)||e}catch(o){return console.error(o),e}})}var wo=class extends te{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.toolboxInstance=null}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var t;(t=this.toolboxInstance)==null||t.close()},open:()=>{if(this.toolboxInstance===null){ie("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){ie("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var t;return(t=this.toolboxInstance)==null?void 0:t.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){ie("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;let t=e.holder,{isMobile:o}=this.Editor.UI,i,r=20,s=e.firstInput,a=t.getBoundingClientRect(),l=s!==void 0?s.getBoundingClientRect():null,c=l!==null?l.top-a.top:null,d=c!==null?c>r:void 0;if(o)i=t.offsetTop+t.offsetHeight;else if(s===void 0||d){let u=parseInt(window.getComputedStyle(e.pluginsContent).paddingTop);i=t.offsetTop+u}else{let u=Xl(s),p=parseInt(window.getComputedStyle(this.nodes.plusButton).height,10);i=t.offsetTop+u-p+8+c}this.nodes.wrapper.style.top=`${Math.floor(i)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e,t;this.Editor.ReadOnly.isEnabled||((e=this.nodes.wrapper)==null||e.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(t=this.toolboxInstance)==null||t.close(),this.Editor.BlockSettings.close(),this.reset())}reset(){this.nodes.wrapper.style.top="unset"}open(e=!0){this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()}make(){return q(this,null,function*(){this.nodes.wrapper=C.make("div",this.CSS.toolbar),["content","actions"].forEach(r=>{this.nodes[r]=C.make("div",this.CSS[r])}),C.append(this.nodes.wrapper,this.nodes.content),C.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=C.make("div",this.CSS.plusButton,{innerHTML:Tc}),C.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{$t(!0),this.plusButtonClicked()},!1);let e=C.make("div");e.appendChild(document.createTextNode(ye.ui(Ce.ui.toolbar.toolbox,"Add"))),e.appendChild(C.make("div",this.CSS.plusButtonShortcut,{textContent:"/"})),Ut(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=C.make("span",this.CSS.settingsToggler,{innerHTML:Sc}),C.append(this.nodes.actions,this.nodes.settingsToggler);let t=C.make("div"),o=C.text(ye.ui(Ce.ui.blockTunes.toggler,"Click to tune")),i=yield Uc("Slash","/");t.appendChild(o),t.appendChild(C.make("div",this.CSS.plusButtonShortcut,{textContent:zo(`CMD + ${i}`)})),Ut(this.nodes.settingsToggler,t,{hidingDelay:400}),C.append(this.nodes.actions,this.makeToolbox()),C.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),C.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)})}makeToolbox(){return this.toolboxInstance=new $c({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:ye.ui(Ce.ui.popover,"Filter"),nothingFound:ye.ui(Ce.ui.popover,"Nothing found")}}),this.toolboxInstance.on(Lt.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Lt.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(Lt.BlockAdded,({block:e})=>{let{BlockManager:t,Caret:o}=this.Editor,i=t.getBlockById(e.id);i.inputs.length===0&&(i===t.lastBlock?(t.insertAtEnd(),o.setToBlock(t.lastBlock)):o.setToBlock(t.nextBlock))}),this.toolboxInstance.getElement()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var t;e.stopPropagation(),this.settingsTogglerClicked(),(t=this.toolboxInstance)!=null&&t.opened&&this.toolboxInstance.close(),$t(!0)},!0),ct()||this.eventsDispatcher.on(ta,e=>{var t;this.Editor.BlockSettings.opened||(t=this.toolboxInstance)!=null&&t.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy()}},Ke=(n=>(n[n.Block=0]="Block",n[n.Inline=1]="Inline",n[n.Tune=2]="Tune",n))(Ke||{}),Mt=(n=>(n.Shortcut="shortcut",n.Toolbox="toolbox",n.EnabledInlineTools="inlineToolbar",n.EnabledBlockTunes="tunes",n.Config="config",n))(Mt||{}),na=(n=>(n.Shortcut="shortcut",n.SanitizeConfig="sanitize",n))(na||{}),it=(n=>(n.IsEnabledLineBreaks="enableLineBreaks",n.Toolbox="toolbox",n.ConversionConfig="conversionConfig",n.IsReadOnlySupported="isReadOnlySupported",n.PasteConfig="pasteConfig",n))(it||{}),Yt=(n=>(n.IsInline="isInline",n.Title="title",n.IsReadOnlySupported="isReadOnlySupported",n))(Yt||{}),xo=(n=>(n.IsTune="isTune",n))(xo||{}),xt=class{constructor({name:e,constructable:t,config:o,api:i,isDefault:r,isInternal:s=!1,defaultPlaceholder:a}){this.api=i,this.name=e,this.constructable=t,this.config=o,this.isDefault=r,this.isInternal=s,this.defaultPlaceholder=a}get settings(){let e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(de(this.constructable.reset))return this.constructable.reset()}prepare(){if(de(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){let e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===Ke.Inline}isBlock(){return this.type===Ke.Block}isTune(){return this.type===Ke.Tune}},Eo=class extends te{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.CSS={inlineToolbar:"ce-inline-toolbar"},this.opened=!1,this.popover=null,this.toolbarVerticalMargin=ct()?20:6,this.tools=new Map,window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}tryToShow(e=!1){return q(this,null,function*(){e&&this.close(),this.allowedToShow()&&(yield this.open(),this.Editor.Toolbar.close())})}close(){var e,t;if(this.opened){for(let[o,i]of this.tools){let r=this.getToolShortcut(o.name);r!==void 0&&at.remove(this.Editor.UI.nodes.redactor,r),de(i.clear)&&i.clear()}this.tools=new Map,this.reset(),this.opened=!1,(e=this.popover)==null||e.hide(),(t=this.popover)==null||t.destroy(),this.popover=null}}containsNode(e){return this.nodes.wrapper===void 0?!1:this.nodes.wrapper.contains(e)}destroy(){var e;this.removeAllNodes(),(e=this.popover)==null||e.destroy(),this.popover=null}make(){this.nodes.wrapper=C.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.wrapper.setAttribute("data-cy","inline-toolbar"),C.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}open(){return q(this,null,function*(){var e;if(this.opened)return;this.opened=!0,this.popover!==null&&this.popover.destroy(),this.createToolsInstances();let t=yield this.getPopoverItems();this.popover=new mo({items:t,scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:ye.ui(Ce.ui.popover,"Nothing found"),search:ye.ui(Ce.ui.popover,"Filter")}}),this.move(this.popover.size.width),(e=this.nodes.wrapper)==null||e.append(this.popover.getElement()),this.popover.show()})}move(e){let t=Y.rect,o=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),i={x:t.x-o.x,y:t.y+t.height-o.top+this.toolbarVerticalMargin};i.x+e+o.x>this.Editor.UI.contentRect.right&&(i.x=this.Editor.UI.contentRect.right-e-o.x),this.nodes.wrapper.style.left=Math.floor(i.x)+"px",this.nodes.wrapper.style.top=Math.floor(i.y)+"px"}reset(){this.nodes.wrapper.style.left="0",this.nodes.wrapper.style.top="0"}allowedToShow(){let e=["IMG","INPUT"],t=Y.get(),o=Y.text;if(!t||!t.anchorNode||t.isCollapsed||o.length<1)return!1;let i=C.isElement(t.anchorNode)?t.anchorNode:t.anchorNode.parentElement;if(i===null||t!==null&&e.includes(i.tagName))return!1;let r=this.Editor.BlockManager.getBlock(t.anchorNode);return!r||this.getTools().some(s=>r.tool.inlineTools.has(s.name))===!1?!1:i.closest("[contenteditable]")!==null}getTools(){let e=this.Editor.BlockManager.currentBlock;return e?Array.from(e.tool.inlineTools.values()).filter(t=>!(this.Editor.ReadOnly.isEnabled&&t.isReadOnlySupported!==!0)):[]}createToolsInstances(){this.tools=new Map,this.getTools().forEach(e=>{let t=e.create();this.tools.set(e,t)})}getPopoverItems(){return q(this,null,function*(){let e=[],t=0;for(let[o,i]of this.tools){let r=yield i.render(),s=this.getToolShortcut(o.name);if(s!==void 0)try{this.enableShortcuts(o.name,s)}catch{}let a=s!==void 0?zo(s):void 0,l=ye.t(Ce.toolNames,o.title||Rt(o.name));[r].flat().forEach(c=>{var d,u;let p={name:o.name,onActivate:()=>{this.toolClicked(i)},hint:{title:l,description:a}};if(C.isElement(c)){let v=we(se({},p),{element:c,type:ce.Html});if(de(i.renderActions)){let m=i.renderActions();v.children={isOpen:(d=i.checkState)==null?void 0:d.call(i,Y.get()),isFlippable:!1,items:[{type:ce.Html,element:m}]}}else(u=i.checkState)==null||u.call(i,Y.get());e.push(v)}else if(c.type===ce.Html)e.push(we(se(se({},p),c),{type:ce.Html}));else if(c.type===ce.Separator)e.push({type:ce.Separator});else{let v=we(se(se({},p),c),{type:ce.Default});"children"in v&&t!==0&&e.push({type:ce.Separator}),e.push(v),"children"in v&&t<this.tools.size-1&&e.push({type:ce.Separator})}}),t++}return e})}getToolShortcut(e){let{Tools:t}=this.Editor,o=t.inlineTools.get(e),i=t.internal.inlineTools;return Array.from(i.keys()).includes(e)?this.inlineTools[e][na.Shortcut]:o?.shortcut}enableShortcuts(e,t){at.add({name:t,handler:o=>{var i;let{currentBlock:r}=this.Editor.BlockManager;r&&r.tool.enabledInlineTools&&(o.preventDefault(),(i=this.popover)==null||i.activateItemByName(e))},on:document})}toolClicked(e){var t;let o=Y.range;(t=e.surround)==null||t.call(e,o),this.checkToolsState()}checkToolsState(){var e;(e=this.tools)==null||e.forEach(t=>{var o;(o=t.checkState)==null||o.call(t,Y.get())})}get inlineTools(){let e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([t,o])=>{e[t]=o.create()}),e}};function oa(){let n=window.getSelection();if(n===null)return[null,0];let e=n.focusNode,t=n.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[t]?(e=e.childNodes[t],t=0):(e=e.childNodes[t-1],t=e.textContent.length)),[e,t])}function ia(n,e,t,o){let i=document.createRange();o==="left"?(i.setStart(n,0),i.setEnd(e,t)):(i.setStart(e,t),i.setEnd(n,n.childNodes.length));let r=i.cloneContents(),s=document.createElement("div");s.appendChild(r);let a=s.textContent||"";return Gl(a)}function Pt(n){let e=C.getDeepestNode(n);if(e===null||C.isEmpty(n))return!0;if(C.isNativeInput(e))return e.selectionEnd===0;if(C.isEmpty(n))return!0;let[t,o]=oa();return t===null?!1:ia(n,t,o,"left")}function Nt(n){let e=C.getDeepestNode(n,!0);if(e===null)return!0;if(C.isNativeInput(e))return e.selectionEnd===e.value.length;let[t,o]=oa();return t===null?!1:ia(n,t,o,"right")}var ra={},Xo={},Vt={},Ze={},Vo={},Zo={};Object.defineProperty(Zo,"__esModule",{value:!0});Zo.allInputsSelector=zc;function zc(){var n=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+n.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.allInputsSelector=void 0;var e=Zo;Object.defineProperty(n,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(Vo);var Je={},Jo={};Object.defineProperty(Jo,"__esModule",{value:!0});Jo.isNativeInput=Wc;function Wc(n){var e=["INPUT","TEXTAREA"];return n&&n.tagName?e.includes(n.tagName):!1}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNativeInput=void 0;var e=Jo;Object.defineProperty(n,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(Je);var sa={},Qo={};Object.defineProperty(Qo,"__esModule",{value:!0});Qo.append=qc;function qc(n,e){Array.isArray(e)?e.forEach(function(t){n.appendChild(t)}):n.appendChild(e)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.append=void 0;var e=Qo;Object.defineProperty(n,"append",{enumerable:!0,get:function(){return e.append}})})(sa);var ei={},ti={};Object.defineProperty(ti,"__esModule",{value:!0});ti.blockElements=Kc;function Kc(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.blockElements=void 0;var e=ti;Object.defineProperty(n,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(ei);var aa={},ni={};Object.defineProperty(ni,"__esModule",{value:!0});ni.calculateBaseline=Yc;function Yc(n){var e=window.getComputedStyle(n),t=parseFloat(e.fontSize),o=parseFloat(e.lineHeight)||t*1.2,i=parseFloat(e.paddingTop),r=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=t*.8,l=(o-t)/2,c=s+r+i+l+a;return c}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateBaseline=void 0;var e=ni;Object.defineProperty(n,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(aa);var la={},oi={},ii={},ri={};Object.defineProperty(ri,"__esModule",{value:!0});ri.isContentEditable=Gc;function Gc(n){return n.contentEditable==="true"}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isContentEditable=void 0;var e=ri;Object.defineProperty(n,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(ii);Object.defineProperty(oi,"__esModule",{value:!0});oi.canSetCaret=Zc;var Xc=Je,Vc=ii;function Zc(n){var e=!0;if((0,Xc.isNativeInput)(n))switch(n.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,Vc.isContentEditable)(n);return e}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.canSetCaret=void 0;var e=oi;Object.defineProperty(n,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(la);var Zt={},si={};function Jc(n,e,t){let o=t.value!==void 0?"value":"get",i=t[o],r=`#${e}Cache`;if(t[o]=function(...s){return this[r]===void 0&&(this[r]=i.apply(this,s)),this[r]},o==="get"&&t.set){let s=t.set;t.set=function(a){delete n[r],s.apply(this,a)}}return t}function ca(){let n={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(n).find(t=>window.navigator.appVersion.toLowerCase().indexOf(t)!==-1);return e!==void 0&&(n[e]=!0),n}function ai(n){return n!=null&&n!==""&&(typeof n!="object"||Object.keys(n).length>0)}function Qc(n){return!ai(n)}var ed=()=>typeof window<"u"&&window.navigator!==null&&ai(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function td(n){let e=ca();return n=n.replace(/shift/gi,"\u21E7").replace(/backspace/gi,"\u232B").replace(/enter/gi,"\u23CE").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238B").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi,"+"),e.mac?n=n.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):n=n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),n}function nd(n){return n[0].toUpperCase()+n.slice(1)}function od(n){let e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=n,document.body.appendChild(e);let t=window.getSelection(),o=document.createRange();if(o.selectNode(e),t===null)throw new Error("Cannot copy text to clipboard");t.removeAllRanges(),t.addRange(o),document.execCommand("copy"),document.body.removeChild(e)}function id(n,e,t){let o;return(...i)=>{let r=this,s=()=>{o=void 0,t!==!0&&n.apply(r,i)},a=t===!0&&o!==void 0;window.clearTimeout(o),o=window.setTimeout(s,e),a&&n.apply(r,i)}}function He(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function rd(n){return He(n)==="boolean"}function da(n){return He(n)==="function"||He(n)==="asyncfunction"}function sd(n){return da(n)&&/^\s*class\s+/.test(n.toString())}function ad(n){return He(n)==="number"}function jt(n){return He(n)==="object"}function ld(n){return Promise.resolve(n)===n}function cd(n){return He(n)==="string"}function dd(n){return He(n)==="undefined"}function Co(n,...e){if(!e.length)return n;let t=e.shift();if(jt(n)&&jt(t))for(let o in t)jt(t[o])?(n[o]===void 0&&Object.assign(n,{[o]:{}}),Co(n[o],t[o])):Object.assign(n,{[o]:t[o]});return Co(n,...e)}function ud(n,e,t){let o=`\xAB${e}\xBB is deprecated and will be removed in the next major release. Please use the \xAB${t}\xBB instead.`;n&&console.warn(o)}function hd(n){try{return new URL(n).href}catch{}return n.substring(0,2)==="//"?window.location.protocol+n:window.location.origin+n}function pd(n){return n>47&&n<58||n===32||n===13||n===229||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223}var gd={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},fd={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},md=class{constructor(){this.completed=Promise.resolve()}add(n){return new Promise((e,t)=>{this.completed=this.completed.then(n).then(e).catch(t)})}};function bd(n,e,t=void 0){let o,i,r,s=null,a=0;t||(t={});let l=function(){a=t.leading===!1?0:Date.now(),s=null,r=n.apply(o,i),s===null&&(o=i=null)};return function(){let c=Date.now();!a&&t.leading===!1&&(a=c);let d=e-(c-a);return o=this,i=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),a=c,r=n.apply(o,i),s===null&&(o=i=null)):!s&&t.trailing!==!1&&(s=setTimeout(l,d)),r}}var vd=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:md,beautifyShortcut:td,cacheable:Jc,capitalize:nd,copyTextToClipboard:od,debounce:id,deepMerge:Co,deprecationAssert:ud,getUserOS:ca,getValidUrl:hd,isBoolean:rd,isClass:sd,isEmpty:Qc,isFunction:da,isIosDevice:ed,isNumber:ad,isObject:jt,isPrintableKey:pd,isPromise:ld,isString:cd,isUndefined:dd,keyCodes:gd,mouseButtons:fd,notEmpty:ai,throttle:bd,typeOf:He},Symbol.toStringTag,{value:"Module"})),li=Pl(vd);Object.defineProperty(si,"__esModule",{value:!0});si.containsOnlyInlineElements=wd;var yd=li,kd=ei;function wd(n){var e;(0,yd.isString)(n)?(e=document.createElement("div"),e.innerHTML=n):e=n;var t=function(o){return!(0,kd.blockElements)().includes(o.tagName.toLowerCase())&&Array.from(o.children).every(t)};return Array.from(e.children).every(t)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.containsOnlyInlineElements=void 0;var e=si;Object.defineProperty(n,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(Zt);var ua={},ci={},Jt={},di={};Object.defineProperty(di,"__esModule",{value:!0});di.make=xd;function xd(n,e,t){var o;e===void 0&&(e=null),t===void 0&&(t={});var i=document.createElement(n);if(Array.isArray(e)){var r=e.filter(function(a){return a!==void 0});(o=i.classList).add.apply(o,r)}else e!==null&&i.classList.add(e);for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s]);return i}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.make=void 0;var e=di;Object.defineProperty(n,"make",{enumerable:!0,get:function(){return e.make}})})(Jt);Object.defineProperty(ci,"__esModule",{value:!0});ci.fragmentToString=Cd;var Ed=Jt;function Cd(n){var e=(0,Ed.make)("div");return e.appendChild(n),e.innerHTML}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fragmentToString=void 0;var e=ci;Object.defineProperty(n,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(ua);var ha={},ui={};Object.defineProperty(ui,"__esModule",{value:!0});ui.getContentLength=Td;var Sd=Je;function Td(n){var e,t;return(0,Sd.isNativeInput)(n)?n.value.length:n.nodeType===Node.TEXT_NODE?n.length:(t=(e=n.textContent)===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getContentLength=void 0;var e=ui;Object.defineProperty(n,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(ha);var hi={},pi={},Os=yt&&yt.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var o=0,i=e.length,r;o<i;o++)(r||!(o in e))&&(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(pi,"__esModule",{value:!0});pi.getDeepestBlockElements=pa;var Od=Zt;function pa(n){return(0,Od.containsOnlyInlineElements)(n)?[n]:Array.from(n.children).reduce(function(e,t){return Os(Os([],e,!0),pa(t),!0)},[])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDeepestBlockElements=void 0;var e=pi;Object.defineProperty(n,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(hi);var ga={},gi={},Qt={},fi={};Object.defineProperty(fi,"__esModule",{value:!0});fi.isLineBreakTag=Bd;function Bd(n){return["BR","WBR"].includes(n.tagName)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isLineBreakTag=void 0;var e=fi;Object.defineProperty(n,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(Qt);var en={},mi={};Object.defineProperty(mi,"__esModule",{value:!0});mi.isSingleTag=_d;function _d(n){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(n.tagName)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSingleTag=void 0;var e=mi;Object.defineProperty(n,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(en);Object.defineProperty(gi,"__esModule",{value:!0});gi.getDeepestNode=fa;var Id=Je,Ad=Qt,Ld=en;function fa(n,e){e===void 0&&(e=!1);var t=e?"lastChild":"firstChild",o=e?"previousSibling":"nextSibling";if(n.nodeType===Node.ELEMENT_NODE&&n[t]){var i=n[t];if((0,Ld.isSingleTag)(i)&&!(0,Id.isNativeInput)(i)&&!(0,Ad.isLineBreakTag)(i))if(i[o])i=i[o];else if(i.parentNode!==null&&i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return fa(i,e)}return n}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDeepestNode=void 0;var e=gi;Object.defineProperty(n,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(ga);var ma={},bi={},It=yt&&yt.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var o=0,i=e.length,r;o<i;o++)(r||!(o in e))&&(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(bi,"__esModule",{value:!0});bi.findAllInputs=Dd;var Md=Zt,Pd=hi,Nd=Vo,jd=Je;function Dd(n){return Array.from(n.querySelectorAll((0,Nd.allInputsSelector)())).reduce(function(e,t){return(0,jd.isNativeInput)(t)||(0,Md.containsOnlyInlineElements)(t)?It(It([],e,!0),[t],!1):It(It([],e,!0),(0,Pd.getDeepestBlockElements)(t),!0)},[])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.findAllInputs=void 0;var e=bi;Object.defineProperty(n,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(ma);var ba={},vi={};Object.defineProperty(vi,"__esModule",{value:!0});vi.isCollapsedWhitespaces=Rd;function Rd(n){return!/[^\t\n\r ]/.test(n)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCollapsedWhitespaces=void 0;var e=vi;Object.defineProperty(n,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(ba);var yi={},ki={};Object.defineProperty(ki,"__esModule",{value:!0});ki.isElement=Hd;var Fd=li;function Hd(n){return(0,Fd.isNumber)(n)?!1:!!n&&!!n.nodeType&&n.nodeType===Node.ELEMENT_NODE}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isElement=void 0;var e=ki;Object.defineProperty(n,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(yi);var va={},wi={},xi={},Ei={};Object.defineProperty(Ei,"__esModule",{value:!0});Ei.isLeaf=$d;function $d(n){return n===null?!1:n.childNodes.length===0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isLeaf=void 0;var e=Ei;Object.defineProperty(n,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(xi);var Ci={},Si={};Object.defineProperty(Si,"__esModule",{value:!0});Si.isNodeEmpty=Kd;var Ud=Qt,zd=yi,Wd=Je,qd=en;function Kd(n,e){var t="";return(0,qd.isSingleTag)(n)&&!(0,Ud.isLineBreakTag)(n)?!1:((0,zd.isElement)(n)&&(0,Wd.isNativeInput)(n)?t=n.value:n.textContent!==null&&(t=n.textContent.replace("\u200B","")),e!==void 0&&(t=t.replace(new RegExp(e,"g"),"")),t.trim().length===0)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNodeEmpty=void 0;var e=Si;Object.defineProperty(n,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(Ci);Object.defineProperty(wi,"__esModule",{value:!0});wi.isEmpty=Xd;var Yd=xi,Gd=Ci;function Xd(n,e){n.normalize();for(var t=[n];t.length>0;){var o=t.shift();if(o){if(n=o,(0,Yd.isLeaf)(n)&&!(0,Gd.isNodeEmpty)(n,e))return!1;t.push.apply(t,Array.from(n.childNodes))}}return!0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isEmpty=void 0;var e=wi;Object.defineProperty(n,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(va);var ya={},Ti={};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.isFragment=Zd;var Vd=li;function Zd(n){return(0,Vd.isNumber)(n)?!1:!!n&&!!n.nodeType&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isFragment=void 0;var e=Ti;Object.defineProperty(n,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(ya);var ka={},Oi={};Object.defineProperty(Oi,"__esModule",{value:!0});Oi.isHTMLString=Qd;var Jd=Jt;function Qd(n){var e=(0,Jd.make)("div");return e.innerHTML=n,e.childElementCount>0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHTMLString=void 0;var e=Oi;Object.defineProperty(n,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(ka);var wa={},Bi={};Object.defineProperty(Bi,"__esModule",{value:!0});Bi.offset=eu;function eu(n){var e=n.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=e.top+o,r=e.left+t;return{top:i,left:r,bottom:i+e.height,right:r+e.width}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.offset=void 0;var e=Bi;Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return e.offset}})})(wa);var xa={},_i={};Object.defineProperty(_i,"__esModule",{value:!0});_i.prepend=tu;function tu(n,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(t){return n.prepend(t)})):n.prepend(e)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.prepend=void 0;var e=_i;Object.defineProperty(n,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(xa);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.prepend=n.offset=n.make=n.isLineBreakTag=n.isSingleTag=n.isNodeEmpty=n.isLeaf=n.isHTMLString=n.isFragment=n.isEmpty=n.isElement=n.isContentEditable=n.isCollapsedWhitespaces=n.findAllInputs=n.isNativeInput=n.allInputsSelector=n.getDeepestNode=n.getDeepestBlockElements=n.getContentLength=n.fragmentToString=n.containsOnlyInlineElements=n.canSetCaret=n.calculateBaseline=n.blockElements=n.append=void 0;var e=Vo;Object.defineProperty(n,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var t=Je;Object.defineProperty(n,"isNativeInput",{enumerable:!0,get:function(){return t.isNativeInput}});var o=sa;Object.defineProperty(n,"append",{enumerable:!0,get:function(){return o.append}});var i=ei;Object.defineProperty(n,"blockElements",{enumerable:!0,get:function(){return i.blockElements}});var r=aa;Object.defineProperty(n,"calculateBaseline",{enumerable:!0,get:function(){return r.calculateBaseline}});var s=la;Object.defineProperty(n,"canSetCaret",{enumerable:!0,get:function(){return s.canSetCaret}});var a=Zt;Object.defineProperty(n,"containsOnlyInlineElements",{enumerable:!0,get:function(){return a.containsOnlyInlineElements}});var l=ua;Object.defineProperty(n,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var c=ha;Object.defineProperty(n,"getContentLength",{enumerable:!0,get:function(){return c.getContentLength}});var d=hi;Object.defineProperty(n,"getDeepestBlockElements",{enumerable:!0,get:function(){return d.getDeepestBlockElements}});var u=ga;Object.defineProperty(n,"getDeepestNode",{enumerable:!0,get:function(){return u.getDeepestNode}});var p=ma;Object.defineProperty(n,"findAllInputs",{enumerable:!0,get:function(){return p.findAllInputs}});var v=ba;Object.defineProperty(n,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return v.isCollapsedWhitespaces}});var m=ii;Object.defineProperty(n,"isContentEditable",{enumerable:!0,get:function(){return m.isContentEditable}});var _=yi;Object.defineProperty(n,"isElement",{enumerable:!0,get:function(){return _.isElement}});var w=va;Object.defineProperty(n,"isEmpty",{enumerable:!0,get:function(){return w.isEmpty}});var F=ya;Object.defineProperty(n,"isFragment",{enumerable:!0,get:function(){return F.isFragment}});var y=ka;Object.defineProperty(n,"isHTMLString",{enumerable:!0,get:function(){return y.isHTMLString}});var B=xi;Object.defineProperty(n,"isLeaf",{enumerable:!0,get:function(){return B.isLeaf}});var N=Ci;Object.defineProperty(n,"isNodeEmpty",{enumerable:!0,get:function(){return N.isNodeEmpty}});var W=Qt;Object.defineProperty(n,"isLineBreakTag",{enumerable:!0,get:function(){return W.isLineBreakTag}});var k=en;Object.defineProperty(n,"isSingleTag",{enumerable:!0,get:function(){return k.isSingleTag}});var S=Jt;Object.defineProperty(n,"make",{enumerable:!0,get:function(){return S.make}});var E=wa;Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return E.offset}});var x=xa;Object.defineProperty(n,"prepend",{enumerable:!0,get:function(){return x.prepend}})})(Ze);var tn={};Object.defineProperty(tn,"__esModule",{value:!0});tn.getContenteditableSlice=ou;var nu=Ze;function ou(n,e,t,o,i){var r;i===void 0&&(i=!1);var s=document.createRange();if(o==="left"?(s.setStart(n,0),s.setEnd(e,t)):(s.setStart(e,t),s.setEnd(n,n.childNodes.length)),i===!0){var a=s.extractContents();return(0,nu.fragmentToString)(a)}var l=s.cloneContents(),c=document.createElement("div");c.appendChild(l);var d=(r=c.textContent)!==null&&r!==void 0?r:"";return d}Object.defineProperty(Vt,"__esModule",{value:!0});Vt.checkContenteditableSliceForEmptiness=su;var iu=Ze,ru=tn;function su(n,e,t,o){var i=(0,ru.getContenteditableSlice)(n,e,t,o);return(0,iu.isCollapsedWhitespaces)(i)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.checkContenteditableSliceForEmptiness=void 0;var e=Vt;Object.defineProperty(n,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}})})(Xo);var Ea={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getContenteditableSlice=void 0;var e=tn;Object.defineProperty(n,"getContenteditableSlice",{enumerable:!0,get:function(){return e.getContenteditableSlice}})})(Ea);var Ca={},Ii={};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.focus=lu;var au=Ze;function lu(n,e){var t,o;if(e===void 0&&(e=!0),(0,au.isNativeInput)(n)){n.focus();var i=e?0:n.value.length;n.setSelectionRange(i,i)}else{var r=document.createRange(),s=window.getSelection();if(!s)return;var a=function(p){var v=document.createTextNode("");p.appendChild(v),r.setStart(v,0),r.setEnd(v,0)},l=function(p){return p!=null},c=n.childNodes,d=e?c[0]:c[c.length-1];if(l(d)){for(;l(d)&&d.nodeType!==Node.TEXT_NODE;)d=e?d.firstChild:d.lastChild;if(l(d)&&d.nodeType===Node.TEXT_NODE){var u=(o=(t=d.textContent)===null||t===void 0?void 0:t.length)!==null&&o!==void 0?o:0,i=e?0:u;r.setStart(d,i),r.setEnd(d,i)}else a(n)}else a(n);s.removeAllRanges(),s.addRange(r)}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.focus=void 0;var e=Ii;Object.defineProperty(n,"focus",{enumerable:!0,get:function(){return e.focus}})})(Ca);var Ai={},nn={};Object.defineProperty(nn,"__esModule",{value:!0});nn.getCaretNodeAndOffset=cu;function cu(){var n=window.getSelection();if(n===null)return[null,0];var e=n.focusNode,t=n.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[t]!==void 0?(e=e.childNodes[t],t=0):(e=e.childNodes[t-1],e.textContent!==null&&(t=e.textContent.length))),[e,t])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaretNodeAndOffset=void 0;var e=nn;Object.defineProperty(n,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return e.getCaretNodeAndOffset}})})(Ai);var Sa={},on={};Object.defineProperty(on,"__esModule",{value:!0});on.getRange=du;function du(){var n=window.getSelection();return n&&n.rangeCount?n.getRangeAt(0):null}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRange=void 0;var e=on;Object.defineProperty(n,"getRange",{enumerable:!0,get:function(){return e.getRange}})})(Sa);var Ta={},Li={};Object.defineProperty(Li,"__esModule",{value:!0});Li.isCaretAtEndOfInput=pu;var Bs=Ze,uu=Ai,hu=Xo;function pu(n){var e=(0,Bs.getDeepestNode)(n,!0);if(e===null)return!0;if((0,Bs.isNativeInput)(e))return e.selectionEnd===e.value.length;var t=(0,uu.getCaretNodeAndOffset)(),o=t[0],i=t[1];return o===null?!1:(0,hu.checkContenteditableSliceForEmptiness)(n,o,i,"right")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCaretAtEndOfInput=void 0;var e=Li;Object.defineProperty(n,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return e.isCaretAtEndOfInput}})})(Ta);var Oa={},Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});Mi.isCaretAtStartOfInput=mu;var At=Ze,gu=nn,fu=Vt;function mu(n){var e=(0,At.getDeepestNode)(n);if(e===null||(0,At.isEmpty)(n))return!0;if((0,At.isNativeInput)(e))return e.selectionEnd===0;if((0,At.isEmpty)(n))return!0;var t=(0,gu.getCaretNodeAndOffset)(),o=t[0],i=t[1];return o===null?!1:(0,fu.checkContenteditableSliceForEmptiness)(n,o,i,"left")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCaretAtStartOfInput=void 0;var e=Mi;Object.defineProperty(n,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return e.isCaretAtStartOfInput}})})(Oa);var Ba={},Pi={};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.save=yu;var bu=Ze,vu=on;function yu(){var n=(0,vu.getRange)(),e=(0,bu.make)("span");if(e.id="cursor",e.hidden=!0,!!n)return n.insertNode(e),function(){var t=window.getSelection();t&&(n.setStartAfter(e),n.setEndAfter(e),t.removeAllRanges(),t.addRange(n),setTimeout(function(){e.remove()},150))}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.save=void 0;var e=Pi;Object.defineProperty(n,"save",{enumerable:!0,get:function(){return e.save}})})(Ba);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.save=n.isCaretAtStartOfInput=n.isCaretAtEndOfInput=n.getRange=n.getCaretNodeAndOffset=n.focus=n.getContenteditableSlice=n.checkContenteditableSliceForEmptiness=void 0;var e=Xo;Object.defineProperty(n,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}});var t=Ea;Object.defineProperty(n,"getContenteditableSlice",{enumerable:!0,get:function(){return t.getContenteditableSlice}});var o=Ca;Object.defineProperty(n,"focus",{enumerable:!0,get:function(){return o.focus}});var i=Ai;Object.defineProperty(n,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return i.getCaretNodeAndOffset}});var r=Sa;Object.defineProperty(n,"getRange",{enumerable:!0,get:function(){return r.getRange}});var s=Ta;Object.defineProperty(n,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return s.isCaretAtEndOfInput}});var a=Oa;Object.defineProperty(n,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return a.isCaretAtStartOfInput}});var l=Ba;Object.defineProperty(n,"save",{enumerable:!0,get:function(){return l.save}})})(ra);var So=class extends te{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case Z.BACKSPACE:this.backspace(e);break;case Z.DELETE:this.delete(e);break;case Z.ENTER:this.enter(e);break;case Z.DOWN:case Z.RIGHT:this.arrowRightAndDown(e);break;case Z.UP:case Z.LEFT:this.arrowLeftAndUp(e);break;case Z.TAB:this.tabPressed(e);break}e.key==="/"&&!e.ctrlKey&&!e.metaKey&&this.slashPressed(e),e.code==="Slash"&&(e.ctrlKey||e.metaKey)&&(e.preventDefault(),this.commandSlashPressed())}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&Ps(e.keyCode)&&(this.Editor.Toolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||this.Editor.BlockSelection.clearSelection(e))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}dragOver(e){let t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!0}dragLeave(e){let t=this.Editor.BlockManager.getBlockByChildNode(e.target);t.dropTarget=!1}handleCommandC(e){let{BlockSelection:t}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e)}handleCommandX(e){let{BlockSelection:t,BlockManager:o,Caret:i}=this.Editor;t.anyBlockSelected&&t.copySelectedBlocks(e).then(()=>{let r=o.removeSelectedBlocks(),s=o.insertDefaultBlockAtIndex(r,!0);i.setToBlock(s,i.positions.START),t.clearSelection(e)})}tabPressed(e){let{InlineToolbar:t,Caret:o}=this.Editor;t.opened||(e.shiftKey?o.navigatePrevious(!0):o.navigateNext(!0))&&e.preventDefault()}commandSlashPressed(){this.Editor.BlockSelection.selectedBlocks.length>1||this.activateBlockSettings()}slashPressed(e){this.Editor.BlockManager.currentBlock.isEmpty&&(e.preventDefault(),this.Editor.Caret.insertContentAtCaretPosition("/"),this.activateToolbox())}enter(e){let{BlockManager:t,UI:o}=this.Editor,i=t.currentBlock;if(i===void 0||i.tool.isLineBreaksEnabled||o.someToolbarOpened&&o.someFlipperButtonFocused||e.shiftKey&&!Kn)return;let r=i;i.currentInput!==void 0&&Pt(i.currentInput)&&!i.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):i.currentInput&&Nt(i.currentInput)?r=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):r=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(r),this.Editor.Toolbar.moveAndOpen(r),e.preventDefault()}backspace(e){let{BlockManager:t,Caret:o}=this.Editor,{currentBlock:i,previousBlock:r}=t;if(!(i===void 0||!Y.isCollapsed||!i.currentInput||!Pt(i.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.firstInput){o.navigatePrevious();return}if(r!==null){if(r.isEmpty){t.removeBlock(r);return}if(i.isEmpty){t.removeBlock(i);let s=t.currentBlock;o.setToBlock(s,o.positions.END);return}xs(r,i)?this.mergeBlocks(r,i):o.setToBlock(r,o.positions.END)}}}delete(e){let{BlockManager:t,Caret:o}=this.Editor,{currentBlock:i,nextBlock:r}=t;if(!(!Y.isCollapsed||!Nt(i.currentInput))){if(e.preventDefault(),this.Editor.Toolbar.close(),i.currentInput!==i.lastInput){o.navigateNext();return}if(r!==null){if(r.isEmpty){t.removeBlock(r);return}if(i.isEmpty){t.removeBlock(i),o.setToBlock(r,o.positions.START);return}xs(i,r)?this.mergeBlocks(i,r):o.setToBlock(r,o.positions.START)}}}mergeBlocks(e,t){let{BlockManager:o,Toolbar:i}=this.Editor;e.lastInput!==void 0&&(ra.focus(e.lastInput,!1),o.mergeBlocks(e,t).then(()=>{i.close()}))}arrowRightAndDown(e){let t=st.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Z.TAB);if(this.Editor.UI.someToolbarOpened&&t)return;this.Editor.Toolbar.close();let{currentBlock:o}=this.Editor.BlockManager,i=(o?.currentInput!==void 0?Nt(o.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===Z.DOWN&&i){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}if(e.keyCode===Z.DOWN||e.keyCode===Z.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious()){e.preventDefault();return}Dt(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(st.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===Z.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.Toolbar.close();let{currentBlock:t}=this.Editor.BlockManager,o=(t?.currentInput!==void 0?Pt(t.currentInput):void 0)||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===Z.UP&&o){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}if(e.keyCode===Z.UP||e.keyCode===Z.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext()){e.preventDefault();return}Dt(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){let t=e.keyCode===Z.ENTER&&this.Editor.Toolbar.toolbox.opened,o=e.keyCode===Z.ENTER&&this.Editor.BlockSettings.opened,i=e.keyCode===Z.ENTER&&this.Editor.InlineToolbar.opened,r=e.keyCode===Z.TAB;return!(e.shiftKey||r||t||o||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}},vt=class{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return Ns(this.workingArea.children)}static set(e,t,o){return isNaN(Number(t))?(Reflect.set(e,t,o),!0):(e.insert(+t,o),!0)}static get(e,t){return isNaN(Number(t))?Reflect.get(e,t):e.get(+t)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,t){let o=this.blocks[t];C.swap(this.blocks[e].holder,o.holder),this.blocks[t]=this.blocks[e],this.blocks[e]=o}move(e,t){let o=this.blocks.splice(t,1)[0],i=e-1,r=Math.max(0,i),s=this.blocks[r];e>0?this.insertToDOM(o,"afterend",s):this.insertToDOM(o,"beforebegin",s),this.blocks.splice(e,0,o);let a=this.composeBlockEvent("move",{fromIndex:t,toIndex:e});o.call(Ne.MOVED,a)}insert(e,t,o=!1){if(!this.length){this.push(t);return}e>this.length&&(e=this.length),o&&(this.blocks[e].holder.remove(),this.blocks[e].call(Ne.REMOVED));let i=o?1:0;if(this.blocks.splice(e,i,t),e>0){let r=this.blocks[e-1];this.insertToDOM(t,"afterend",r)}else{let r=this.blocks[e+1];r?this.insertToDOM(t,"beforebegin",r):this.insertToDOM(t)}}replace(e,t){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(t.holder),this.blocks[e]=t}insertMany(e,t){let o=new DocumentFragment;for(let i of e)o.appendChild(i.holder);if(this.length>0){if(t>0){let i=Math.min(t-1,this.length-1);this.blocks[i].holder.after(o)}else t===0&&this.workingArea.prepend(o);this.blocks.splice(t,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(o);e.forEach(i=>i.call(Ne.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(Ne.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(Ne.REMOVED)),this.blocks.length=0}insertAfter(e,t){let o=this.blocks.indexOf(e);this.insert(o+1,t)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,t,o){t?o.holder.insertAdjacentElement(t,e.holder):this.workingArea.appendChild(e.holder),e.call(Ne.RENDERED)}composeBlockEvent(e,t){return new CustomEvent(e,{detail:t})}},_s="block-removed",Is="block-added",ku="block-moved",As="block-changed",To=class{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,o)=>{this.completed=this.completed.then(e).then(t).catch(o)})}},Oo=class extends te{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){let e=new vt(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:vt.set,get:vt.get}),this.listeners.on(document,"copy",t=>this.Editor.BlockEvents.handleCommandC(t))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:t={},id:o=void 0,tunes:i={}}){let r=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new _e({id:o,data:t,tool:s,api:this.Editor.API,readOnly:r,tunesData:i},this.eventsDispatcher);return r||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:e=void 0,tool:t=this.config.defaultBlock,data:o={},index:i,needToFocus:r=!0,replace:s=!1,tunes:a={}}={}){let l=i;l===void 0&&(l=this.currentBlockIndex+(s?0:1));let c=this.composeBlock({id:e,tool:t,data:o,tunes:a});return s&&this.blockDidMutated(_s,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(Is,c,{index:l}),r?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}insertMany(e,t=0){this._blocks.insertMany(e,t)}update(e,t,o){return q(this,null,function*(){if(!t&&!o)return e;let i=yield e.data,r=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},i,t??{}),tunes:o??e.tunes}),s=this.getBlockIndex(e);return this._blocks.replace(s,r),this.blockDidMutated(As,r,{index:s}),r})}replace(e,t,o){let i=this.getBlockIndex(e);return this.insert({tool:t,data:o,index:i,replace:!0})}paste(e,t,o=!1){let i=this.insert({tool:e,replace:o});try{window.requestIdleCallback(()=>{i.call(Ne.ON_PASTE,t)})}catch(r){ie(`${e}: onPaste callback call is failed`,"error",r)}return i}insertDefaultBlockAtIndex(e,t=!1){let o=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=o,this.blockDidMutated(Is,o,{index:e}),t?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,o}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}mergeBlocks(e,t){return q(this,null,function*(){let o;if(e.name===t.name&&e.mergeable){let i=yield t.data;if(Be(i)){console.error("Could not merge Block. Failed to extract original Block data.");return}let[r]=Wo([i],e.tool.sanitizeConfig);o=r}else if(e.mergeable&&Ht(t,"export")&&Ht(e,"import")){let i=yield t.exportDataAsString(),r=Le(i,e.tool.sanitizeConfig);o=Es(r,e.tool.conversionConfig)}o!==void 0&&(yield e.mergeWith(o),this.removeBlock(t),this.currentBlockIndex=this._blocks.indexOf(e))})}removeBlock(e,t=!0){return new Promise(o=>{let i=this._blocks.indexOf(e);if(!this.validateIndex(i))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(i),this.blockDidMutated(_s,e,{index:i}),this.currentBlockIndex>=i&&this.currentBlockIndex--,this.blocks.length?i===0&&(this.currentBlockIndex=0):(this.unsetCurrentBlock(),t&&this.insert()),o()})}removeSelectedBlocks(){let e;for(let t=this.blocks.length-1;t>=0;t--)this.blocks[t].selected&&(this.removeBlock(this.blocks[t]),e=t);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.unsetCurrentBlock(),this.insert(),this.currentBlock.firstInput.focus()}split(){let e=this.Editor.Caret.extractFragmentFromCaretPosition(),t=C.make("div");t.appendChild(e);let o={text:C.isEmpty(t)?"":t.innerHTML};return this.insert({data:o})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(t=>t.id===e)}getBlock(e){C.isElement(e)||(e=e.parentNode);let t=this._blocks.nodes,o=e.closest(`.${_e.CSS.wrapper}`),i=t.indexOf(o);if(i>=0)return this._blocks[i]}setCurrentBlockByChildNode(e){C.isElement(e)||(e=e.parentNode);let t=e.closest(`.${_e.CSS.wrapper}`);if(!t)return;let o=t.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(o!=null&&o.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(t),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){if(!e||!(e instanceof Node))return;C.isElement(e)||(e=e.parentNode);let t=e.closest(`.${_e.CSS.wrapper}`);return this.blocks.find(o=>o.holder===t)}swap(e,t){this._blocks.swap(e,t),this.currentBlockIndex=t}move(e,t=this.currentBlockIndex){if(isNaN(e)||isNaN(t)){ie("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(t)){ie("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,t),this.currentBlockIndex=e,this.blockDidMutated(ku,this.currentBlock,{fromIndex:t,toIndex:e})}convert(e,t,o){return q(this,null,function*(){if(!(yield e.save()))throw new Error("Could not convert Block. Failed to extract original Block data.");let i=this.Editor.Tools.blockTools.get(t);if(!i)throw new Error(`Could not convert Block. Tool \xAB${t}\xBB not found.`);let r=yield e.exportDataAsString(),s=Le(r,i.sanitizeConfig),a=Es(s,i.conversionConfig,i.settings);return o&&(a=Object.assign(a,o)),this.replace(e,i.name,a)})}unsetCurrentBlock(){this.currentBlockIndex=-1}clear(e=!1){return q(this,null,function*(){let t=new To;this.blocks.forEach(o=>{t.add(()=>q(this,null,function*(){yield this.removeBlock(o,!1)}))}),yield t.completed,this.unsetCurrentBlock(),e&&this.insert(),this.Editor.UI.checkEmptiness()})}destroy(){return q(this,null,function*(){yield Promise.all(this.blocks.map(e=>e.destroy()))})}bindBlockEvents(e){let{BlockEvents:t}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",o=>{t.keydown(o)}),this.readOnlyMutableListeners.on(e.holder,"keyup",o=>{t.keyup(o)}),this.readOnlyMutableListeners.on(e.holder,"dragover",o=>{t.dragOver(o)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",o=>{t.dragLeave(o)}),e.on("didMutated",o=>this.blockDidMutated(As,o,{index:this.getBlockIndex(o)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,t,o){let i=new CustomEvent(e,{detail:se({target:new Pe(t)},o)});return this.eventsDispatcher.emit(Hs,{event:i}),t}},Bo=class extends te{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){let{BlockManager:e}=this.Editor;return e.blocks.every(t=>t.selected===!0)}set allBlocksSelected(e){let{BlockManager:t}=this.Editor;t.blocks.forEach(o=>{o.selected=e}),this.clearCache()}get anyBlockSelected(){let{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(t=>t.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new Y,at.add({name:"CMD+A",handler:e=>{let{BlockManager:t,ReadOnly:o}=this.Editor;if(o.isEnabled){e.preventDefault(),this.selectAllBlocks();return}t.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){Y.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){let{BlockManager:t}=this.Editor,o;isNaN(e)?o=t.currentBlock:o=t.getBlockByIndex(e),o.selected=!1,this.clearCache()}clearSelection(e,t=!1){let{BlockManager:o,Caret:i,RectangleSelection:r}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;let s=e&&e instanceof KeyboardEvent,a=s&&Ps(e.keyCode);if(this.anyBlockSelected&&s&&a&&!Y.isSelectionExists){let l=o.removeSelectedBlocks();o.insertDefaultBlockAtIndex(l,!0),i.setToBlock(o.currentBlock),Dt(()=>{let c=e.key;i.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||r.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}t&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();let t=C.make("div");this.selectedBlocks.forEach(r=>{let s=Le(r.holder.innerHTML,this.sanitizerConfig),a=C.make("p");a.innerHTML=s,t.appendChild(a)});let o=Array.from(t.childNodes).map(r=>r.textContent).join(`

`),i=t.innerHTML;return e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",i),Promise.all(this.selectedBlocks.map(r=>r.save())).then(r=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(r))}catch{}})}selectBlockByIndex(e){let{BlockManager:t}=this.Editor,o=t.getBlockByIndex(e);o!==void 0&&this.selectBlock(o)}selectBlock(e){this.selection.save(),Y.get().removeAllRanges(),e.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}unselectBlock(e){e.selected=!1,this.clearCache()}clearCache(){this.anyBlockSelectedCache=null}destroy(){at.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),C.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}let t=this.Editor.BlockManager.getBlock(e.target),o=t.inputs;if(o.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(o.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlock(t),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),Y.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}},_o=class n extends te{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}setToBlock(e,t=this.positions.DEFAULT,o=0){var i;let{BlockManager:r,BlockSelection:s}=this.Editor;if(s.clearSelection(),!e.focusable){(i=window.getSelection())==null||i.removeAllRanges(),s.selectBlock(e),r.currentBlock=e;return}let a;switch(t){case this.positions.START:a=e.firstInput;break;case this.positions.END:a=e.lastInput;break;default:a=e.currentInput}if(!a)return;let l=C.getDeepestNode(a,t===this.positions.END),c=C.getContentLength(l);switch(!0){case t===this.positions.START:o=0;break;case t===this.positions.END:case o>c:o=c;break}this.set(l,o),r.setCurrentBlockByChildNode(e.holder),r.currentBlock.currentInput=a}setToInput(e,t=this.positions.DEFAULT,o=0){let{currentBlock:i}=this.Editor.BlockManager,r=C.getDeepestNode(e);switch(t){case this.positions.START:this.set(r,0);break;case this.positions.END:this.set(r,C.getContentLength(r));break;default:o&&this.set(r,o)}i.currentInput=e}set(e,t=0){let{top:o,bottom:i}=Y.setCursor(e,t),{innerHeight:r}=window;o<0?window.scrollBy(0,o-30):i>r&&window.scrollBy(0,i-r+30)}setToTheLastBlock(){let e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{let t=this.Editor.BlockManager.insertAtEnd();this.setToBlock(t)}}extractFragmentFromCaretPosition(){let e=Y.get();if(e.rangeCount){let t=e.getRangeAt(0),o=this.Editor.BlockManager.currentBlock.currentInput;if(t.deleteContents(),o)if(C.isNativeInput(o)){let i=o,r=document.createDocumentFragment(),s=i.value.substring(0,i.selectionStart),a=i.value.substring(i.selectionStart);return r.textContent=a,i.value=s,r}else{let i=t.cloneRange();return i.selectNodeContents(o),i.setStart(t.endContainer,t.endOffset),i.extractContents()}}}navigateNext(e=!1){let{BlockManager:t}=this.Editor,{currentBlock:o,nextBlock:i}=t;if(o===void 0)return!1;let{nextInput:r,currentInput:s}=o,a=s!==void 0?Nt(s):void 0,l=i,c=e||a||!o.focusable;if(r&&c)return this.setToInput(r,this.positions.START),!0;if(l===null){if(o.tool.isDefault||!c)return!1;l=t.insertAtEnd()}return c?(this.setToBlock(l,this.positions.START),!0):!1}navigatePrevious(e=!1){let{currentBlock:t,previousBlock:o}=this.Editor.BlockManager;if(!t)return!1;let{previousInput:i,currentInput:r}=t,s=r!==void 0?Pt(r):void 0,a=e||s||!t.focusable;return i&&a?(this.setToInput(i,this.positions.END),!0):o!==null&&a?(this.setToBlock(o,this.positions.END),!0):!1}createShadow(e){let t=document.createElement("span");t.classList.add(n.CSS.shadowCaret),e.insertAdjacentElement("beforeend",t)}restoreCaret(e){let t=e.querySelector(`.${n.CSS.shadowCaret}`);if(!t)return;new Y().expandToTag(t);let o=document.createRange();o.selectNode(t),o.extractContents()}insertContentAtCaretPosition(e){let t=document.createDocumentFragment(),o=document.createElement("div"),i=Y.get(),r=Y.range;o.innerHTML=e,Array.from(o.childNodes).forEach(c=>t.appendChild(c)),t.childNodes.length===0&&t.appendChild(new Text);let s=t.lastChild;r.deleteContents(),r.insertNode(t);let a=document.createRange(),l=s.nodeType===Node.TEXT_NODE?s:s.firstChild;l!==null&&l.textContent!==null&&a.setStart(l,l.textContent.length),i.removeAllRanges(),i.addRange(a)}},Io=class extends te{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{let{BlockManager:t,BlockSelection:o}=this.Editor;if(e.relatedTarget===null&&e.target===null)return;let i=t.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,r=t.getBlockByChildNode(e.target);if(!(!i||!r)&&r!==i){if(i===this.firstSelectedBlock){Y.get().removeAllRanges(),i.selected=!0,r.selected=!0,o.clearCache();return}if(r===this.firstSelectedBlock){i.selected=!1,r.selected=!1,o.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(i,r),this.lastSelectedBlock=r}}}prepare(){return q(this,null,function*(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})})}watchSelection(e){if(e.button!==jl.LEFT)return;let{BlockManager:t}=this.Editor;this.firstSelectedBlock=t.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock&&this.firstSelectedBlock!==this.lastSelectedBlock}toggleBlockSelectedState(e=!0){let{BlockManager:t,BlockSelection:o}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=t.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,o.clearCache(),Y.get().removeAllRanges());let i=t.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),r=t.blocks[i];r&&(this.lastSelectedBlock.selected!==r.selected?(r.selected=!0,o.clearCache()):(this.lastSelectedBlock.selected=!1,o.clearCache()),this.lastSelectedBlock=r,this.Editor.InlineToolbar.close(),r.holder.scrollIntoView({block:"nearest"}))}clear(e){let{BlockManager:t,BlockSelection:o,Caret:i}=this.Editor,r=t.blocks.indexOf(this.firstSelectedBlock),s=t.blocks.indexOf(this.lastSelectedBlock);if(o.anyBlockSelected&&r>-1&&s>-1&&e&&e instanceof KeyboardEvent)switch(e.keyCode){case Z.DOWN:case Z.RIGHT:i.setToBlock(t.blocks[Math.max(r,s)],i.positions.END);break;case Z.UP:case Z.LEFT:i.setToBlock(t.blocks[Math.min(r,s)],i.positions.START);break;default:i.setToBlock(t.blocks[Math.max(r,s)],i.positions.END)}this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){let{UI:t}=this.Editor;Y.isCollapsed||this.Editor.BlockSelection.clearSelection(e),t.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,t){let{BlockManager:o,BlockSelection:i}=this.Editor,r=o.blocks.indexOf(e),s=o.blocks.indexOf(t),a=e.selected!==t.selected;for(let l=Math.min(r,s);l<=Math.max(r,s);l++){let c=o.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:t)&&(o.blocks[l].selected=!o.blocks[l].selected,i.clearCache())}}},Ao=class extends te{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){let{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",t=>q(this,null,function*(){yield this.processDrop(t)}),!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",t=>{this.processDragOver(t)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}processDrop(e){return q(this,null,function*(){let{BlockManager:t,Paste:o,Caret:i}=this.Editor;e.preventDefault(),t.blocks.forEach(s=>{s.dropTarget=!1}),Y.isAtEditor&&!Y.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;let r=t.setCurrentBlockByChildNode(e.target);if(r)this.Editor.Caret.setToBlock(r,i.positions.END);else{let s=t.setCurrentBlockByChildNode(t.lastBlock.holder);this.Editor.Caret.setToBlock(s,i.positions.END)}yield o.processDataTransfer(e.dataTransfer,!0)})}processDragStart(){Y.isAtEditor&&!Y.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}},wu=180,xu=400,Lo=class extends te{constructor({config:e,eventsDispatcher:t}){super({config:e,eventsDispatcher:t}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=xu,this.mutationObserver=new MutationObserver(o=>{this.redactorChanged(o)}),this.eventsDispatcher.on(Hs,o=>{this.particularBlockChanged(o.event)}),this.eventsDispatcher.on($s,()=>{this.disable()}),this.eventsDispatcher.on(Us,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!de(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let t;this.batchingOnChangeQueue.size===1?t=this.batchingOnChangeQueue.values().next().value:t=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,t),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Yn,{mutations:e})}},Eu=(()=>{let n=class _a extends te{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{let o=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!de(o.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(o){ie(`Paste handling for \xAB${t.name}\xBB Tool hasn't been set up because of the error`,"warn",o)}},this.handlePasteEvent=t=>q(this,null,function*(){let{BlockManager:o,Toolbar:i}=this.Editor,r=o.setCurrentBlockByChildNode(t.target);!r||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||r&&this.exceptionList.includes(r.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),i.close())})}prepare(){return q(this,null,function*(){this.processTools()})}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}processDataTransfer(t,o=!1){return q(this,null,function*(){let{Tools:i}=this.Editor,r=t.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!Be(this.toolsFiles)){yield this.processFiles(t.files);return}let s=t.getData(this.MIME_TYPE),a=t.getData("text/plain"),l=t.getData("text/html");if(s)try{this.insertEditorJSData(JSON.parse(s));return}catch{}o&&a.trim()&&l.trim()&&(l="<p>"+(l.trim()?l:a)+"</p>");let c=Object.keys(this.toolsTags).reduce((p,v)=>(p[v.toLowerCase()]=this.toolsTags[v].sanitizationConfig??{},p),{}),d=Object.assign({},c,i.getAllInlineToolsSanitizeConfig(),{br:{}}),u=Le(l,d);!u.trim()||u.trim()===a||!C.isHTMLString(u)?yield this.processText(a):yield this.processText(u,!0)})}processText(t,o=!1){return q(this,null,function*(){let{Caret:i,BlockManager:r}=this.Editor,s=o?this.processHTML(t):this.processPlain(t);if(!s.length)return;if(s.length===1){s[0].isBlock?this.processSingleBlock(s.pop()):this.processInlinePaste(s.pop());return}let a=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;s.map((l,c)=>q(this,null,function*(){return this.insertBlock(l,c===0&&a)})),r.currentBlock&&i.setToBlock(r.currentBlock,i.positions.END)})}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){let t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return De(t)?[t]:ge(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;let o=t.pasteConfig.tags||[],i=[];o.forEach(r=>{let s=this.collectTagNames(r);i.push(...s),s.forEach(a=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,a)){ie(`Paste handler for \xAB${t.name}\xBB Tool on \xAB${a}\xBB tag is skipped because it is already used by \xAB${this.toolsTags[a].tool.name}\xBB Tool.`,"warn");return}let l=ge(r)?r[a]:null;this.toolsTags[a.toUpperCase()]={tool:t,sanitizationConfig:l}})}),this.tagsByTool[t.name]=i.map(r=>r.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;let{files:o={}}=t.pasteConfig,{extensions:i,mimeTypes:r}=o;!i&&!r||(i&&!Array.isArray(i)&&(ie(`\xABextensions\xBB property of the onDrop config for \xAB${t.name}\xBB Tool should be an array`),i=[]),r&&!Array.isArray(r)&&(ie(`\xABmimeTypes\xBB property of the onDrop config for \xAB${t.name}\xBB Tool should be an array`),r=[]),r&&(r=r.filter(s=>$l(s)?!0:(ie(`MIME type value \xAB${s}\xBB for the \xAB${t.name}\xBB Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:i||[],mimeTypes:r||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||Be(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([o,i])=>{i instanceof RegExp||ie(`Pattern ${i} for \xAB${t.name}\xBB Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:o,pattern:i,tool:t})})}isNativeBehaviour(t){return C.isNativeInput(t)}processFiles(t){return q(this,null,function*(){let{BlockManager:o}=this.Editor,i;i=yield Promise.all(Array.from(t).map(s=>this.processFile(s))),i=i.filter(s=>!!s);let r=o.currentBlock.tool.isDefault&&o.currentBlock.isEmpty;i.forEach((s,a)=>{o.paste(s.type,s.event,a===0&&r)})})}processFile(t){return q(this,null,function*(){let o=Hl(t),i=Object.entries(this.toolsFiles).find(([s,{mimeTypes:a,extensions:l}])=>{let[c,d]=t.type.split("/"),u=l.find(v=>v.toLowerCase()===o.toLowerCase()),p=a.find(v=>{let[m,_]=v.split("/");return m===c&&(_===d||_==="*")});return!!u||!!p});if(!i)return;let[r]=i;return{event:this.composePasteEvent("file",{file:t}),type:r}})}processHTML(t){let{Tools:o}=this.Editor,i=C.make("DIV");return i.innerHTML=t,this.getNodes(i).map(r=>{let s,a=o.defaultTool,l=!1;switch(r.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:s=C.make("div"),s.appendChild(r);break;case Node.ELEMENT_NODE:s=r,l=!0,this.toolsTags[s.tagName]&&(a=this.toolsTags[s.tagName].tool);break}let{tags:c}=a.pasteConfig||{tags:[]},d=c.reduce((v,m)=>(this.collectTagNames(m).forEach(_=>{let w=ge(m)?m[_]:null;v[_.toLowerCase()]=w||{}}),v),{}),u=Object.assign({},d,a.baseSanitizeConfig);if(s.tagName.toLowerCase()==="table"){let v=Le(s.outerHTML,u);s=C.make("div",void 0,{innerHTML:v}).firstChild}else s.innerHTML=Le(s.innerHTML,u);let p=this.composePasteEvent("tag",{data:s});return{content:s,isBlock:l,tool:a.name,event:p}}).filter(r=>{let s=C.isEmpty(r.content),a=C.isSingleTag(r.content);return!s||a})}processPlain(t){let{defaultBlock:o}=this.config;if(!t)return[];let i=o;return t.split(/\r?\n/).filter(r=>r.trim()).map(r=>{let s=C.make("div");s.textContent=r;let a=this.composePasteEvent("tag",{data:s});return{content:s,tool:i,isBlock:!1,event:a}})}processSingleBlock(t){return q(this,null,function*(){let{Caret:o,BlockManager:i}=this.Editor,{currentBlock:r}=i;if(!r||t.tool!==r.name||!C.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,r?.tool.isDefault&&r.isEmpty);return}o.insertContentAtCaretPosition(t.content.innerHTML)})}processInlinePaste(t){return q(this,null,function*(){let{BlockManager:o,Caret:i}=this.Editor,{content:r}=t;if(o.currentBlock&&o.currentBlock.tool.isDefault&&r.textContent.length<_a.PATTERN_PROCESSING_MAX_LENGTH){let s=yield this.processPattern(r.textContent);if(s){let a=o.currentBlock&&o.currentBlock.tool.isDefault&&o.currentBlock.isEmpty,l=o.paste(s.tool,s.event,a);i.setToBlock(l,i.positions.END);return}}if(o.currentBlock&&o.currentBlock.currentInput){let s=o.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,Le(r.innerHTML,s))}else this.insertBlock(t)})}processPattern(t){return q(this,null,function*(){let o=this.toolsPatterns.find(i=>{let r=i.pattern.exec(t);return r?t===r.shift():!1});return o?{event:this.composePasteEvent("pattern",{key:o.key,data:t}),tool:o.tool.name}:void 0})}insertBlock(t,o=!1){let{BlockManager:i,Caret:r}=this.Editor,{currentBlock:s}=i,a;if(o&&s&&s.isEmpty){a=i.paste(t.tool,t.event,!0),r.setToBlock(a,r.positions.END);return}a=i.paste(t.tool,t.event),r.setToBlock(a,r.positions.END)}insertEditorJSData(t){let{BlockManager:o,Caret:i,Tools:r}=this.Editor;Wo(t,s=>r.blockTools.get(s).sanitizeConfig).forEach(({tool:s,data:a},l)=>{let c=!1;l===0&&(c=o.currentBlock&&o.currentBlock.tool.isDefault&&o.currentBlock.isEmpty);let d=o.insert({tool:s,data:a,replace:c});i.setToBlock(d,i.positions.END)})}processElementNode(t,o,i){let r=Object.keys(this.toolsTags),s=t,{tool:a}=this.toolsTags[s.tagName]||{},l=this.tagsByTool[a?.name]||[],c=r.includes(s.tagName),d=C.blockElements.includes(s.tagName.toLowerCase()),u=Array.from(s.children).some(({tagName:v})=>r.includes(v)&&!l.includes(v)),p=Array.from(s.children).some(({tagName:v})=>C.blockElements.includes(v.toLowerCase()));if(!d&&!c&&!u)return i.appendChild(s),[...o,i];if(c&&!u||d&&!p&&!u)return[...o,i,s]}getNodes(t){let o=Array.from(t.childNodes),i,r=(s,a)=>{if(C.isEmpty(a)&&!C.isSingleTag(a))return s;let l=s[s.length-1],c=new DocumentFragment;switch(l&&C.isFragment(l)&&(c=s.pop()),a.nodeType){case Node.ELEMENT_NODE:if(i=this.processElementNode(a,s,c),i)return i;break;case Node.TEXT_NODE:return c.appendChild(a),[...s,c];default:return[...s,c]}return[...s,...Array.from(a.childNodes).reduce(r,[])]};return o.reduce(r,[])}composePasteEvent(t,o){return new CustomEvent(t,{detail:o})}};return n.PATTERN_PROCESSING_MAX_LENGTH=450,n})(),Cu=Eu,Mo=class extends te{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}prepare(){return q(this,null,function*(){let{Tools:e}=this.Editor,{blockTools:t}=e,o=[];Array.from(t.entries()).forEach(([i,r])=>{r.isReadOnlySupported||o.push(i)}),this.toolsDontSupportReadOnly=o,this.config.readOnly&&o.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly,!0)})}toggle(){return q(this,arguments,function*(e=!this.readOnlyEnabled,t=!1){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();let o=this.readOnlyEnabled;this.readOnlyEnabled=e;for(let r in this.Editor)this.Editor[r].toggleReadOnly&&this.Editor[r].toggleReadOnly(e);if(o===e)return this.readOnlyEnabled;if(t)return this.readOnlyEnabled;this.Editor.ModificationsObserver.disable();let i=yield this.Editor.Saver.save();return yield this.Editor.BlockManager.clear(),yield this.Editor.Renderer.render(i.blocks),this.Editor.ModificationsObserver.enable(),this.readOnlyEnabled})}throwCriticalError(){throw new Ft(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}},Po=class n extends te{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,t){let o=document.elementFromPoint(e-window.pageXOffset,t-window.pageYOffset);o.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);let i=[`.${_e.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],r=o.closest("."+this.Editor.UI.CSS.editorWrapper),s=i.some(a=>!!o.closest(a));!r||s||(this.mousedown=!0,this.startX=e,this.startY=t)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){let{container:e}=this.genHTML();this.listeners.on(e,"mousedown",t=>{this.processMouseDown(t)},!1),this.listeners.on(document.body,"mousemove",zn(t=>{this.processMouseMove(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",zn(t=>{this.processScroll(t)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(C.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){let{UI:e}=this.Editor,t=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),o=C.make("div",n.CSS.overlay,{}),i=C.make("div",n.CSS.overlayContainer,{}),r=C.make("div",n.CSS.rect,{});return i.appendChild(r),o.appendChild(i),t.appendChild(o),this.overlayRectangle=r,{container:t,overlay:o}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;let t=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-t,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);let{rightPos:t,leftPos:o,index:i}=this.genInfoForMouseSelection(),r=this.startX>t&&this.mouseX>t,s=this.startX<o&&this.mouseX<o;this.rectCrossesBlocks=!(r||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),i!==void 0&&(this.trySelectNextBlock(i),this.inverseSelection(),Y.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){let e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(let t of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(t);if(!this.rectCrossesBlocks&&e)for(let t of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(t)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){let e=document.body.offsetWidth/2,t=this.mouseY-window.pageYOffset,o=document.elementFromPoint(e,t),i=this.Editor.BlockManager.getBlockByChildNode(o),r;i!==void 0&&(r=this.Editor.BlockManager.blocks.findIndex(d=>d.holder===i.holder));let s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+_e.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,c=e+a;return{index:r,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){let t=this.stackOfSelected[this.stackOfSelected.length-1]===e,o=this.stackOfSelected.length,i=1,r=-1,s=0;if(t)return;let a=this.stackOfSelected[o-1]-this.stackOfSelected[o-2]>0,l=s;o>1&&(l=a?i:r);let c=e>this.stackOfSelected[o-1]&&l===i,d=e<this.stackOfSelected[o-1]&&l===r,u=!(c||d||l===s);if(!u&&(e>this.stackOfSelected[o-1]||this.stackOfSelected[o-1]===void 0)){let m=this.stackOfSelected[o-1]+1||e;for(m;m<=e;m++)this.addBlockInSelection(m);return}if(!u&&e<this.stackOfSelected[o-1]){for(let m=this.stackOfSelected[o-1]-1;m>=e;m--)this.addBlockInSelection(m);return}if(!u)return;let p=o-1,v;for(e>this.stackOfSelected[o-1]?v=()=>e>this.stackOfSelected[p]:v=()=>e<this.stackOfSelected[p];v();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[p]),this.stackOfSelected.pop(),p--}},No=class extends te{render(e){return q(this,null,function*(){return new Promise(t=>{let{Tools:o,BlockManager:i}=this.Editor;if(e.length===0)i.insert();else{let r=e.map(({type:s,data:a,tunes:l,id:c})=>{o.available.has(s)===!1&&(Oe(`Tool \xAB${s}\xBB is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(s,a,c),s=o.stubTool);let d;try{d=i.composeBlock({id:c,tool:s,data:a,tunes:l})}catch(u){ie(`Block \xAB${s}\xBB skipped because of plugins error`,"error",{data:a,error:u}),a=this.composeStubDataForTool(s,a,c),s=o.stubTool,d=i.composeBlock({id:c,tool:s,data:a,tunes:l})}return d});i.insertMany(r)}window.requestIdleCallback(()=>{t()},{timeout:2e3})})})}composeStubDataForTool(e,t,o){let{Tools:i}=this.Editor,r=e;if(i.unavailable.has(e)){let s=i.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(r=s[0].title)}return{savedData:{id:o,type:e,data:t},title:r}}},jo=class extends te{save(){return q(this,null,function*(){let{BlockManager:e,Tools:t}=this.Editor,o=e.blocks,i=[];try{o.forEach(a=>{i.push(this.getSavedData(a))});let r=yield Promise.all(i),s=yield Wo(r,a=>t.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(r){Oe("Saving failed due to the Error %o","error",r)}})}getSavedData(e){return q(this,null,function*(){let t=yield e.save(),o=t&&(yield e.validate(t.data));return we(se({},t),{isValid:o})})}makeOutput(e){let t=[];return e.forEach(({id:o,tool:i,data:r,tunes:s,isValid:a})=>{if(!a){ie(`Block \xAB${i}\xBB skipped because saved data is invalid`);return}if(i===this.Editor.Tools.stubTool){t.push(r);return}let l=se({id:o,type:i,data:r},!Be(s)&&{tunes:s});t.push(l)}),{time:+new Date,blocks:t,version:"2.31.0-rc.7"}}};(function(){try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-paragraph{line-height:1.6em;outline:none}.ce-block:only-of-type .ce-paragraph[data-placeholder-active]:empty:before,.ce-block:only-of-type .ce-paragraph[data-placeholder-active][data-empty=true]:before{content:attr(data-placeholder-active)}.ce-paragraph p:first-of-type{margin-top:0}.ce-paragraph p:last-of-type{margin-bottom:0}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var Su='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';function Tu(n){let e=document.createElement("div");e.innerHTML=n.trim();let t=document.createDocumentFragment();return t.append(...Array.from(e.childNodes)),t}var Do=class n{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:t,api:o,readOnly:i}){this.api=o,this.readOnly=i,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=t.placeholder?t.placeholder:n.DEFAULT_PLACEHOLDER,this._data=e??{},this._element=null,this._preserveBlank=t.preserveBlank??!1}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete"||!this._element)return;let{textContent:t}=this._element;t===""&&(this._element.innerHTML="")}drawView(){let e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable="false",e.dataset.placeholderActive=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable="true",e.addEventListener("keyup",this.onKeyUp)),e}render(){return this._element=this.drawView(),this._element}merge(e){if(!this._element)return;this._data.text+=e.text;let t=Tu(e.text);this._element.appendChild(t),this._element.normalize()}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){let t={text:e.detail.data.innerHTML};this._data=t,window.requestAnimationFrame(()=>{this._element&&(this._element.innerHTML=this._data.text||"")})}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{text:{br:!0}}}static get isReadOnlySupported(){return!0}static get pasteConfig(){return{tags:["P"]}}static get toolbox(){return{icon:Su,title:"Text"}}},Ou=(()=>{class n{constructor(){this.commandName="bold"}static get sanitize(){return{b:{}}}render(){return{icon:bc,name:"bold",onActivate:()=>{document.execCommand(this.commandName)},isActive:()=>document.queryCommandState(this.commandName)}}get shortcut(){return"CMD+B"}}return n.isInline=!0,n.title="Bold",n})(),Bu=(()=>{class n{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Cc,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){let t=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,t),t}get shortcut(){return"CMD+I"}}return n.isInline=!0,n.title="Italic",n})(),_u=(()=>{class n{constructor({api:t}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=t.toolbar,this.inlineToolbar=t.inlineToolbar,this.notifier=t.notifier,this.i18n=t.i18n,this.selection=new Y}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Cs,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.enterKeyHint="done",this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",t=>{t.keyCode===this.ENTER_KEY&&this.enterPressed(t)}),this.nodes.input}surround(t){if(t){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());let o=this.selection.findParentTag("A");if(o){this.selection.expandToTag(o),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){let t=this.selection.findParentTag("A");if(t){this.nodes.button.innerHTML=Bc,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();let o=t.getAttribute("href");this.nodes.input.value=o!=="null"?o:"",this.selection.save()}else this.nodes.button.innerHTML=Cs,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!t}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(t=!1){this.nodes.input.classList.add(this.CSS.inputShowed),t&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(t=!0){if(this.selection.isFakeBackgroundEnabled){let o=new Y;o.save(),this.selection.restore(),this.selection.removeFakeBackground(),o.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",t&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(t){let o=this.nodes.input.value||"";if(!o.trim()){this.selection.restore(),this.unlink(),t.preventDefault(),this.closeActions();return}if(!this.validateURL(o)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),ie("Incorrect Link pasted","warn",o);return}o=this.prepareLink(o),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(o),t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(t){return!/\s/.test(t)}prepareLink(t){return t=t.trim(),t=this.addProtocol(t),t}addProtocol(t){if(/^(\w+):(\/\/)?/.test(t))return t;let o=/^\/[^/\s]/.test(t),i=t.substring(0,1)==="#",r=/^\/\/[^/\s]/.test(t);return!o&&!i&&!r&&(t="http://"+t),t}insertLink(t){let o=this.selection.findParentTag("A");o&&this.selection.expandToTag(o),document.execCommand(this.commandLink,!1,t)}unlink(){document.execCommand(this.commandUnlink)}}return n.isInline=!0,n.title="Link",n})(),Iu=(()=>{class n{constructor({api:t}){this.i18nAPI=t.i18n,this.blocksAPI=t.blocks,this.selectionAPI=t.selection,this.toolsAPI=t.tools,this.caretAPI=t.caret}render(){return q(this,null,function*(){let t=Y.get(),o=this.blocksAPI.getBlockByElement(t.anchorNode);if(o===void 0)return[];let i=this.toolsAPI.getBlockTools(),r=yield Ws(o,i);if(r.length===0)return[];let s=r.reduce((d,u)=>{var p;return(p=u.toolbox)==null||p.forEach(v=>{d.push({icon:v.icon,title:ye.t(Ce.toolNames,v.title),name:u.name,closeOnActivate:!0,onActivate:()=>q(this,null,function*(){let m=yield this.blocksAPI.convert(o.id,u.name,v.data);this.caretAPI.setToBlock(m,"end")})})}),d},[]),a=yield o.getActiveToolboxEntry(),l=a!==void 0?a.icon:Xs,c=!ct();return{icon:l,name:"convert-to",hint:{title:this.i18nAPI.t("Convert to")},children:{searchable:c,items:s,onOpen:()=>{c&&(this.selectionAPI.setFakeBackground(),this.selectionAPI.save())},onClose:()=>{c&&(this.selectionAPI.restore(),this.selectionAPI.removeFakeBackground())}}}})}}return n.isInline=!0,n})(),Au=(()=>{class n{constructor({data:t,api:o}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=o,this.title=t.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=t.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){let t=C.make("div",this.CSS.wrapper),o=_c,i=C.make("div",this.CSS.info),r=C.make("div",this.CSS.title,{textContent:this.title}),s=C.make("div",this.CSS.subtitle,{textContent:this.subtitle});return t.innerHTML=o,i.appendChild(r),i.appendChild(s),t.appendChild(i),t}}return n.isReadOnlySupported=!0,n})(),Ro=class extends xt{constructor(){super(...arguments),this.type=Ke.Inline}get title(){return this.constructable[Yt.Title]}create(){return new this.constructable({api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[Yt.IsReadOnlySupported]??!1}},Fo=class extends xt{constructor(){super(...arguments),this.type=Ke.Tune}create(e,t){return new this.constructable({api:this.api,config:this.settings,block:t,data:e})}},Te=class n extends Map{get blockTools(){let e=Array.from(this.entries()).filter(([,t])=>t.isBlock());return new n(e)}get inlineTools(){let e=Array.from(this.entries()).filter(([,t])=>t.isInline());return new n(e)}get blockTunes(){let e=Array.from(this.entries()).filter(([,t])=>t.isTune());return new n(e)}get internalTools(){let e=Array.from(this.entries()).filter(([,t])=>t.isInternal);return new n(e)}get externalTools(){let e=Array.from(this.entries()).filter(([,t])=>!t.isInternal);return new n(e)}},Lu=Object.defineProperty,Mu=Object.getOwnPropertyDescriptor,Ia=(n,e,t,o)=>{for(var i=o>1?void 0:o?Mu(e,t):e,r=n.length-1,s;r>=0;r--)(s=n[r])&&(i=(o?s(e,t,i):s(i))||i);return o&&i&&Lu(e,t,i),i},Et=class extends xt{constructor(){super(...arguments),this.type=Ke.Block,this.inlineTools=new Te,this.tunes=new Te}create(e,t,o){return new this.constructable({data:e,block:t,readOnly:o,api:this.api,config:this.settings})}get isReadOnlySupported(){return this.constructable[it.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[it.IsEnabledLineBreaks]}get toolbox(){let e=this.constructable[it.Toolbox],t=this.config[Mt.Toolbox];if(!Be(e)&&t!==!1)return t?Array.isArray(e)?Array.isArray(t)?t.map((o,i)=>{let r=e[i];return r?se(se({},r),o):o}):[t]:Array.isArray(t)?t:[se(se({},e),t)]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[it.ConversionConfig]}get enabledInlineTools(){return this.config[Mt.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[Mt.EnabledBlockTunes]}get pasteConfig(){return this.constructable[it.PasteConfig]??{}}get sanitizeConfig(){let e=super.sanitizeConfig,t=this.baseSanitizeConfig;if(Be(e))return t;let o={};for(let i in e)if(Object.prototype.hasOwnProperty.call(e,i)){let r=e[i];ge(r)?o[i]=Object.assign({},t,r):o[i]=r}return o}get baseSanitizeConfig(){let e={};return Array.from(this.inlineTools.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),Array.from(this.tunes.values()).forEach(t=>Object.assign(e,t.sanitizeConfig)),e}};Ia([lt],Et.prototype,"sanitizeConfig",1);Ia([lt],Et.prototype,"baseSanitizeConfig",1);var Ho=class{constructor(e,t,o){this.api=o,this.config=e,this.editorConfig=t}get(e){let a=this.config[e],{class:t,isInternal:o=!1}=a,i=ps(a,["class","isInternal"]),r=this.getConstructor(t),s=t[xo.IsTune];return new r({name:e,constructable:t,config:i,api:this.api.getMethodsForTool(e,s),isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:o})}getConstructor(e){switch(!0){case e[Yt.IsInline]:return Ro;case e[xo.IsTune]:return Fo;default:return Et}}},Pu=(()=>{class n{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:vc,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){let t=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(t+1);if(!o)throw new Error("Unable to move Block down since it is already the last");let i=o.holder,r=i.getBoundingClientRect(),s=Math.abs(window.innerHeight-i.offsetHeight);r.top<window.innerHeight&&(s=window.scrollY+i.offsetHeight),window.scrollTo(0,s),this.api.blocks.move(t+1),this.api.toolbar.toggleBlockSettings(!0)}}return n.isTune=!0,n})(),Nu=(()=>{class n{constructor({api:t}){this.api=t}render(){return{icon:xc,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}return n.isTune=!0,n})(),ju=(()=>{class n{constructor({api:t}){this.CSS={animation:"wobble"},this.api=t}render(){return{icon:wc,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){let t=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(t),i=this.api.blocks.getBlockByIndex(t-1);if(t===0||!o||!i)throw new Error("Unable to move Block up since it is already the first");let r=o.holder,s=i.holder,a=r.getBoundingClientRect(),l=s.getBoundingClientRect(),c;l.top>0?c=Math.abs(a.top)-Math.abs(l.top):c=Math.abs(a.top)+l.height,window.scrollBy(0,-1*c),this.api.blocks.move(t-1),this.api.toolbar.toggleBlockSettings(!0)}}return n.isTune=!0,n})(),Du=Object.defineProperty,Ru=Object.getOwnPropertyDescriptor,Fu=(n,e,t,o)=>{for(var i=o>1?void 0:o?Ru(e,t):e,r=n.length-1,s;r>=0;r--)(s=n[r])&&(i=(o?s(e,t,i):s(i))||i);return o&&i&&Du(e,t,i),i},Gt=class extends te{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Te,this.toolsUnavailable=new Te}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}prepare(){return q(this,null,function*(){if(this.validateTools(),this.config.tools=Wn({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");let e=this.prepareConfig();this.factory=new Ho(e,this.config,this.Editor.API);let t=this.getListOfPrepareFunctions(e);if(t.length===0)return Promise.resolve();yield Fl(t,o=>{this.toolPrepareMethodSuccess(o)},o=>{this.toolPrepareMethodFallback(o)}),this.prepareBlockTools()})}getAllInlineToolsSanitizeConfig(){let e={};return Array.from(this.inlineTools.values()).forEach(t=>{Object.assign(e,t.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(e=>q(this,null,function*(){de(e.reset)&&(yield e.reset())}))}get internalTools(){return{convertTo:{class:Iu,isInternal:!0},link:{class:_u,isInternal:!0},bold:{class:Ou,isInternal:!0},italic:{class:Bu,isInternal:!0},paragraph:{class:Do,inlineToolbar:!0,isInternal:!0},stub:{class:Au,isInternal:!0},moveUp:{class:ju,isInternal:!0},delete:{class:Nu,isInternal:!0},moveDown:{class:Pu,isInternal:!0}}}toolPrepareMethodSuccess(e){let t=this.factory.get(e.toolName);if(t.isInline()){let o=["render"].filter(i=>!t.create()[i]);if(o.length){ie(`Incorrect Inline Tool: ${t.name}. Some of required methods is not implemented %o`,"warn",o),this.toolsUnavailable.set(t.name,t);return}}this.toolsAvailable.set(t.name,t)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){let t=[];return Object.entries(e).forEach(([o,i])=>{t.push({function:de(i.class.prepare)?i.class.prepare:()=>{},data:{toolName:o,config:i.config}})}),t}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Te(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(t=>[t,this.inlineTools.get(t)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Te(["convertTo",...e.enabledInlineTools].map(t=>[t,this.inlineTools.get(t)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){let t=new Te(e.enabledBlockTunes.map(o=>[o,this.blockTunes.get(o)]));e.tunes=new Te([...t,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){let t=new Te(this.config.tunes.map(o=>[o,this.blockTunes.get(o)]));e.tunes=new Te([...t,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(let e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;let t=this.config.tools[e];if(!de(t)&&!de(t.class))throw Error(`Tool \xAB${e}\xBB must be a constructor function or an object with function in the \xABclass\xBB property`)}}prepareConfig(){let e={};for(let t in this.config.tools)ge(this.config.tools[t])?e[t]=this.config.tools[t]:e[t]={class:this.config.tools[t]};return e}};Fu([lt],Gt.prototype,"getAllInlineToolsSanitizeConfig",1);var Hu=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0;left:0;right:0;bottom:0;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;--color-background-icon-active: rgba(56, 138, 229, .1);--color-text-icon-active: #388AE5;--color-text-primary: black;position:absolute;visibility:hidden;-webkit-transition:opacity .25s ease;transition:opacity .25s ease;will-change:opacity,left,top;top:0;left:0;z-index:3;opacity:1;visibility:visible}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{color:var(--color-text-primary);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;border:0;border-radius:4px;line-height:normal;height:100%;padding:0;width:28px;background-color:transparent;cursor:pointer}@media (max-width: 650px){.ce-inline-tool{width:36px;height:36px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#f8f8f8}}.ce-inline-tool svg{display:block;width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:4px 8px;font-size:14px;line-height:22px;outline:none;margin:0;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-inline-tool--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #EFF0F1;--color-shadow: rgba(13, 20, 33, .1);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #F8F8F8;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;--popover-top: calc(100% + var(--offset-from-target));--popover-left: 0;--nested-popover-overlap: 4px;--icon-size: 20px;--item-padding: 3px;--item-height: calc(var(--icon-size) + 2 * var(--item-padding))}.ce-popover__container{min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0px 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:var(--popover-left);top:var(--popover-top);background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened>.ce-popover__container{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened>.ce-popover__container{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover--open-top .ce-popover__container{--popover-top: calc(-1 * (var(--offset-from-target) + var(--popover-height)))}.ce-popover--open-left .ce-popover__container{--popover-left: calc(-1 * var(--width) + 100%)}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}@media (max-width: 650px){.ce-popover .ce-popover__container{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}}.ce-popover__search{margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover--nested .ce-popover__container{--popover-left: calc(var(--nesting-level) * (var(--width) - var(--nested-popover-overlap)));top:calc(var(--trigger-item-top) - var(--nested-popover-overlap));position:absolute}.ce-popover--open-top.ce-popover--nested .ce-popover__container{top:calc(var(--trigger-item-top) - var(--popover-height) + var(--item-height) + var(--offset-from-target) + var(--nested-popover-overlap))}.ce-popover--open-left .ce-popover--nested .ce-popover__container{--popover-left: calc(-1 * (var(--nesting-level) + 1) * var(--width) + 100%)}.ce-popover-item-separator{padding:4px 3px}.ce-popover-item-separator--hidden{display:none}.ce-popover-item-separator__line{height:1px;background:var(--color-border);width:100%}.ce-popover-item-html--hidden{display:none}.ce-popover-item{--border-radius: 6px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:var(--item-padding);color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border:none;background:transparent}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover-item__icon--tool{margin-right:4px}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;margin-right:auto}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title,.ce-popover-item--confirmation .ce-popover-item__icon{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}.ce-popover-header{margin-bottom:8px;margin-top:4px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover-header__text{font-size:18px;font-weight:600}.ce-popover-header__back-button{border:0;background:transparent;width:36px;height:36px;color:var(--color-text-primary)}.ce-popover-header__back-button svg{display:block;width:28px;height:28px}.ce-popover--inline{--height: 38px;--height-mobile: 46px;--container-padding: 4px;position:relative}.ce-popover--inline .ce-popover__custom-content{margin-bottom:0}.ce-popover--inline .ce-popover__items{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-popover--inline .ce-popover__container{-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;padding:var(--container-padding);height:var(--height);top:0;min-width:-webkit-max-content;min-width:-moz-max-content;min-width:max-content;width:-webkit-max-content;width:-moz-max-content;width:max-content;-webkit-animation:none;animation:none}@media (max-width: 650px){.ce-popover--inline .ce-popover__container{height:var(--height-mobile);position:absolute}}.ce-popover--inline .ce-popover-item-separator{padding:0 4px}.ce-popover--inline .ce-popover-item-separator__line{height:100%;width:1px}.ce-popover--inline .ce-popover-item{border-radius:4px;padding:4px}.ce-popover--inline .ce-popover-item__icon--tool{-webkit-box-shadow:none;box-shadow:none;background:transparent;margin-right:0}.ce-popover--inline .ce-popover-item__icon{width:auto;width:initial;height:auto;height:initial}.ce-popover--inline .ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover--inline .ce-popover-item__icon svg{width:28px;height:28px}}.ce-popover--inline .ce-popover-item:not(:last-of-type){margin-bottom:0;margin-bottom:initial}.ce-popover--inline .ce-popover-item-html{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-popover--inline .ce-popover-item__icon--chevron-right{-webkit-transform:rotate(90deg);transform:rotate(90deg)}.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{--offset: 3px;left:0;top:calc(var(--height) + var(--offset))}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested-level-1 .ce-popover__container{top:calc(var(--height-mobile) + var(--offset))}}.ce-popover--inline .ce-popover--nested .ce-popover__container{min-width:var(--width);width:var(--width);height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;padding:6px;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.ce-popover--inline .ce-popover--nested .ce-popover__items{display:block;width:100%}.ce-popover--inline .ce-popover--nested .ce-popover-item{border-radius:6px;padding:3px}@media (max-width: 650px){.ce-popover--inline .ce-popover--nested .ce-popover-item{padding:4px}}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon--tool{margin-right:4px}.ce-popover--inline .ce-popover--nested .ce-popover-item__icon{width:26px;height:26px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator{padding:4px 3px}.ce-popover--inline .ce-popover--nested .ce-popover-item-separator__line{width:100%;height:1px}.codex-editor [data-placeholder]:empty:before,.codex-editor [data-placeholder][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text;content:attr(data-placeholder)}.codex-editor [data-placeholder-active]:empty:before,.codex-editor [data-placeholder-active][data-empty=true]:before{pointer-events:none;color:#707684;cursor:text}.codex-editor [data-placeholder-active]:empty:focus:before,.codex-editor [data-placeholder-active][data-empty=true]:focus:before{content:attr(data-placeholder-active)}
`,$o=class extends te{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=null,this.resizeDebouncer=ws(()=>{this.windowResize()},200),this.selectionChangeDebounced=ws(()=>{this.selectionChanged()},wu),this.documentTouchedListener=e=>{this.documentTouched(e)}}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache!==null)return this.contentRectCache;let e=this.nodes.wrapper.querySelector(`.${_e.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}prepare(){return q(this,null,function*(){this.setIsMobile(),this.make(),this.loadStyles()})}toggleReadOnly(e){e?this.unbindReadOnlySensitiveListeners():window.requestIdleCallback(()=>{this.bindReadOnlySensitiveListeners()},{timeout:2e3})}checkEmptiness(){let{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){let{Toolbar:e,BlockSettings:t,InlineToolbar:o}=this.Editor;return!!(t.opened||o.opened||e.toolbox.opened)}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,t])=>t.flipper instanceof st).some(([e,t])=>t.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML="",this.unbindReadOnlyInsensitiveListeners()}closeAllToolbars(){let{Toolbar:e,BlockSettings:t,InlineToolbar:o}=this.Editor;t.close(),o.close(),e.toolbox.close()}setIsMobile(){let e=window.innerWidth<js;e!==this.isMobile&&this.eventsDispatcher.emit(kt,{isEnabled:this.isMobile}),this.isMobile=e}make(){this.nodes.holder=C.getHolder(this.config.holder),this.nodes.wrapper=C.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=C.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper),this.bindReadOnlyInsensitiveListeners()}loadStyles(){let e="editor-js-styles";if(C.get(e))return;let t=C.make("style",null,{id:e,textContent:Hu.toString()});this.config.style&&!Be(this.config.style)&&this.config.style.nonce&&t.setAttribute("nonce",this.config.style.nonce),C.prepend(document.head,t)}bindReadOnlyInsensitiveListeners(){this.listeners.on(document,"selectionchange",this.selectionChangeDebounced),this.listeners.on(window,"resize",this.resizeDebouncer,{passive:!0}),this.listeners.on(this.nodes.redactor,"mousedown",this.documentTouchedListener,{capture:!0,passive:!0}),this.listeners.on(this.nodes.redactor,"touchstart",this.documentTouchedListener,{capture:!0,passive:!0})}unbindReadOnlyInsensitiveListeners(){this.listeners.off(document,"selectionchange",this.selectionChangeDebounced),this.listeners.off(window,"resize",this.resizeDebouncer),this.listeners.off(this.nodes.redactor,"mousedown",this.documentTouchedListener),this.listeners.off(this.nodes.redactor,"touchstart",this.documentTouchedListener)}bindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.watchBlockHoveredEvents(),this.enableInputsEmptyMark()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",zn(t=>{let o=t.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||o&&e!==o&&(e=o,this.eventsDispatcher.emit(ta,{block:this.Editor.BlockManager.getBlockByChildNode(o)}))},20),{passive:!0})}unbindReadOnlySensitiveListeners(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.setIsMobile()}documentKeydown(e){switch(e.keyCode){case Z.ENTER:this.enterPressed(e);break;case Z.BACKSPACE:case Z.DELETE:this.backspacePressed(e);break;case Z.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){let{currentBlock:t}=this.Editor.BlockManager,o=e.target.closest(`.${this.CSS.editorWrapper}`),i=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(t!==void 0&&o===null){this.Editor.BlockEvents.keydown(e);return}o||t&&i||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close())}backspacePressed(e){let{BlockManager:t,BlockSelection:o,Caret:i}=this.Editor;if(o.anyBlockSelected&&!Y.isSelectionExists){let r=t.removeSelectedBlocks(),s=t.insertDefaultBlockAtIndex(r,!0);i.setToBlock(s,i.positions.START),o.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){let{BlockManager:t,BlockSelection:o}=this.Editor;if(this.someToolbarOpened)return;let i=t.currentBlockIndex>=0;if(o.anyBlockSelected&&!Y.isSelectionExists){o.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&i&&e.target.tagName==="BODY"){let r=this.Editor.BlockManager.insert();e.preventDefault(),this.Editor.Caret.setToBlock(r),this.Editor.Toolbar.moveAndOpen(r)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){var t,o;if(!e.isTrusted)return;let i=e.target;this.nodes.holder.contains(i)||Y.isAtEditor||(this.Editor.BlockManager.unsetCurrentBlock(),this.Editor.Toolbar.close());let r=(t=this.Editor.BlockSettings.nodes.wrapper)==null?void 0:t.contains(i),s=(o=this.Editor.Toolbar.nodes.settingsToggler)==null?void 0:o.contains(i),a=r||s;if(this.Editor.BlockSettings.opened&&!a){this.Editor.BlockSettings.close();let l=this.Editor.BlockManager.getBlockByChildNode(i);this.Editor.Toolbar.moveAndOpen(l)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let t=e.target;if(t===this.nodes.redactor){let o=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,i=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;t=document.elementFromPoint(o,i)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(t)}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.ReadOnly.isEnabled||this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){if(!Y.isCollapsed)return;let t=e.target,o=e.metaKey||e.ctrlKey;if(C.isAnchor(t)&&o){e.stopImmediatePropagation(),e.stopPropagation();let i=t.getAttribute("href"),r=zl(i);ql(r);return}this.processBottomZoneClick(e)}processBottomZoneClick(e){let t=this.Editor.BlockManager.getBlockByIndex(-1),o=C.offset(t.holder).bottom,i=e.pageY,{BlockSelection:r}=this.Editor;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!r.anyBlockSelected&&o<i){e.stopImmediatePropagation(),e.stopPropagation();let{BlockManager:s,Caret:a,Toolbar:l}=this.Editor;(!s.lastBlock.tool.isDefault||!s.lastBlock.isEmpty)&&s.insertAtEnd(),a.setToTheLastBlock(),l.moveAndOpen(s.lastBlock)}}selectionChanged(){let{CrossBlockSelection:e,BlockSelection:t}=this.Editor,o=Y.anchorElement;if(e.isCrossBlockSelectionStarted&&t.anyBlockSelected&&Y.get().removeAllRanges(),!o){Y.range||this.Editor.InlineToolbar.close();return}let i=o.closest(`.${_e.CSS.content}`);(i===null||i.closest(`.${Y.CSS.editorWrapper}`)!==this.nodes.wrapper)&&(this.Editor.InlineToolbar.containsNode(o)||this.Editor.InlineToolbar.close(),o.dataset.inlineToolbar!=="true")||(this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(o),this.Editor.InlineToolbar.tryToShow(!0))}enableInputsEmptyMark(){function e(t){let o=t.target;Ds(o)}this.readOnlyMutableListeners.on(this.nodes.wrapper,"input",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusin",e),this.readOnlyMutableListeners.on(this.nodes.wrapper,"focusout",e)}},$u={BlocksAPI:Xn,CaretAPI:Vn,EventsAPI:Zn,I18nAPI:Jn,API:Qn,InlineToolbarAPI:eo,ListenersAPI:to,NotifierAPI:oo,ReadOnlyAPI:io,SanitizerAPI:ro,SaverAPI:so,SelectionAPI:ao,ToolsAPI:lo,StylesAPI:co,ToolbarAPI:uo,TooltipAPI:ho,UiAPI:po,BlockSettings:yo,Toolbar:wo,InlineToolbar:Eo,BlockEvents:So,BlockManager:Oo,BlockSelection:Bo,Caret:_o,CrossBlockSelection:Io,DragNDrop:Ao,ModificationsObserver:Lo,Paste:Cu,ReadOnly:Mo,RectangleSelection:Po,Renderer:No,Saver:jo,Tools:Gt,UI:$o},Uo=class{constructor(e){this.moduleInstances={},this.eventsDispatcher=new Ge;let t,o;this.isReady=new Promise((i,r)=>{t=i,o=r}),Promise.resolve().then(()=>q(this,null,function*(){this.configuration=e,this.validate(),this.init(),yield this.start(),yield this.render();let{BlockManager:i,Caret:r,UI:s,ModificationsObserver:a}=this.moduleInstances;s.checkEmptiness(),a.enable(),this.configuration.autofocus===!0&&this.configuration.readOnly!==!0&&r.setToBlock(i.blocks[0],r.positions.START),t()})).catch(i=>{ie(`Editor.js is not ready because of ${i}`,"error"),o(i)})}set configuration(e){var t,o;ge(e)?this.config=se({},e):this.config={holder:e},qn(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=Ms.VERBOSE),Dl(this.config.logLevel),qn(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;let i={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(Be(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[i]}),this.config.readOnly=this.config.readOnly||!1,(t=this.config.i18n)!=null&&t.messages&&ye.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((o=this.config.i18n)==null?void 0:o.direction)||"ltr"}get configuration(){return this.config}validate(){let{holderId:e,holder:t}=this.config;if(e&&t)throw Error("\xABholderId\xBB and \xABholder\xBB param can't assign at the same time.");if(De(t)&&!C.get(t))throw Error(`element with ID \xAB${t}\xBB is missing. Pass correct holder's ID.`);if(t&&ge(t)&&!C.isElement(t))throw Error("\xABholder\xBB value must be an Element node")}init(){this.constructModules(),this.configureModules()}start(){return q(this,null,function*(){yield["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,t)=>e.then(()=>q(this,null,function*(){try{yield this.moduleInstances[t].prepare()}catch(o){if(o instanceof Ft)throw new Error(o.message);ie(`Module ${t} was skipped because of %o`,"warn",o)}})),Promise.resolve())})}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries($u).forEach(([e,t])=>{try{this.moduleInstances[e]=new t({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(o){ie("[constructModules]",`Module ${e} skipped because`,"error",o)}})}configureModules(){for(let e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){let t={};for(let o in this.moduleInstances)o!==e&&(t[o]=this.moduleInstances[o]);return t}};var Ls=class{static get version(){return"2.31.0-rc.7"}constructor(e){let t=()=>{};ge(e)&&de(e.onReady)&&(t=e.onReady);let o=new Uo(e);this.isReady=o.isReady.then(()=>{this.exportAPI(o),t()})}exportAPI(e){let t=["configuration"],o=()=>{Object.values(e.moduleInstances).forEach(i=>{de(i.destroy)&&i.destroy(),i.listeners.removeAll()}),gc(),e=null;for(let i in this)Object.prototype.hasOwnProperty.call(this,i)&&delete this[i];Object.setPrototypeOf(this,null)};t.forEach(i=>{this[i]=e[i]}),this.destroy=o,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([i,r])=>{Object.entries(r).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[i][s]})})}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".ce-header{padding:.6em 0 3px;margin:0;line-height:1.25em;outline:none}.ce-header p,.ce-header div{padding:0!important;margin:0!important}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var Uu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>',zu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>',Wu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>',qu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>',Ku='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>',Yu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>',Gu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>';var Aa=class{constructor({data:e,config:t,api:o,readOnly:i}){this.api=o,this.readOnly=i,this._settings=t,this._data=this.normalizeData(e),this._element=this.getTag()}get _CSS(){return{block:this.api.styles.block,wrapper:"ce-header"}}isHeaderData(e){return e.text!==void 0}normalizeData(e){let t={text:"",level:this.defaultLevel.number};return this.isHeaderData(e)&&(t.text=e.text||"",e.level!==void 0&&!isNaN(parseInt(e.level.toString()))&&(t.level=parseInt(e.level.toString()))),t}render(){return this._element}renderSettings(){return this.levels.map(e=>({icon:e.svg,label:this.api.i18n.t(`Heading ${e.number}`),onActivate:()=>this.setLevel(e.number),closeOnActivate:!0,isActive:this.currentLevel.number===e.number,render:()=>document.createElement("div")}))}setLevel(e){this.data={level:e,text:this.data.text}}merge(e){this._element.insertAdjacentHTML("beforeend",e.text)}validate(e){return e.text.trim()!==""}save(e){return{text:e.innerHTML,level:this.currentLevel.number}}static get conversionConfig(){return{export:"text",import:"text"}}static get sanitize(){return{level:!1,text:{}}}static get isReadOnlySupported(){return!0}get data(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data}set data(e){if(this._data=this.normalizeData(e),e.level!==void 0&&this._element.parentNode){let t=this.getTag();t.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(t,this._element),this._element=t}e.text!==void 0&&(this._element.innerHTML=this._data.text||"")}getTag(){let e=document.createElement(this.currentLevel.tag);return e.innerHTML=this._data.text||"",e.classList.add(this._CSS.wrapper),e.contentEditable=this.readOnly?"false":"true",e.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),e}get currentLevel(){let e=this.levels.find(t=>t.number===this._data.level);return e||(e=this.defaultLevel),e}get defaultLevel(){if(this._settings.defaultLevel){let e=this.levels.find(t=>t.number===this._settings.defaultLevel);if(e)return e;console.warn("(\u0E07'\u0300-'\u0301)\u0E07 Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}get levels(){let e=[{number:1,tag:"H1",svg:Uu},{number:2,tag:"H2",svg:zu},{number:3,tag:"H3",svg:Wu},{number:4,tag:"H4",svg:qu},{number:5,tag:"H5",svg:Ku},{number:6,tag:"H6",svg:Yu}];return this._settings.levels?e.filter(t=>this._settings.levels.includes(t.number)):e}onPaste(e){let t=e.detail;if("data"in t){let o=t.data,i=this.defaultLevel.number;switch(o.tagName){case"H1":i=1;break;case"H2":i=2;break;case"H3":i=3;break;case"H4":i=4;break;case"H5":i=5;break;case"H6":i=6;break}this._settings.levels&&(i=this._settings.levels.reduce((r,s)=>Math.abs(s-i)<Math.abs(r-i)?s:r)),this.data={level:i,text:o.innerHTML}}}static get pasteConfig(){return{tags:["H1","H2","H3","H4","H5","H6"]}}static get toolbox(){return{icon:Gu,title:"Heading"}}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode('.cdx-list{margin:0;padding:0;outline:none;display:grid;counter-reset:item;gap:var(--spacing-s);padding:var(--spacing-xs);--spacing-s: 8px;--spacing-xs: 6px;--list-counter-type: numeric;--radius-border: 5px;--checkbox-background: #fff;--color-border: #C9C9C9;--color-bg-checked: #369FFF;--line-height: 1.45em;--color-bg-checked-hover: #0059AB;--color-tick: #fff;--size-checkbox: 1.2em}.cdx-list__item{line-height:var(--line-height);display:grid;grid-template-columns:auto 1fr;grid-template-rows:auto auto;grid-template-areas:"checkbox content" ". child"}.cdx-list__item-children{display:grid;grid-area:child;gap:var(--spacing-s);padding-top:var(--spacing-s)}.cdx-list__item [contenteditable]{outline:none}.cdx-list__item-content{word-break:break-word;white-space:pre-wrap;grid-area:content;padding-left:var(--spacing-s)}.cdx-list__item:before{counter-increment:item;white-space:nowrap}.cdx-list-ordered .cdx-list__item:before{content:counters(item,".",var(--list-counter-type)) "."}.cdx-list-ordered{counter-reset:item}.cdx-list-unordered .cdx-list__item:before{content:"\u2022"}.cdx-list-checklist .cdx-list__item:before{content:""}.cdx-list__settings .cdx-settings-button{width:50%}.cdx-list__checkbox{padding-top:calc((var(--line-height) - var(--size-checkbox)) / 2);grid-area:checkbox;width:var(--size-checkbox);height:var(--size-checkbox);display:flex;cursor:pointer}.cdx-list__checkbox svg{opacity:0;height:var(--size-checkbox);width:var(--size-checkbox);left:-1px;top:-1px;position:absolute}@media (hover: hover){.cdx-list__checkbox:not(.cdx-list__checkbox--no-hover):hover .cdx-list__checkbox-check svg{opacity:1}}.cdx-list__checkbox--checked{line-height:var(--line-height)}@media (hover: hover){.cdx-list__checkbox--checked:not(.cdx-list__checkbox--checked--no-hover):hover .cdx-checklist__checkbox-check{background:var(--color-bg-checked-hover);border-color:var(--color-bg-checked-hover)}}.cdx-list__checkbox--checked .cdx-list__checkbox-check{background:var(--color-bg-checked);border-color:var(--color-bg-checked)}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg{opacity:1}.cdx-list__checkbox--checked .cdx-list__checkbox-check svg path{stroke:var(--color-tick)}.cdx-list__checkbox--checked .cdx-list__checkbox-check:before{opacity:0;visibility:visible;transform:scale(2.5)}.cdx-list__checkbox-check{cursor:pointer;display:inline-block;position:relative;margin:0 auto;width:var(--size-checkbox);height:var(--size-checkbox);box-sizing:border-box;border-radius:var(--radius-border);border:1px solid var(--color-border);background:var(--checkbox-background)}.cdx-list__checkbox-check:before{content:"";position:absolute;top:0;right:0;bottom:0;left:0;border-radius:100%;background-color:var(--color-bg-checked);visibility:hidden;pointer-events:none;transform:scale(1);transition:transform .4s ease-out,opacity .4s}.cdx-list-start-with-field{background:#F8F8F8;border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-list-start-with-field--invalid{background:#FFECED;border:1px solid #E13F3F}.cdx-list-start-with-field--invalid .cdx-list-start-with-field__input{color:#e13f3f}.cdx-list-start-with-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - var(--toolbox-buttons-size) - var(--icon-margin-right))}.cdx-list-start-with-field__input::placeholder{color:var(--grayText);font-weight:500}')),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var Vu='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 12L10.4884 15.8372C10.5677 15.9245 10.705 15.9245 10.7844 15.8372L17 9"/></svg>',La='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.2 12L11.0586 13.8586C11.1367 13.9367 11.2633 13.9367 11.3414 13.8586L14.7 10.5"/><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/></svg>',Ma='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',Pa='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>',Zu='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M10 14.2L10 7.4135C10 7.32872 9.90111 7.28241 9.83598 7.33668L7 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',Ju='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 9.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 7.01L10 7" stroke="black" stroke-width="1.8" stroke-linecap="round"/></svg>',Qu='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13.2087 14.2H13.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M10 14.2L10 7.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',eh='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.0087 14.2H16" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M7 14.2L7.78865 12M13 14.2L12.1377 12M7.78865 12C7.78865 12 9.68362 7 10 7C10.3065 7 12.1377 12 12.1377 12M7.78865 12L12.1377 12" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',th='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M14.2087 14.2H14.2" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M11.5 14.5C11.5 14.5 11 13.281 11 12.5M7 9.5C7 9.5 7.5 8.5 9 8.5C10.5 8.5 11 9.5 11 10.5L11 11.5M11 11.5L11 12.5M11 11.5C11 11.5 7 11 7 13C7 15.3031 11 15 11 12.5" stroke="black" stroke-width="1.6" stroke-linecap="round"/></svg>',nh='<svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8 14.2L8 7.4135C8 7.32872 7.90111 7.28241 7.83598 7.33668L5 9.7" stroke="black" stroke-width="1.6" stroke-linecap="round"/><path d="M14 13L16.4167 10.7778M16.4167 10.7778L14 8.5M16.4167 10.7778H11.6562" stroke="black" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"/></svg>',dn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function oh(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var i=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:function(){return n[o]}})}),t}var ae={},$i={},Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});Ui.allInputsSelector=ih;function ih(){var n=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+n.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.allInputsSelector=void 0;var e=Ui;Object.defineProperty(n,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})($i);var et={},zi={};Object.defineProperty(zi,"__esModule",{value:!0});zi.isNativeInput=rh;function rh(n){var e=["INPUT","TEXTAREA"];return n&&n.tagName?e.includes(n.tagName):!1}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNativeInput=void 0;var e=zi;Object.defineProperty(n,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(et);var Fa={},Wi={};Object.defineProperty(Wi,"__esModule",{value:!0});Wi.append=sh;function sh(n,e){Array.isArray(e)?e.forEach(function(t){n.appendChild(t)}):n.appendChild(e)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.append=void 0;var e=Wi;Object.defineProperty(n,"append",{enumerable:!0,get:function(){return e.append}})})(Fa);var qi={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.blockElements=ah;function ah(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.blockElements=void 0;var e=Ki;Object.defineProperty(n,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(qi);var Ha={},Yi={};Object.defineProperty(Yi,"__esModule",{value:!0});Yi.calculateBaseline=lh;function lh(n){var e=window.getComputedStyle(n),t=parseFloat(e.fontSize),o=parseFloat(e.lineHeight)||t*1.2,i=parseFloat(e.paddingTop),r=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=t*.8,l=(o-t)/2,c=s+r+i+l+a;return c}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateBaseline=void 0;var e=Yi;Object.defineProperty(n,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(Ha);var $a={},Gi={},Xi={},Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.isContentEditable=ch;function ch(n){return n.contentEditable==="true"}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isContentEditable=void 0;var e=Vi;Object.defineProperty(n,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(Xi);Object.defineProperty(Gi,"__esModule",{value:!0});Gi.canSetCaret=hh;var dh=et,uh=Xi;function hh(n){var e=!0;if((0,dh.isNativeInput)(n))switch(n.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,uh.isContentEditable)(n);return e}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.canSetCaret=void 0;var e=Gi;Object.defineProperty(n,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})($a);var pn={},Zi={};function ph(n,e,t){let o=t.value!==void 0?"value":"get",i=t[o],r=`#${e}Cache`;if(t[o]=function(...s){return this[r]===void 0&&(this[r]=i.apply(this,s)),this[r]},o==="get"&&t.set){let s=t.set;t.set=function(a){delete n[r],s.apply(this,a)}}return t}function Ua(){let n={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(n).find(t=>window.navigator.appVersion.toLowerCase().indexOf(t)!==-1);return e!==void 0&&(n[e]=!0),n}function Ji(n){return n!=null&&n!==""&&(typeof n!="object"||Object.keys(n).length>0)}function gh(n){return!Ji(n)}var fh=()=>typeof window<"u"&&window.navigator!==null&&Ji(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function mh(n){let e=Ua();return n=n.replace(/shift/gi,"\u21E7").replace(/backspace/gi,"\u232B").replace(/enter/gi,"\u23CE").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238B").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi,"+"),e.mac?n=n.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):n=n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),n}function bh(n){return n[0].toUpperCase()+n.slice(1)}function vh(n){let e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=n,document.body.appendChild(e);let t=window.getSelection(),o=document.createRange();if(o.selectNode(e),t===null)throw new Error("Cannot copy text to clipboard");t.removeAllRanges(),t.addRange(o),document.execCommand("copy"),document.body.removeChild(e)}function yh(n,e,t){let o;return(...i)=>{let r=this,s=()=>{o=void 0,t!==!0&&n.apply(r,i)},a=t===!0&&o!==void 0;window.clearTimeout(o),o=window.setTimeout(s,e),a&&n.apply(r,i)}}function ze(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function kh(n){return ze(n)==="boolean"}function za(n){return ze(n)==="function"||ze(n)==="asyncfunction"}function wh(n){return za(n)&&/^\s*class\s+/.test(n.toString())}function xh(n){return ze(n)==="number"}function ln(n){return ze(n)==="object"}function Eh(n){return Promise.resolve(n)===n}function Ch(n){return ze(n)==="string"}function Sh(n){return ze(n)==="undefined"}function Ri(n,...e){if(!e.length)return n;let t=e.shift();if(ln(n)&&ln(t))for(let o in t)ln(t[o])?(n[o]===void 0&&Object.assign(n,{[o]:{}}),Ri(n[o],t[o])):Object.assign(n,{[o]:t[o]});return Ri(n,...e)}function Th(n,e,t){let o=`\xAB${e}\xBB is deprecated and will be removed in the next major release. Please use the \xAB${t}\xBB instead.`;n&&console.warn(o)}function Oh(n){try{return new URL(n).href}catch{}return n.substring(0,2)==="//"?window.location.protocol+n:window.location.origin+n}function Bh(n){return n>47&&n<58||n===32||n===13||n===229||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223}var _h={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},Ih={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},Fi=class{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,o)=>{this.completed=this.completed.then(e).then(t).catch(o)})}};function Ah(n,e,t=void 0){let o,i,r,s=null,a=0;t||(t={});let l=function(){a=t.leading===!1?0:Date.now(),s=null,r=n.apply(o,i),s===null&&(o=i=null)};return function(){let c=Date.now();!a&&t.leading===!1&&(a=c);let d=e-(c-a);return o=this,i=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),a=c,r=n.apply(o,i),s===null&&(o=i=null)):!s&&t.trailing!==!1&&(s=setTimeout(l,d)),r}}var Lh=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:Fi,beautifyShortcut:mh,cacheable:ph,capitalize:bh,copyTextToClipboard:vh,debounce:yh,deepMerge:Ri,deprecationAssert:Th,getUserOS:Ua,getValidUrl:Oh,isBoolean:kh,isClass:wh,isEmpty:gh,isFunction:za,isIosDevice:fh,isNumber:xh,isObject:ln,isPrintableKey:Bh,isPromise:Eh,isString:Ch,isUndefined:Sh,keyCodes:_h,mouseButtons:Ih,notEmpty:Ji,throttle:Ah,typeOf:ze},Symbol.toStringTag,{value:"Module"})),Qi=oh(Lh);Object.defineProperty(Zi,"__esModule",{value:!0});Zi.containsOnlyInlineElements=Nh;var Mh=Qi,Ph=qi;function Nh(n){var e;(0,Mh.isString)(n)?(e=document.createElement("div"),e.innerHTML=n):e=n;var t=function(o){return!(0,Ph.blockElements)().includes(o.tagName.toLowerCase())&&Array.from(o.children).every(t)};return Array.from(e.children).every(t)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.containsOnlyInlineElements=void 0;var e=Zi;Object.defineProperty(n,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(pn);var Wa={},er={},gn={},tr={};Object.defineProperty(tr,"__esModule",{value:!0});tr.make=jh;function jh(n,e,t){var o;e===void 0&&(e=null),t===void 0&&(t={});var i=document.createElement(n);if(Array.isArray(e)){var r=e.filter(function(a){return a!==void 0});(o=i.classList).add.apply(o,r)}else e!==null&&i.classList.add(e);for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s]);return i}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.make=void 0;var e=tr;Object.defineProperty(n,"make",{enumerable:!0,get:function(){return e.make}})})(gn);Object.defineProperty(er,"__esModule",{value:!0});er.fragmentToString=Rh;var Dh=gn;function Rh(n){var e=(0,Dh.make)("div");return e.appendChild(n),e.innerHTML}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fragmentToString=void 0;var e=er;Object.defineProperty(n,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(Wa);var qa={},nr={};Object.defineProperty(nr,"__esModule",{value:!0});nr.getContentLength=Hh;var Fh=et;function Hh(n){var e,t;return(0,Fh.isNativeInput)(n)?n.value.length:n.nodeType===Node.TEXT_NODE?n.length:(t=(e=n.textContent)===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getContentLength=void 0;var e=nr;Object.defineProperty(n,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(qa);var or={},ir={},Na=dn&&dn.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var o=0,i=e.length,r;o<i;o++)(r||!(o in e))&&(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(ir,"__esModule",{value:!0});ir.getDeepestBlockElements=Ka;var $h=pn;function Ka(n){return(0,$h.containsOnlyInlineElements)(n)?[n]:Array.from(n.children).reduce(function(e,t){return Na(Na([],e,!0),Ka(t),!0)},[])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDeepestBlockElements=void 0;var e=ir;Object.defineProperty(n,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(or);var Ya={},rr={},fn={},sr={};Object.defineProperty(sr,"__esModule",{value:!0});sr.isLineBreakTag=Uh;function Uh(n){return["BR","WBR"].includes(n.tagName)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isLineBreakTag=void 0;var e=sr;Object.defineProperty(n,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(fn);var mn={},ar={};Object.defineProperty(ar,"__esModule",{value:!0});ar.isSingleTag=zh;function zh(n){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(n.tagName)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSingleTag=void 0;var e=ar;Object.defineProperty(n,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(mn);Object.defineProperty(rr,"__esModule",{value:!0});rr.getDeepestNode=Ga;var Wh=et,qh=fn,Kh=mn;function Ga(n,e){e===void 0&&(e=!1);var t=e?"lastChild":"firstChild",o=e?"previousSibling":"nextSibling";if(n.nodeType===Node.ELEMENT_NODE&&n[t]){var i=n[t];if((0,Kh.isSingleTag)(i)&&!(0,Wh.isNativeInput)(i)&&!(0,qh.isLineBreakTag)(i))if(i[o])i=i[o];else if(i.parentNode!==null&&i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return Ga(i,e)}return n}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDeepestNode=void 0;var e=rr;Object.defineProperty(n,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(Ya);var Xa={},lr={},sn=dn&&dn.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var o=0,i=e.length,r;o<i;o++)(r||!(o in e))&&(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(lr,"__esModule",{value:!0});lr.findAllInputs=Zh;var Yh=pn,Gh=or,Xh=$i,Vh=et;function Zh(n){return Array.from(n.querySelectorAll((0,Xh.allInputsSelector)())).reduce(function(e,t){return(0,Vh.isNativeInput)(t)||(0,Yh.containsOnlyInlineElements)(t)?sn(sn([],e,!0),[t],!1):sn(sn([],e,!0),(0,Gh.getDeepestBlockElements)(t),!0)},[])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.findAllInputs=void 0;var e=lr;Object.defineProperty(n,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(Xa);var Va={},cr={};Object.defineProperty(cr,"__esModule",{value:!0});cr.isCollapsedWhitespaces=Jh;function Jh(n){return!/[^\t\n\r ]/.test(n)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCollapsedWhitespaces=void 0;var e=cr;Object.defineProperty(n,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(Va);var dr={},ur={};Object.defineProperty(ur,"__esModule",{value:!0});ur.isElement=ep;var Qh=Qi;function ep(n){return(0,Qh.isNumber)(n)?!1:!!n&&!!n.nodeType&&n.nodeType===Node.ELEMENT_NODE}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isElement=void 0;var e=ur;Object.defineProperty(n,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(dr);var Za={},hr={},pr={},gr={};Object.defineProperty(gr,"__esModule",{value:!0});gr.isLeaf=tp;function tp(n){return n===null?!1:n.childNodes.length===0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isLeaf=void 0;var e=gr;Object.defineProperty(n,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(pr);var fr={},mr={};Object.defineProperty(mr,"__esModule",{value:!0});mr.isNodeEmpty=sp;var np=fn,op=dr,ip=et,rp=mn;function sp(n,e){var t="";return(0,rp.isSingleTag)(n)&&!(0,np.isLineBreakTag)(n)?!1:((0,op.isElement)(n)&&(0,ip.isNativeInput)(n)?t=n.value:n.textContent!==null&&(t=n.textContent.replace("\u200B","")),e!==void 0&&(t=t.replace(new RegExp(e,"g"),"")),t.trim().length===0)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNodeEmpty=void 0;var e=mr;Object.defineProperty(n,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(fr);Object.defineProperty(hr,"__esModule",{value:!0});hr.isEmpty=cp;var ap=pr,lp=fr;function cp(n,e){n.normalize();for(var t=[n];t.length>0;){var o=t.shift();if(o){if(n=o,(0,ap.isLeaf)(n)&&!(0,lp.isNodeEmpty)(n,e))return!1;t.push.apply(t,Array.from(n.childNodes))}}return!0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isEmpty=void 0;var e=hr;Object.defineProperty(n,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(Za);var Ja={},br={};Object.defineProperty(br,"__esModule",{value:!0});br.isFragment=up;var dp=Qi;function up(n){return(0,dp.isNumber)(n)?!1:!!n&&!!n.nodeType&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isFragment=void 0;var e=br;Object.defineProperty(n,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(Ja);var Qa={},vr={};Object.defineProperty(vr,"__esModule",{value:!0});vr.isHTMLString=pp;var hp=gn;function pp(n){var e=(0,hp.make)("div");return e.innerHTML=n,e.childElementCount>0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHTMLString=void 0;var e=vr;Object.defineProperty(n,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(Qa);var el={},yr={};Object.defineProperty(yr,"__esModule",{value:!0});yr.offset=gp;function gp(n){var e=n.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=e.top+o,r=e.left+t;return{top:i,left:r,bottom:i+e.height,right:r+e.width}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.offset=void 0;var e=yr;Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return e.offset}})})(el);var tl={},kr={};Object.defineProperty(kr,"__esModule",{value:!0});kr.prepend=fp;function fp(n,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(t){return n.prepend(t)})):n.prepend(e)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.prepend=void 0;var e=kr;Object.defineProperty(n,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(tl);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.prepend=n.offset=n.make=n.isLineBreakTag=n.isSingleTag=n.isNodeEmpty=n.isLeaf=n.isHTMLString=n.isFragment=n.isEmpty=n.isElement=n.isContentEditable=n.isCollapsedWhitespaces=n.findAllInputs=n.isNativeInput=n.allInputsSelector=n.getDeepestNode=n.getDeepestBlockElements=n.getContentLength=n.fragmentToString=n.containsOnlyInlineElements=n.canSetCaret=n.calculateBaseline=n.blockElements=n.append=void 0;var e=$i;Object.defineProperty(n,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var t=et;Object.defineProperty(n,"isNativeInput",{enumerable:!0,get:function(){return t.isNativeInput}});var o=Fa;Object.defineProperty(n,"append",{enumerable:!0,get:function(){return o.append}});var i=qi;Object.defineProperty(n,"blockElements",{enumerable:!0,get:function(){return i.blockElements}});var r=Ha;Object.defineProperty(n,"calculateBaseline",{enumerable:!0,get:function(){return r.calculateBaseline}});var s=$a;Object.defineProperty(n,"canSetCaret",{enumerable:!0,get:function(){return s.canSetCaret}});var a=pn;Object.defineProperty(n,"containsOnlyInlineElements",{enumerable:!0,get:function(){return a.containsOnlyInlineElements}});var l=Wa;Object.defineProperty(n,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var c=qa;Object.defineProperty(n,"getContentLength",{enumerable:!0,get:function(){return c.getContentLength}});var d=or;Object.defineProperty(n,"getDeepestBlockElements",{enumerable:!0,get:function(){return d.getDeepestBlockElements}});var u=Ya;Object.defineProperty(n,"getDeepestNode",{enumerable:!0,get:function(){return u.getDeepestNode}});var p=Xa;Object.defineProperty(n,"findAllInputs",{enumerable:!0,get:function(){return p.findAllInputs}});var v=Va;Object.defineProperty(n,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return v.isCollapsedWhitespaces}});var m=Xi;Object.defineProperty(n,"isContentEditable",{enumerable:!0,get:function(){return m.isContentEditable}});var _=dr;Object.defineProperty(n,"isElement",{enumerable:!0,get:function(){return _.isElement}});var w=Za;Object.defineProperty(n,"isEmpty",{enumerable:!0,get:function(){return w.isEmpty}});var F=Ja;Object.defineProperty(n,"isFragment",{enumerable:!0,get:function(){return F.isFragment}});var y=Qa;Object.defineProperty(n,"isHTMLString",{enumerable:!0,get:function(){return y.isHTMLString}});var B=pr;Object.defineProperty(n,"isLeaf",{enumerable:!0,get:function(){return B.isLeaf}});var N=fr;Object.defineProperty(n,"isNodeEmpty",{enumerable:!0,get:function(){return N.isNodeEmpty}});var W=fn;Object.defineProperty(n,"isLineBreakTag",{enumerable:!0,get:function(){return W.isLineBreakTag}});var k=mn;Object.defineProperty(n,"isSingleTag",{enumerable:!0,get:function(){return k.isSingleTag}});var S=gn;Object.defineProperty(n,"make",{enumerable:!0,get:function(){return S.make}});var E=el;Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return E.offset}});var x=tl;Object.defineProperty(n,"prepend",{enumerable:!0,get:function(){return x.prepend}})})(ae);var xe="cdx-list",me={wrapper:xe,item:`${xe}__item`,itemContent:`${xe}__item-content`,itemChildren:`${xe}__item-children`},un=class n{static get CSS(){return we(se({},me),{orderedList:`${xe}-ordered`})}constructor(e,t){this.config=t,this.readOnly=e}renderWrapper(e){let t;return e===!0?t=ae.make("ol",[n.CSS.wrapper,n.CSS.orderedList]):t=ae.make("ol",[n.CSS.orderedList,n.CSS.itemChildren]),t}renderItem(e,t){let o=ae.make("li",n.CSS.item),i=ae.make("div",n.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return o.appendChild(i),o}getItemContent(e){let t=e.querySelector(`.${n.CSS.itemContent}`);return!t||ae.isEmpty(t)?"":t.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}},hn=class n{static get CSS(){return we(se({},me),{unorderedList:`${xe}-unordered`})}constructor(e,t){this.config=t,this.readOnly=e}renderWrapper(e){let t;return e===!0?t=ae.make("ul",[n.CSS.wrapper,n.CSS.unorderedList]):t=ae.make("ul",[n.CSS.unorderedList,n.CSS.itemChildren]),t}renderItem(e,t){let o=ae.make("li",n.CSS.item),i=ae.make("div",n.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()});return o.appendChild(i),o}getItemContent(e){let t=e.querySelector(`.${n.CSS.itemContent}`);return!t||ae.isEmpty(t)?"":t.innerHTML}getItemMeta(){return{}}composeDefaultMeta(){return{}}};function Qe(n){return n.nodeType===Node.ELEMENT_NODE}var Tt={},wr={},bn={},vn={};Object.defineProperty(vn,"__esModule",{value:!0});vn.getContenteditableSlice=bp;var mp=ae;function bp(n,e,t,o,i){var r;i===void 0&&(i=!1);var s=document.createRange();if(o==="left"?(s.setStart(n,0),s.setEnd(e,t)):(s.setStart(e,t),s.setEnd(n,n.childNodes.length)),i===!0){var a=s.extractContents();return(0,mp.fragmentToString)(a)}var l=s.cloneContents(),c=document.createElement("div");c.appendChild(l);var d=(r=c.textContent)!==null&&r!==void 0?r:"";return d}Object.defineProperty(bn,"__esModule",{value:!0});bn.checkContenteditableSliceForEmptiness=kp;var vp=ae,yp=vn;function kp(n,e,t,o){var i=(0,yp.getContenteditableSlice)(n,e,t,o);return(0,vp.isCollapsedWhitespaces)(i)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.checkContenteditableSliceForEmptiness=void 0;var e=bn;Object.defineProperty(n,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}})})(wr);var nl={};(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getContenteditableSlice=void 0;var e=vn;Object.defineProperty(n,"getContenteditableSlice",{enumerable:!0,get:function(){return e.getContenteditableSlice}})})(nl);var ol={},xr={};Object.defineProperty(xr,"__esModule",{value:!0});xr.focus=xp;var wp=ae;function xp(n,e){var t,o;if(e===void 0&&(e=!0),(0,wp.isNativeInput)(n)){n.focus();var i=e?0:n.value.length;n.setSelectionRange(i,i)}else{var r=document.createRange(),s=window.getSelection();if(!s)return;var a=function(p,v){v===void 0&&(v=!1);var m=document.createTextNode("");v?p.insertBefore(m,p.firstChild):p.appendChild(m),r.setStart(m,0),r.setEnd(m,0)},l=function(p){return p!=null},c=n.childNodes,d=e?c[0]:c[c.length-1];if(l(d)){for(;l(d)&&d.nodeType!==Node.TEXT_NODE;)d=e?d.firstChild:d.lastChild;if(l(d)&&d.nodeType===Node.TEXT_NODE){var u=(o=(t=d.textContent)===null||t===void 0?void 0:t.length)!==null&&o!==void 0?o:0,i=e?0:u;r.setStart(d,i),r.setEnd(d,i)}else a(n,e)}else a(n);s.removeAllRanges(),s.addRange(r)}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.focus=void 0;var e=xr;Object.defineProperty(n,"focus",{enumerable:!0,get:function(){return e.focus}})})(ol);var Er={},yn={};Object.defineProperty(yn,"__esModule",{value:!0});yn.getCaretNodeAndOffset=Ep;function Ep(){var n=window.getSelection();if(n===null)return[null,0];var e=n.focusNode,t=n.focusOffset;return e===null?[null,0]:(e.nodeType!==Node.TEXT_NODE&&e.childNodes.length>0&&(e.childNodes[t]!==void 0?(e=e.childNodes[t],t=0):(e=e.childNodes[t-1],e.textContent!==null&&(t=e.textContent.length))),[e,t])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getCaretNodeAndOffset=void 0;var e=yn;Object.defineProperty(n,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return e.getCaretNodeAndOffset}})})(Er);var il={},kn={};Object.defineProperty(kn,"__esModule",{value:!0});kn.getRange=Cp;function Cp(){var n=window.getSelection();return n&&n.rangeCount?n.getRangeAt(0):null}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getRange=void 0;var e=kn;Object.defineProperty(n,"getRange",{enumerable:!0,get:function(){return e.getRange}})})(il);var rl={},Cr={};Object.defineProperty(Cr,"__esModule",{value:!0});Cr.isCaretAtEndOfInput=Op;var ja=ae,Sp=Er,Tp=wr;function Op(n){var e=(0,ja.getDeepestNode)(n,!0);if(e===null)return!0;if((0,ja.isNativeInput)(e))return e.selectionEnd===e.value.length;var t=(0,Sp.getCaretNodeAndOffset)(),o=t[0],i=t[1];return o===null?!1:(0,Tp.checkContenteditableSliceForEmptiness)(n,o,i,"right")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCaretAtEndOfInput=void 0;var e=Cr;Object.defineProperty(n,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return e.isCaretAtEndOfInput}})})(rl);var sl={},Sr={};Object.defineProperty(Sr,"__esModule",{value:!0});Sr.isCaretAtStartOfInput=Ip;var an=ae,Bp=yn,_p=bn;function Ip(n){var e=(0,an.getDeepestNode)(n);if(e===null||(0,an.isEmpty)(n))return!0;if((0,an.isNativeInput)(e))return e.selectionEnd===0;if((0,an.isEmpty)(n))return!0;var t=(0,Bp.getCaretNodeAndOffset)(),o=t[0],i=t[1];return o===null?!1:(0,_p.checkContenteditableSliceForEmptiness)(n,o,i,"left")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCaretAtStartOfInput=void 0;var e=Sr;Object.defineProperty(n,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return e.isCaretAtStartOfInput}})})(sl);var al={},Tr={};Object.defineProperty(Tr,"__esModule",{value:!0});Tr.save=Mp;var Ap=ae,Lp=kn;function Mp(){var n=(0,Lp.getRange)(),e=(0,Ap.make)("span");if(e.id="cursor",e.hidden=!0,!!n)return n.insertNode(e),function(){var t=window.getSelection();t&&(n.setStartAfter(e),n.setEndAfter(e),t.removeAllRanges(),t.addRange(n),setTimeout(function(){e.remove()},150))}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.save=void 0;var e=Tr;Object.defineProperty(n,"save",{enumerable:!0,get:function(){return e.save}})})(al);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.save=n.isCaretAtStartOfInput=n.isCaretAtEndOfInput=n.getRange=n.getCaretNodeAndOffset=n.focus=n.getContenteditableSlice=n.checkContenteditableSliceForEmptiness=void 0;var e=wr;Object.defineProperty(n,"checkContenteditableSliceForEmptiness",{enumerable:!0,get:function(){return e.checkContenteditableSliceForEmptiness}});var t=nl;Object.defineProperty(n,"getContenteditableSlice",{enumerable:!0,get:function(){return t.getContenteditableSlice}});var o=ol;Object.defineProperty(n,"focus",{enumerable:!0,get:function(){return o.focus}});var i=Er;Object.defineProperty(n,"getCaretNodeAndOffset",{enumerable:!0,get:function(){return i.getCaretNodeAndOffset}});var r=il;Object.defineProperty(n,"getRange",{enumerable:!0,get:function(){return r.getRange}});var s=rl;Object.defineProperty(n,"isCaretAtEndOfInput",{enumerable:!0,get:function(){return s.isCaretAtEndOfInput}});var a=sl;Object.defineProperty(n,"isCaretAtStartOfInput",{enumerable:!0,get:function(){return a.isCaretAtStartOfInput}});var l=al;Object.defineProperty(n,"save",{enumerable:!0,get:function(){return l.save}})})(Tt);var Hi=class n{static get CSS(){return we(se({},me),{checklist:`${xe}-checklist`,itemChecked:`${xe}__checkbox--checked`,noHover:`${xe}__checkbox--no-hover`,checkbox:`${xe}__checkbox-check`,checkboxContainer:`${xe}__checkbox`})}constructor(e,t){this.config=t,this.readOnly=e}renderWrapper(e){let t;return e===!0?(t=ae.make("ul",[n.CSS.wrapper,n.CSS.checklist]),t.addEventListener("click",o=>{let i=o.target;if(i){let r=i.closest(`.${n.CSS.checkboxContainer}`);r&&r.contains(i)&&this.toggleCheckbox(r)}})):t=ae.make("ul",[n.CSS.checklist,n.CSS.itemChildren]),t}renderItem(e,t){let o=ae.make("li",[n.CSS.item,n.CSS.item]),i=ae.make("div",n.CSS.itemContent,{innerHTML:e,contentEditable:(!this.readOnly).toString()}),r=ae.make("span",n.CSS.checkbox),s=ae.make("div",n.CSS.checkboxContainer);return t.checked===!0&&s.classList.add(n.CSS.itemChecked),r.innerHTML=Vu,s.appendChild(r),o.appendChild(s),o.appendChild(i),o}getItemContent(e){let t=e.querySelector(`.${n.CSS.itemContent}`);return!t||ae.isEmpty(t)?"":t.innerHTML}getItemMeta(e){let t=e.querySelector(`.${n.CSS.checkboxContainer}`);return{checked:t?t.classList.contains(n.CSS.itemChecked):!1}}composeDefaultMeta(){return{checked:!1}}toggleCheckbox(e){e.classList.toggle(n.CSS.itemChecked),e.classList.add(n.CSS.noHover),e.addEventListener("mouseleave",()=>this.removeSpecialHoverBehavior(e),{once:!0})}removeSpecialHoverBehavior(e){e.classList.remove(n.CSS.noHover)}};function ji(n,e="after"){let t=[],o;function i(r){switch(e){case"after":return r.nextElementSibling;case"before":return r.previousElementSibling}}for(o=i(n);o!==null;)t.push(o),o=i(o);return t.length!==0?t:null}function Re(n,e=!0){let t=n;return n.classList.contains(me.item)&&(t=n.querySelector(`.${me.itemChildren}`)),t===null?[]:e?Array.from(t.querySelectorAll(`:scope > .${me.item}`)):Array.from(t.querySelectorAll(`.${me.item}`))}function Pp(n){return n.nextElementSibling===null}function Np(n){return n.querySelector(`.${me.itemChildren}`)!==null}function Ue(n){return n.querySelector(`.${me.itemChildren}`)}function Di(n){let e=n;n.classList.contains(me.item)&&(e=Ue(n)),e!==null&&Re(e).length===0&&e.remove()}function cn(n){return n.querySelector(`.${me.itemContent}`)}function dt(n,e=!0){let t=cn(n);t&&Tt.focus(t,e)}var Ot=class{get currentItem(){let e=window.getSelection();if(!e)return null;let t=e.anchorNode;return!t||(Qe(t)||(t=t.parentNode),!t)||!Qe(t)?null:t.closest(`.${me.item}`)}get currentItemLevel(){let e=this.currentItem;if(e===null)return null;let t=e.parentNode,o=0;for(;t!==null&&t!==this.listWrapper;)Qe(t)&&t.classList.contains(me.item)&&(o+=1),t=t.parentNode;return o+1}constructor({data:e,config:t,api:o,readOnly:i,block:r},s){this.config=t,this.data=e,this.readOnly=i,this.api=o,this.block=r,this.renderer=s}render(){return this.listWrapper=this.renderer.renderWrapper(!0),this.data.items.length?this.appendItems(this.data.items,this.listWrapper):this.appendItems([{content:"",meta:{},items:[]}],this.listWrapper),this.readOnly||this.listWrapper.addEventListener("keydown",e=>{switch(e.key){case"Enter":e.shiftKey||this.enterPressed(e);break;case"Backspace":this.backspace(e);break;case"Tab":e.shiftKey?this.shiftTab(e):this.addTab(e);break}},!1),"start"in this.data.meta&&this.data.meta.start!==void 0&&this.changeStartWith(this.data.meta.start),"counterType"in this.data.meta&&this.data.meta.counterType!==void 0&&this.changeCounters(this.data.meta.counterType),this.listWrapper}save(e){let t=e??this.listWrapper,o=s=>Re(s).map(a=>{let l=Ue(a),c=this.renderer.getItemContent(a),d=this.renderer.getItemMeta(a),u=l?o(l):[];return{content:c,meta:d,items:u}}),i=t?o(t):[],r={style:this.data.style,meta:{},items:i};return this.data.style==="ordered"&&(r.meta={start:this.data.meta.start,counterType:this.data.meta.counterType}),r}static get pasteConfig(){return{tags:["OL","UL","LI"]}}merge(e){let t=this.block.holder.querySelectorAll(`.${me.item}`),o=t[t.length-1],i=cn(o);if(o===null||i===null||(i.insertAdjacentHTML("beforeend",e.items[0].content),this.listWrapper===void 0))return;let r=Re(this.listWrapper);if(r.length===0)return;let s=r[r.length-1],a=Ue(s),l=e.items.shift();l!==void 0&&(l.items.length!==0&&(a===null&&(a=this.renderer.renderWrapper(!1)),this.appendItems(l.items,a)),e.items.length>0&&this.appendItems(e.items,this.listWrapper))}onPaste(e){let t=e.detail.data;this.data=this.pasteHandler(t);let o=this.listWrapper;o&&o.parentNode&&o.parentNode.replaceChild(this.render(),o)}pasteHandler(e){let{tagName:t}=e,o="unordered",i;switch(t){case"OL":o="ordered",i="ol";break;case"UL":case"LI":o="unordered",i="ul"}let r={style:o,meta:{},items:[]};o==="ordered"&&(this.data.meta.counterType="numeric",this.data.meta.start=1);let s=a=>Array.from(a.querySelectorAll(":scope > li")).map(l=>{let c=l.querySelector(`:scope > ${i}`),d=c?s(c):[];return{content:l.innerHTML??"",meta:{},items:d}});return r.items=s(e),r}changeStartWith(e){this.listWrapper.style.setProperty("counter-reset",`item ${e-1}`),this.data.meta.start=e}changeCounters(e){this.listWrapper.style.setProperty("--list-counter-type",e),this.data.meta.counterType=e}enterPressed(e){var t;let o=this.currentItem;if(e.stopPropagation(),e.preventDefault(),e.isComposing||o===null)return;let i=((t=this.renderer)==null?void 0:t.getItemContent(o).trim().length)===0,r=o.parentNode===this.listWrapper,s=o.previousElementSibling===null,a=this.api.blocks.getCurrentBlockIndex();if(r&&i)if(Pp(o)&&!Np(o)){s?this.convertItemToDefaultBlock(a,!0):this.convertItemToDefaultBlock();return}else{this.splitList(o);return}else if(i){this.unshiftItem(o);return}else this.splitItem(o)}backspace(e){var t;let o=this.currentItem;if(o!==null&&Tt.isCaretAtStartOfInput(o)&&((t=window.getSelection())==null?void 0:t.isCollapsed)!==!1){if(e.stopPropagation(),o.parentNode===this.listWrapper&&o.previousElementSibling===null){this.convertFirstItemToDefaultBlock();return}e.preventDefault(),this.mergeItemWithPrevious(o)}}shiftTab(e){e.stopPropagation(),e.preventDefault(),this.currentItem!==null&&this.unshiftItem(this.currentItem)}unshiftItem(e){if(!e.parentNode||!Qe(e.parentNode))return;let t=e.parentNode.closest(`.${me.item}`);if(!t)return;let o=Ue(e);if(e.parentElement===null)return;let i=ji(e);i!==null&&(o===null&&(o=this.renderer.renderWrapper(!1)),i.forEach(r=>{o.appendChild(r)}),e.appendChild(o)),t.after(e),dt(e,!1),Di(t)}splitList(e){let t=Re(e),o=this.block,i=this.api.blocks.getCurrentBlockIndex();if(t.length!==0){let l=t[0];this.unshiftItem(l),dt(e,!1)}if(e.previousElementSibling===null&&e.parentNode===this.listWrapper){this.convertItemToDefaultBlock(i);return}let r=ji(e);if(r===null)return;let s=this.renderer.renderWrapper(!0);r.forEach(l=>{s.appendChild(l)});let a=this.save(s);a.meta.start=this.data.style=="ordered"?1:void 0,this.api.blocks.insert(o?.name,a,this.config,i+1),this.convertItemToDefaultBlock(i+1),s.remove()}splitItem(e){let[t,o]=Tt.getCaretNodeAndOffset();if(t===null)return;let i=cn(e),r;i===null?r="":r=Tt.getContenteditableSlice(i,t,o,"right",!0);let s=Ue(e),a=this.renderItem(r);e?.after(a),s&&a.appendChild(s),dt(a)}mergeItemWithPrevious(e){let t=e.previousElementSibling,o=e.parentNode;if(o===null||!Qe(o))return;let i=o.closest(`.${me.item}`);if(!t&&!i||t&&!Qe(t))return;let r;if(t){let u=Re(t,!1);u.length!==0&&u.length!==0?r=u[u.length-1]:r=t}else r=i;let s=this.renderer.getItemContent(e);if(!r)return;dt(r,!1);let a=cn(r);if(a===null)return;a.insertAdjacentHTML("beforeend",s);let l=Re(e);if(l.length===0){e.remove(),Di(r);return}let c=t||i,d=Ue(c)??this.renderer.renderWrapper(!1);t?l.forEach(u=>{d.appendChild(u)}):l.forEach(u=>{d.prepend(u)}),Ue(c)===null&&r.appendChild(d),e.remove()}addTab(e){var t;e.stopPropagation(),e.preventDefault();let o=this.currentItem;if(!o)return;if(((t=this.config)==null?void 0:t.maxLevel)!==void 0){let s=this.currentItemLevel;if(s!==null&&s===this.config.maxLevel)return}let i=o.previousSibling;if(i===null||!Qe(i))return;let r=Ue(i);if(r)r.appendChild(o),Re(o).forEach(s=>{r.appendChild(s)});else{let s=this.renderer.renderWrapper(!1);s.appendChild(o),Re(o).forEach(a=>{s.appendChild(a)}),i.appendChild(s)}Di(o),dt(o,!1)}convertItemToDefaultBlock(e,t){let o,i=this.currentItem,r=i!==null?this.renderer.getItemContent(i):"";t===!0&&this.api.blocks.delete(),e!==void 0?o=this.api.blocks.insert(void 0,{text:r},void 0,e):o=this.api.blocks.insert(),i?.remove(),this.api.caret.setToBlock(o,"start")}convertFirstItemToDefaultBlock(){let e=this.currentItem;if(e===null)return;let t=Re(e);if(t.length!==0){let s=t[0];this.unshiftItem(s),dt(e)}let o=ji(e),i=this.api.blocks.getCurrentBlockIndex(),r=o===null;this.convertItemToDefaultBlock(i,r)}renderItem(e,t){let o=t??this.renderer.composeDefaultMeta();switch(!0){case this.renderer instanceof un:return this.renderer.renderItem(e,o);case this.renderer instanceof hn:return this.renderer.renderItem(e,o);default:return this.renderer.renderItem(e,o)}}appendItems(e,t){e.forEach(o=>{var i;let r=this.renderItem(o.content,o.meta);if(t.appendChild(r),o.items.length){let s=(i=this.renderer)==null?void 0:i.renderWrapper(!1);this.appendItems(o.items,s),r.appendChild(s)}})}},ut={wrapper:`${xe}-start-with-field`,input:`${xe}-start-with-field__input`,startWithElementWrapperInvalid:`${xe}-start-with-field--invalid`};function jp(n,{value:e,placeholder:t,attributes:o,sanitize:i}){let r=ae.make("div",ut.wrapper),s=ae.make("input",ut.input,{placeholder:t,tabIndex:-1,value:e});for(let a in o)s.setAttribute(a,o[a]);return r.appendChild(s),s.addEventListener("input",()=>{i!==void 0&&(s.value=i(s.value));let a=s.checkValidity();!a&&!r.classList.contains(ut.startWithElementWrapperInvalid)&&r.classList.add(ut.startWithElementWrapperInvalid),a&&r.classList.contains(ut.startWithElementWrapperInvalid)&&r.classList.remove(ut.startWithElementWrapperInvalid),a&&n(s.value)}),r}var St=new Map([["Numeric","numeric"],["Lower Roman","lower-roman"],["Upper Roman","upper-roman"],["Lower Alpha","lower-alpha"],["Upper Alpha","upper-alpha"]]),Da=new Map([["numeric",Zu],["lower-roman",Ju],["upper-roman",Qu],["lower-alpha",th],["upper-alpha",eh]]);function Dp(n){return n.replace(/\D+/g,"")}function Rp(n){return typeof n.items[0]=="string"}function Fp(n){return!("meta"in n)}function Hp(n){return typeof n.items[0]!="string"&&"text"in n.items[0]&&"checked"in n.items[0]&&typeof n.items[0].text=="string"&&typeof n.items[0].checked=="boolean"}function $p(n){let e=[];return Rp(n)?(n.items.forEach(t=>{e.push({content:t,meta:{},items:[]})}),{style:n.style,meta:{},items:e}):Hp(n)?(n.items.forEach(t=>{e.push({content:t.text,meta:{checked:t.checked},items:[]})}),{style:"checklist",meta:{},items:e}):Fp(n)?{style:n.style,meta:{},items:n.items}:structuredClone(n)}var Ra=class n{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return[{icon:Ma,title:"Unordered List",data:{style:"unordered"}},{icon:Pa,title:"Ordered List",data:{style:"ordered"}},{icon:La,title:"Checklist",data:{style:"checklist"}}]}static get pasteConfig(){return{tags:["OL","UL","LI"]}}static get conversionConfig(){return{export:e=>n.joinRecursive(e),import:(e,t)=>({meta:{},items:[{content:e,meta:{},items:[]}],style:t?.defaultStyle!==void 0?t.defaultStyle:"unordered"})}}get listStyle(){return this.data.style||this.defaultListStyle}set listStyle(e){var t;this.data.style=e,this.changeTabulatorByStyle();let o=this.list.render();(t=this.listElement)==null||t.replaceWith(o),this.listElement=o}constructor({data:e,config:t,api:o,readOnly:i,block:r}){var s;this.api=o,this.readOnly=i,this.config=t,this.block=r,this.defaultListStyle=((s=this.config)==null?void 0:s.defaultStyle)||"unordered",this.defaultCounterTypes=this.config.counterTypes||Array.from(St.values());let a={style:this.defaultListStyle,meta:{},items:[]};this.data=Object.keys(e).length?$p(e):a,this.listStyle==="ordered"&&this.data.meta.counterType===void 0&&(this.data.meta.counterType="numeric"),this.changeTabulatorByStyle()}static joinRecursive(e){return e.items.map(t=>`${t.content} ${n.joinRecursive(t)}`).join("")}render(){return this.listElement=this.list.render(),this.listElement}save(){return this.data=this.list.save(),this.data}merge(e){this.list.merge(e)}renderSettings(){let e=[{label:this.api.i18n.t("Unordered"),icon:Ma,closeOnActivate:!0,isActive:this.listStyle=="unordered",onActivate:()=>{this.listStyle="unordered"}},{label:this.api.i18n.t("Ordered"),icon:Pa,closeOnActivate:!0,isActive:this.listStyle=="ordered",onActivate:()=>{this.listStyle="ordered"}},{label:this.api.i18n.t("Checklist"),icon:La,closeOnActivate:!0,isActive:this.listStyle=="checklist",onActivate:()=>{this.listStyle="checklist"}}];if(this.listStyle==="ordered"){let t=jp(r=>this.changeStartWith(Number(r)),{value:String(this.data.meta.start??1),placeholder:"",attributes:{required:"true"},sanitize:r=>Dp(r)}),o=[{label:this.api.i18n.t("Start with"),icon:nh,children:{items:[{element:t,type:"html"}]}}],i={label:this.api.i18n.t("Counter type"),icon:Da.get(this.data.meta.counterType),children:{items:[]}};St.forEach((r,s)=>{let a=St.get(s);this.defaultCounterTypes.includes(a)&&i.children.items.push({title:this.api.i18n.t(s),icon:Da.get(a),isActive:this.data.meta.counterType===St.get(s),closeOnActivate:!0,onActivate:()=>{this.changeCounters(St.get(s))}})}),i.children.items.length>1&&o.push(i),e.push({type:"separator"},...o)}return e}onPaste(e){let{tagName:t}=e.detail.data;switch(t){case"OL":this.listStyle="ordered";break;case"UL":case"LI":this.listStyle="unordered"}this.list.onPaste(e)}pasteHandler(e){return this.list.pasteHandler(e)}changeCounters(e){var t;(t=this.list)==null||t.changeCounters(e),this.data.meta.counterType=e}changeStartWith(e){var t;(t=this.list)==null||t.changeStartWith(e),this.data.meta.start=e}changeTabulatorByStyle(){switch(this.listStyle){case"ordered":this.list=new Ot({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new un(this.readOnly,this.config));break;case"unordered":this.list=new Ot({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new hn(this.readOnly,this.config));break;case"checklist":this.list=new Ot({data:this.data,readOnly:this.readOnly,api:this.api,config:this.config,block:this.block},new Hi(this.readOnly,this.config));break}}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var Up='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',zp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',Wp='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>',Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qp(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function o(){return this instanceof o?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(o){var i=Object.getOwnPropertyDescriptor(n,o);Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:function(){return n[o]}})}),t}var xn={},_r={},Ir={};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.allInputsSelector=Kp;function Kp(){var n=["text","password","email","number","search","tel","url"];return"[contenteditable=true], textarea, input:not([type]), "+n.map(function(e){return'input[type="'.concat(e,'"]')}).join(", ")}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.allInputsSelector=void 0;var e=Ir;Object.defineProperty(n,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}})})(_r);var tt={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.isNativeInput=Yp;function Yp(n){var e=["INPUT","TEXTAREA"];return n&&n.tagName?e.includes(n.tagName):!1}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNativeInput=void 0;var e=Ar;Object.defineProperty(n,"isNativeInput",{enumerable:!0,get:function(){return e.isNativeInput}})})(tt);var dl={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.append=Gp;function Gp(n,e){Array.isArray(e)?e.forEach(function(t){n.appendChild(t)}):n.appendChild(e)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.append=void 0;var e=Lr;Object.defineProperty(n,"append",{enumerable:!0,get:function(){return e.append}})})(dl);var Mr={},Pr={};Object.defineProperty(Pr,"__esModule",{value:!0});Pr.blockElements=Xp;function Xp(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.blockElements=void 0;var e=Pr;Object.defineProperty(n,"blockElements",{enumerable:!0,get:function(){return e.blockElements}})})(Mr);var ul={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0});Nr.calculateBaseline=Vp;function Vp(n){var e=window.getComputedStyle(n),t=parseFloat(e.fontSize),o=parseFloat(e.lineHeight)||t*1.2,i=parseFloat(e.paddingTop),r=parseFloat(e.borderTopWidth),s=parseFloat(e.marginTop),a=t*.8,l=(o-t)/2,c=s+r+i+l+a;return c}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.calculateBaseline=void 0;var e=Nr;Object.defineProperty(n,"calculateBaseline",{enumerable:!0,get:function(){return e.calculateBaseline}})})(ul);var hl={},jr={},Dr={},Rr={};Object.defineProperty(Rr,"__esModule",{value:!0});Rr.isContentEditable=Zp;function Zp(n){return n.contentEditable==="true"}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isContentEditable=void 0;var e=Rr;Object.defineProperty(n,"isContentEditable",{enumerable:!0,get:function(){return e.isContentEditable}})})(Dr);Object.defineProperty(jr,"__esModule",{value:!0});jr.canSetCaret=eg;var Jp=tt,Qp=Dr;function eg(n){var e=!0;if((0,Jp.isNativeInput)(n))switch(n.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":e=!1;break}else e=(0,Qp.isContentEditable)(n);return e}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.canSetCaret=void 0;var e=jr;Object.defineProperty(n,"canSetCaret",{enumerable:!0,get:function(){return e.canSetCaret}})})(hl);var Sn={},Fr={};function tg(n,e,t){let o=t.value!==void 0?"value":"get",i=t[o],r=`#${e}Cache`;if(t[o]=function(...s){return this[r]===void 0&&(this[r]=i.apply(this,s)),this[r]},o==="get"&&t.set){let s=t.set;t.set=function(a){delete n[r],s.apply(this,a)}}return t}function pl(){let n={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(n).find(t=>window.navigator.appVersion.toLowerCase().indexOf(t)!==-1);return e!==void 0&&(n[e]=!0),n}function Hr(n){return n!=null&&n!==""&&(typeof n!="object"||Object.keys(n).length>0)}function ng(n){return!Hr(n)}var og=()=>typeof window<"u"&&window.navigator!==null&&Hr(window.navigator.platform)&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function ig(n){let e=pl();return n=n.replace(/shift/gi,"\u21E7").replace(/backspace/gi,"\u232B").replace(/enter/gi,"\u23CE").replace(/up/gi,"\u2191").replace(/left/gi,"\u2192").replace(/down/gi,"\u2193").replace(/right/gi,"\u2190").replace(/escape/gi,"\u238B").replace(/insert/gi,"Ins").replace(/delete/gi,"\u2421").replace(/\+/gi,"+"),e.mac?n=n.replace(/ctrl|cmd/gi,"\u2318").replace(/alt/gi,"\u2325"):n=n.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),n}function rg(n){return n[0].toUpperCase()+n.slice(1)}function sg(n){let e=document.createElement("div");e.style.position="absolute",e.style.left="-999px",e.style.bottom="-999px",e.innerHTML=n,document.body.appendChild(e);let t=window.getSelection(),o=document.createRange();if(o.selectNode(e),t===null)throw new Error("Cannot copy text to clipboard");t.removeAllRanges(),t.addRange(o),document.execCommand("copy"),document.body.removeChild(e)}function ag(n,e,t){let o;return(...i)=>{let r=this,s=()=>{o=void 0,t!==!0&&n.apply(r,i)},a=t===!0&&o!==void 0;window.clearTimeout(o),o=window.setTimeout(s,e),a&&n.apply(r,i)}}function We(n){return Object.prototype.toString.call(n).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function lg(n){return We(n)==="boolean"}function gl(n){return We(n)==="function"||We(n)==="asyncfunction"}function cg(n){return gl(n)&&/^\s*class\s+/.test(n.toString())}function dg(n){return We(n)==="number"}function En(n){return We(n)==="object"}function ug(n){return Promise.resolve(n)===n}function hg(n){return We(n)==="string"}function pg(n){return We(n)==="undefined"}function Or(n,...e){if(!e.length)return n;let t=e.shift();if(En(n)&&En(t))for(let o in t)En(t[o])?(n[o]===void 0&&Object.assign(n,{[o]:{}}),Or(n[o],t[o])):Object.assign(n,{[o]:t[o]});return Or(n,...e)}function gg(n,e,t){let o=`\xAB${e}\xBB is deprecated and will be removed in the next major release. Please use the \xAB${t}\xBB instead.`;n&&console.warn(o)}function fg(n){try{return new URL(n).href}catch{}return n.substring(0,2)==="//"?window.location.protocol+n:window.location.origin+n}function mg(n){return n>47&&n<58||n===32||n===13||n===229||n>64&&n<91||n>95&&n<112||n>185&&n<193||n>218&&n<223}var bg={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91,SLASH:191},vg={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4},Br=class{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((t,o)=>{this.completed=this.completed.then(e).then(t).catch(o)})}};function yg(n,e,t=void 0){let o,i,r,s=null,a=0;t||(t={});let l=function(){a=t.leading===!1?0:Date.now(),s=null,r=n.apply(o,i),s===null&&(o=i=null)};return function(){let c=Date.now();!a&&t.leading===!1&&(a=c);let d=e-(c-a);return o=this,i=arguments,d<=0||d>e?(s&&(clearTimeout(s),s=null),a=c,r=n.apply(o,i),s===null&&(o=i=null)):!s&&t.trailing!==!1&&(s=setTimeout(l,d)),r}}var kg=Object.freeze(Object.defineProperty({__proto__:null,PromiseQueue:Br,beautifyShortcut:ig,cacheable:tg,capitalize:rg,copyTextToClipboard:sg,debounce:ag,deepMerge:Or,deprecationAssert:gg,getUserOS:pl,getValidUrl:fg,isBoolean:lg,isClass:cg,isEmpty:ng,isFunction:gl,isIosDevice:og,isNumber:dg,isObject:En,isPrintableKey:mg,isPromise:ug,isString:hg,isUndefined:pg,keyCodes:bg,mouseButtons:vg,notEmpty:Hr,throttle:yg,typeOf:We},Symbol.toStringTag,{value:"Module"})),$r=qp(kg);Object.defineProperty(Fr,"__esModule",{value:!0});Fr.containsOnlyInlineElements=Eg;var wg=$r,xg=Mr;function Eg(n){var e;(0,wg.isString)(n)?(e=document.createElement("div"),e.innerHTML=n):e=n;var t=function(o){return!(0,xg.blockElements)().includes(o.tagName.toLowerCase())&&Array.from(o.children).every(t)};return Array.from(e.children).every(t)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.containsOnlyInlineElements=void 0;var e=Fr;Object.defineProperty(n,"containsOnlyInlineElements",{enumerable:!0,get:function(){return e.containsOnlyInlineElements}})})(Sn);var fl={},Ur={},Tn={},zr={};Object.defineProperty(zr,"__esModule",{value:!0});zr.make=Cg;function Cg(n,e,t){var o;e===void 0&&(e=null),t===void 0&&(t={});var i=document.createElement(n);if(Array.isArray(e)){var r=e.filter(function(a){return a!==void 0});(o=i.classList).add.apply(o,r)}else e!==null&&i.classList.add(e);for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=t[s]);return i}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.make=void 0;var e=zr;Object.defineProperty(n,"make",{enumerable:!0,get:function(){return e.make}})})(Tn);Object.defineProperty(Ur,"__esModule",{value:!0});Ur.fragmentToString=Tg;var Sg=Tn;function Tg(n){var e=(0,Sg.make)("div");return e.appendChild(n),e.innerHTML}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.fragmentToString=void 0;var e=Ur;Object.defineProperty(n,"fragmentToString",{enumerable:!0,get:function(){return e.fragmentToString}})})(fl);var ml={},Wr={};Object.defineProperty(Wr,"__esModule",{value:!0});Wr.getContentLength=Bg;var Og=tt;function Bg(n){var e,t;return(0,Og.isNativeInput)(n)?n.value.length:n.nodeType===Node.TEXT_NODE?n.length:(t=(e=n.textContent)===null||e===void 0?void 0:e.length)!==null&&t!==void 0?t:0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getContentLength=void 0;var e=Wr;Object.defineProperty(n,"getContentLength",{enumerable:!0,get:function(){return e.getContentLength}})})(ml);var qr={},Kr={},ll=Cn&&Cn.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var o=0,i=e.length,r;o<i;o++)(r||!(o in e))&&(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(Kr,"__esModule",{value:!0});Kr.getDeepestBlockElements=bl;var _g=Sn;function bl(n){return(0,_g.containsOnlyInlineElements)(n)?[n]:Array.from(n.children).reduce(function(e,t){return ll(ll([],e,!0),bl(t),!0)},[])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDeepestBlockElements=void 0;var e=Kr;Object.defineProperty(n,"getDeepestBlockElements",{enumerable:!0,get:function(){return e.getDeepestBlockElements}})})(qr);var vl={},Yr={},On={},Gr={};Object.defineProperty(Gr,"__esModule",{value:!0});Gr.isLineBreakTag=Ig;function Ig(n){return["BR","WBR"].includes(n.tagName)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isLineBreakTag=void 0;var e=Gr;Object.defineProperty(n,"isLineBreakTag",{enumerable:!0,get:function(){return e.isLineBreakTag}})})(On);var Bn={},Xr={};Object.defineProperty(Xr,"__esModule",{value:!0});Xr.isSingleTag=Ag;function Ag(n){return["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(n.tagName)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isSingleTag=void 0;var e=Xr;Object.defineProperty(n,"isSingleTag",{enumerable:!0,get:function(){return e.isSingleTag}})})(Bn);Object.defineProperty(Yr,"__esModule",{value:!0});Yr.getDeepestNode=yl;var Lg=tt,Mg=On,Pg=Bn;function yl(n,e){e===void 0&&(e=!1);var t=e?"lastChild":"firstChild",o=e?"previousSibling":"nextSibling";if(n.nodeType===Node.ELEMENT_NODE&&n[t]){var i=n[t];if((0,Pg.isSingleTag)(i)&&!(0,Lg.isNativeInput)(i)&&!(0,Mg.isLineBreakTag)(i))if(i[o])i=i[o];else if(i.parentNode!==null&&i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return yl(i,e)}return n}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.getDeepestNode=void 0;var e=Yr;Object.defineProperty(n,"getDeepestNode",{enumerable:!0,get:function(){return e.getDeepestNode}})})(vl);var kl={},Vr={},wn=Cn&&Cn.__spreadArray||function(n,e,t){if(t||arguments.length===2)for(var o=0,i=e.length,r;o<i;o++)(r||!(o in e))&&(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return n.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(Vr,"__esModule",{value:!0});Vr.findAllInputs=Fg;var Ng=Sn,jg=qr,Dg=_r,Rg=tt;function Fg(n){return Array.from(n.querySelectorAll((0,Dg.allInputsSelector)())).reduce(function(e,t){return(0,Rg.isNativeInput)(t)||(0,Ng.containsOnlyInlineElements)(t)?wn(wn([],e,!0),[t],!1):wn(wn([],e,!0),(0,jg.getDeepestBlockElements)(t),!0)},[])}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.findAllInputs=void 0;var e=Vr;Object.defineProperty(n,"findAllInputs",{enumerable:!0,get:function(){return e.findAllInputs}})})(kl);var wl={},Zr={};Object.defineProperty(Zr,"__esModule",{value:!0});Zr.isCollapsedWhitespaces=Hg;function Hg(n){return!/[^\t\n\r ]/.test(n)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isCollapsedWhitespaces=void 0;var e=Zr;Object.defineProperty(n,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return e.isCollapsedWhitespaces}})})(wl);var Jr={},Qr={};Object.defineProperty(Qr,"__esModule",{value:!0});Qr.isElement=Ug;var $g=$r;function Ug(n){return(0,$g.isNumber)(n)?!1:!!n&&!!n.nodeType&&n.nodeType===Node.ELEMENT_NODE}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isElement=void 0;var e=Qr;Object.defineProperty(n,"isElement",{enumerable:!0,get:function(){return e.isElement}})})(Jr);var xl={},es={},ts={},ns={};Object.defineProperty(ns,"__esModule",{value:!0});ns.isLeaf=zg;function zg(n){return n===null?!1:n.childNodes.length===0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isLeaf=void 0;var e=ns;Object.defineProperty(n,"isLeaf",{enumerable:!0,get:function(){return e.isLeaf}})})(ts);var os={},is={};Object.defineProperty(is,"__esModule",{value:!0});is.isNodeEmpty=Gg;var Wg=On,qg=Jr,Kg=tt,Yg=Bn;function Gg(n,e){var t="";return(0,Yg.isSingleTag)(n)&&!(0,Wg.isLineBreakTag)(n)?!1:((0,qg.isElement)(n)&&(0,Kg.isNativeInput)(n)?t=n.value:n.textContent!==null&&(t=n.textContent.replace("\u200B","")),e!==void 0&&(t=t.replace(new RegExp(e,"g"),"")),t.trim().length===0)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isNodeEmpty=void 0;var e=is;Object.defineProperty(n,"isNodeEmpty",{enumerable:!0,get:function(){return e.isNodeEmpty}})})(os);Object.defineProperty(es,"__esModule",{value:!0});es.isEmpty=Zg;var Xg=ts,Vg=os;function Zg(n,e){n.normalize();for(var t=[n];t.length>0;){var o=t.shift();if(o){if(n=o,(0,Xg.isLeaf)(n)&&!(0,Vg.isNodeEmpty)(n,e))return!1;t.push.apply(t,Array.from(n.childNodes))}}return!0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isEmpty=void 0;var e=es;Object.defineProperty(n,"isEmpty",{enumerable:!0,get:function(){return e.isEmpty}})})(xl);var El={},rs={};Object.defineProperty(rs,"__esModule",{value:!0});rs.isFragment=Qg;var Jg=$r;function Qg(n){return(0,Jg.isNumber)(n)?!1:!!n&&!!n.nodeType&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isFragment=void 0;var e=rs;Object.defineProperty(n,"isFragment",{enumerable:!0,get:function(){return e.isFragment}})})(El);var Cl={},ss={};Object.defineProperty(ss,"__esModule",{value:!0});ss.isHTMLString=tf;var ef=Tn;function tf(n){var e=(0,ef.make)("div");return e.innerHTML=n,e.childElementCount>0}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.isHTMLString=void 0;var e=ss;Object.defineProperty(n,"isHTMLString",{enumerable:!0,get:function(){return e.isHTMLString}})})(Cl);var Sl={},as={};Object.defineProperty(as,"__esModule",{value:!0});as.offset=nf;function nf(n){var e=n.getBoundingClientRect(),t=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=e.top+o,r=e.left+t;return{top:i,left:r,bottom:i+e.height,right:r+e.width}}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.offset=void 0;var e=as;Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return e.offset}})})(Sl);var Tl={},ls={};Object.defineProperty(ls,"__esModule",{value:!0});ls.prepend=of;function of(n,e){Array.isArray(e)?(e=e.reverse(),e.forEach(function(t){return n.prepend(t)})):n.prepend(e)}(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.prepend=void 0;var e=ls;Object.defineProperty(n,"prepend",{enumerable:!0,get:function(){return e.prepend}})})(Tl);(function(n){Object.defineProperty(n,"__esModule",{value:!0}),n.prepend=n.offset=n.make=n.isLineBreakTag=n.isSingleTag=n.isNodeEmpty=n.isLeaf=n.isHTMLString=n.isFragment=n.isEmpty=n.isElement=n.isContentEditable=n.isCollapsedWhitespaces=n.findAllInputs=n.isNativeInput=n.allInputsSelector=n.getDeepestNode=n.getDeepestBlockElements=n.getContentLength=n.fragmentToString=n.containsOnlyInlineElements=n.canSetCaret=n.calculateBaseline=n.blockElements=n.append=void 0;var e=_r;Object.defineProperty(n,"allInputsSelector",{enumerable:!0,get:function(){return e.allInputsSelector}});var t=tt;Object.defineProperty(n,"isNativeInput",{enumerable:!0,get:function(){return t.isNativeInput}});var o=dl;Object.defineProperty(n,"append",{enumerable:!0,get:function(){return o.append}});var i=Mr;Object.defineProperty(n,"blockElements",{enumerable:!0,get:function(){return i.blockElements}});var r=ul;Object.defineProperty(n,"calculateBaseline",{enumerable:!0,get:function(){return r.calculateBaseline}});var s=hl;Object.defineProperty(n,"canSetCaret",{enumerable:!0,get:function(){return s.canSetCaret}});var a=Sn;Object.defineProperty(n,"containsOnlyInlineElements",{enumerable:!0,get:function(){return a.containsOnlyInlineElements}});var l=fl;Object.defineProperty(n,"fragmentToString",{enumerable:!0,get:function(){return l.fragmentToString}});var c=ml;Object.defineProperty(n,"getContentLength",{enumerable:!0,get:function(){return c.getContentLength}});var d=qr;Object.defineProperty(n,"getDeepestBlockElements",{enumerable:!0,get:function(){return d.getDeepestBlockElements}});var u=vl;Object.defineProperty(n,"getDeepestNode",{enumerable:!0,get:function(){return u.getDeepestNode}});var p=kl;Object.defineProperty(n,"findAllInputs",{enumerable:!0,get:function(){return p.findAllInputs}});var v=wl;Object.defineProperty(n,"isCollapsedWhitespaces",{enumerable:!0,get:function(){return v.isCollapsedWhitespaces}});var m=Dr;Object.defineProperty(n,"isContentEditable",{enumerable:!0,get:function(){return m.isContentEditable}});var _=Jr;Object.defineProperty(n,"isElement",{enumerable:!0,get:function(){return _.isElement}});var w=xl;Object.defineProperty(n,"isEmpty",{enumerable:!0,get:function(){return w.isEmpty}});var F=El;Object.defineProperty(n,"isFragment",{enumerable:!0,get:function(){return F.isFragment}});var y=Cl;Object.defineProperty(n,"isHTMLString",{enumerable:!0,get:function(){return y.isHTMLString}});var B=ts;Object.defineProperty(n,"isLeaf",{enumerable:!0,get:function(){return B.isLeaf}});var N=os;Object.defineProperty(n,"isNodeEmpty",{enumerable:!0,get:function(){return N.isNodeEmpty}});var W=On;Object.defineProperty(n,"isLineBreakTag",{enumerable:!0,get:function(){return W.isLineBreakTag}});var k=Bn;Object.defineProperty(n,"isSingleTag",{enumerable:!0,get:function(){return k.isSingleTag}});var S=Tn;Object.defineProperty(n,"make",{enumerable:!0,get:function(){return S.make}});var E=Sl;Object.defineProperty(n,"offset",{enumerable:!0,get:function(){return E.offset}});var x=Tl;Object.defineProperty(n,"prepend",{enumerable:!0,get:function(){return x.prepend}})})(xn);var Ol=(n=>(n.Left="left",n.Center="center",n))(Ol||{}),cl=class n{constructor({data:e,config:t,api:o,readOnly:i,block:r}){let{DEFAULT_ALIGNMENT:s}=n;this.api=o,this.readOnly=i,this.quotePlaceholder=o.i18n.t(t?.quotePlaceholder??n.DEFAULT_QUOTE_PLACEHOLDER),this.captionPlaceholder=o.i18n.t(t?.captionPlaceholder??n.DEFAULT_CAPTION_PLACEHOLDER),this.data={text:e.text||"",caption:e.caption||"",alignment:Object.values(Ol).includes(e.alignment)?e.alignment:t?.defaultAlignment??s},this.css={baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"},this.block=r}static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:Wp,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get DEFAULT_ALIGNMENT(){return"left"}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text} \u2014 ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:zp},{name:"center",icon:Up}]}render(){let e=xn.make("blockquote",[this.css.baseClass,this.css.wrapper]),t=xn.make("div",[this.css.input,this.css.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),o=xn.make("div",[this.css.input,this.css.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return t.dataset.placeholder=this.quotePlaceholder,o.dataset.placeholder=this.captionPlaceholder,e.appendChild(t),e.appendChild(o),e}save(e){let t=e.querySelector(`.${this.css.text}`),o=e.querySelector(`.${this.css.caption}`);return Object.assign(this.data,{text:t?.innerHTML??"",caption:o?.innerHTML??""})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){let e=t=>t&&t[0].toUpperCase()+t.slice(1);return this.settings.map(t=>({icon:t.icon,label:this.api.i18n.t(`Align ${e(t.name)}`),onActivate:()=>this._toggleTune(t.name),isActive:this.data.alignment===t.name,closeOnActivate:!0}))}_toggleTune(e){this.data.alignment=e,this.block.dispatchChange()}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode('.ce-delimiter{line-height:1.6em;width:100%;text-align:center}.ce-delimiter:before{display:inline-block;content:"***";font-size:30px;line-height:65px;height:30px;letter-spacing:.2em}')),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var rf='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="6" x2="10" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="14" x2="18" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';var Bl=class{static get isReadOnlySupported(){return!0}static get contentless(){return!0}constructor({data:e,config:t,api:o}){this.api=o,this._CSS={block:this.api.styles.block,wrapper:"ce-delimiter"},this._element=this.drawView(),this.data=e}drawView(){let e=document.createElement("div");return e.classList.add(this._CSS.wrapper,this._CSS.block),e}render(){return this._element}save(e){return{}}static get toolbox(){return{icon:rf,title:"Delimiter"}}static get pasteConfig(){return{tags:["HR"]}}onPaste(e){this.data={}}};(function(){"use strict";try{if(typeof document<"u"){var n=document.createElement("style");n.appendChild(document.createTextNode(`.cdx-warning{position:relative}@media all and (min-width: 736px){.cdx-warning{padding-left:36px}}.cdx-warning [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-warning [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-warning [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-warning:before{content:"";background-image:url("data:image/svg+xml,%3Csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Crect x='5' y='5' width='14' height='14' rx='4' stroke='black' stroke-width='2'/%3E%3Cline x1='12' y1='9' x2='12' y2='12' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3Cpath d='M12 15.02V15.01' stroke='black' stroke-width='2' stroke-linecap='round'/%3E%3C/svg%3E");width:24px;height:24px;background-size:24px 24px;position:absolute;margin-top:8px;left:0}@media all and (max-width: 735px){.cdx-warning:before{display:none}}.cdx-warning__message{min-height:85px}.cdx-warning__title{margin-bottom:6px}`)),document.head.appendChild(n)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();var sf='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>',_l=class n{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:sf,title:"Warning"}}static get enableLineBreaks(){return!0}static get DEFAULT_TITLE_PLACEHOLDER(){return"Title"}static get DEFAULT_MESSAGE_PLACEHOLDER(){return"Message"}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-warning",title:"cdx-warning__title",input:this.api.styles.input,message:"cdx-warning__message"}}constructor({data:e,config:t,api:o,readOnly:i}){this.api=o,this.readOnly=i,this.titlePlaceholder=t?.titlePlaceholder||n.DEFAULT_TITLE_PLACEHOLDER,this.messagePlaceholder=t?.messagePlaceholder||n.DEFAULT_MESSAGE_PLACEHOLDER,this.data={title:e.title||"",message:e.message||""}}render(){let e=this._make("div",[this.CSS.baseClass,this.CSS.wrapper]),t=this._make("div",[this.CSS.input,this.CSS.title],{contentEditable:!this.readOnly,innerHTML:this.data.title}),o=this._make("div",[this.CSS.input,this.CSS.message],{contentEditable:!this.readOnly,innerHTML:this.data.message});return t.dataset.placeholder=this.titlePlaceholder,o.dataset.placeholder=this.messagePlaceholder,e.appendChild(t),e.appendChild(o),e}save(e){let t=e.querySelector(`.${this.CSS.title}`),o=e.querySelector(`.${this.CSS.message}`);return Object.assign(this.data,{title:t?.innerHTML??"",message:o?.innerHTML??""})}_make(e,t=null,o={}){let i=document.createElement(e);Array.isArray(t)?i.classList.add(...t):t&&i.classList.add(t);for(let r in o)i[r]=o[r];return i}static get sanitize(){return{title:{},message:{}}}};export{vs as a,Ls as b,Aa as c,Xu as d,Ra as e,cl as f,Bl as g,_l as h,af as i};
