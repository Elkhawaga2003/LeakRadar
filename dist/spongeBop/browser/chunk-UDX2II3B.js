import{a as de}from"./chunk-2UY5NHNZ.js";import{a as B,b as Te,c as Fe,d as qe,e as ke,f as Me,g as Ne,h as Pe,i as ze}from"./chunk-MFTKTEFH.js";import{a as ye,b as V,c as me,d as I,e as K,g as Re,i as O,j as X,l as Ee,m as Ie,q as De,r as D,s as Ue,t as b}from"./chunk-JSVRATKM.js";import{B as v,C as h,D as ve,Da as s,E as he,Ea as w,Fa as z,Ga as k,Ha as M,Ia as N,Ka as E,La as H,M as be,Na as Ce,O as a,Pa as _e,Q as c,Qa as ce,R as g,S as xe,W as G,Za as J,bb as Se,ca as y,da as R,db as _,e as L,ea as d,fa as n,ga as i,gb as P,ha as x,la as le,lb as Y,ma as ae,nb as Q,oa as C,ob as j,qa as u,qb as we,rb as f,sa as p,w as T,x as ge,ya as q,z as F}from"./chunk-VXVQNLGX.js";var Ve=L(de());var Je=r=>["/writeups/updatewriteup",r],Ye=(r,e)=>e.id;function Qe(r,e){if(r&1){let t=C();n(0,"tr",7)(1,"td",8),s(2),i(),n(3,"td",8),s(4),Ce(5,"date"),i(),n(6,"td",9)(7,"button",10),s(8," Edit "),i(),n(9,"button",11),u("click",function(){let l=v(t).$implicit,m=p();return h(m.Delete(l.id))}),s(10," Delete "),i()()()}if(r&2){let t=e.$implicit;a(2),w(t.title),a(2),z("\u{1F4C5} ",_e(5,3,t.createdAt,"mediumDate")),a(3),d("routerLink",H(6,Je,t.id))}}var A=class r{constructor(e,t){this.editorServices=e;this.toastServices=t}posts;ngOnInit(){this.editorServices.Get(0).subscribe({next:e=>{this.posts=e},error:e=>{console.log(e)}})}Delete(e){Ve.default.fire({title:"Are you sure?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&this.editorServices.Delete(e).subscribe(()=>{this.posts=this.posts.filter(o=>o.id!=e),this.toastServices.show("User deleted successfully!","success")})})}static \u0275fac=function(t){return new(t||r)(c(B),c(b))};static \u0275cmp=g({type:r,selectors:[["app-recentPost"]],decls:15,vars:0,consts:[[1,"bg-[#1e1e1e]","border","border-gray-700","rounded-2xl","p-6","shadow-lg"],[1,"text-2xl","font-bold","text-white","mb-6"],[1,"w-full","table-auto","text-left"],[1,"text-gray-300","border-b","border-gray-700"],[1,"pb-3","text-sm","font-medium","uppercase","tracking-wide"],[1,"pb-3","text-sm","font-medium","uppercase","tracking-wide","text-center"],[1,"text-gray-200","text-sm","divide-y","divide-gray-800"],[1,"hover:bg-[#2a2a2a]","transition-colors"],[1,"py-4"],[1,"py-4","text-center","space-x-2"],["routerLinkActive","router-link-active",1,"px-3","py-1","bg-green-600","hover:bg-green-500","text-white","text-xs","rounded-lg","transition-colors",3,"routerLink"],[1,"px-3","py-1","bg-red-600","hover:bg-red-500","text-white","text-xs","rounded-lg","transition-colors",3,"click"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"h2",1),s(2,"\u{1F4DD} Recent Posts"),i(),n(3,"table",2)(4,"thead")(5,"tr",3)(6,"th",4),s(7,"Title"),i(),n(8,"th",4),s(9,"Date"),i(),n(10,"th",5),s(11,"Actions"),i()()(),n(12,"tbody",6),y(13,Qe,11,8,"tr",7,Ye),i()()()),t&2&&(a(13),R(o.posts))},dependencies:[j,Se],encapsulation:2})};var U=class r{constructor(e){this.http=e}GetUsers(e){return this.http.get(`${f.baseUrl}/Users/${e}`)}GetUserById(e){return this.http.get(`${f.baseUrl}/Users/GetUserById/${e}`)}Delete(e){return this.http.delete(`${f.baseUrl}/Users/${e}`)}Update(e){return this.http.put(`${f.baseUrl}/Users/Update`,e)}GetUserCount(){return this.http.get(`${f.baseUrl}/Users/UsersCount`)}static \u0275fac=function(t){return new(t||r)(F(P))};static \u0275prov=T({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ke=()=>["/dashboard"],Xe=()=>["/dashboard/users"],Ze=()=>["/dashboard/EditeRoles"],et=()=>["/dashboard/challenges"],tt=()=>["/dashboard/posts"],Z=class r{constructor(e,t){this.userServices=e;this.editorServics=t}userCount;postCount;ngOnInit(){this.userServices.GetUserCount().subscribe({next:e=>{this.userCount=e},error:e=>console.log(e)}),this.editorServics.GetPostCount().subscribe({next:e=>{this.postCount=e},error:e=>console.log(e)})}static \u0275fac=function(t){return new(t||r)(c(U),c(B))};static \u0275cmp=g({type:r,selectors:[["app-dashboard"]],decls:31,vars:12,consts:[[1,"min-h-screen","flex","bg-[#1f1f1f]","text-white","font-sans"],[1,"w-64","bg-[#252525]","p-6","shadow-lg","border-r","border-gray-700"],[1,"text-2xl","font-bold","mb-8"],[1,"space-y-4"],[1,"block","py-2","px-4","rounded-lg","hover:bg-green-600","transition",3,"routerLink"],[1,"flex-1","p-6","overflow-auto"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-3xl","font-bold"],[1,"bg-green-600","hover:bg-green-500","text-white","px-4","py-2","rounded-lg","shadow","transition",3,"routerLink"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6","mb-6"],[1,"bg-[#2c2c2c]","p-6","rounded-xl","shadow-md","border","border-gray-700"],[1,"text-xl","font-semibold","mb-2"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"aside",1)(2,"h2",2),s(3,"\u{1F6E0} Admin"),i(),n(4,"nav",3)(5,"a",4),s(6,"Dashboard"),i(),n(7,"a",4),s(8,"Users"),i(),n(9,"a",4),s(10,"Roles"),i(),n(11,"a",4),s(12,"Challenges"),i()()(),n(13,"main",5)(14,"header",6)(15,"h1",7),s(16,"Dashboard"),i(),n(17,"button",8),s(18,"+ New Post"),i()(),n(19,"section",9)(20,"div",10)(21,"h3",11),s(22,"\u{1F4C4} Posts"),i(),n(23,"p",7),s(24),i()(),n(25,"div",10)(26,"h3",11),s(27,"\u{1F465} Users"),i(),n(28,"p",7),s(29),i()()(),x(30,"app-recentPost"),i()()),t&2&&(a(5),d("routerLink",E(7,Ke)),a(2),d("routerLink",E(8,Xe)),a(2),d("routerLink",E(9,Ze)),a(2),d("routerLink",E(10,et)),a(6),d("routerLink",E(11,tt)),a(7),w(o.postCount),a(5),w(o.userCount))},dependencies:[j,A],encapsulation:2})};var Ae=L(qe());var $e=L(ze());function it(r,e){if(r&1&&(n(0,"div",14),x(1,"img",15),i()),r&2){let t=p();a(),d("src",t.coverPreview,be)}}var ee=class r{constructor(e,t,o){this.editorServices=e;this.router=t;this.toastrServices=o}editor;title="";coverFile=null;coverPreview=null;ngAfterViewInit(){this.editor=new Te({holder:"editorjs",autofocus:!0,placeholder:"Start writing your page...",tools:{toggle:{class:$e.default,inlineToolbar:!0,config:{titlePlaceholder:"Toggle Title",messagePlaceholder:"Toggle Content",defaultOpen:!1}},header:{class:Fe,inlineToolbar:!0,config:{levels:[1,2,3],defaultLevel:2}},code:{class:Ae.default,config:{language:"js"}},list:{class:ke,inlineToolbar:!0},quote:{class:Me,inlineToolbar:!0,config:{quotePlaceholder:"Enter a quote",captionPlaceholder:"Quote's author"}},delimiter:Ne,warning:Pe}})}savePost(){this.editor.save().then(e=>{let t=new FormData;t.append("Time",e.time?.toString()||Date.now().toString()),t.append("Version",e.version||""),t.append("Title",this.title||""),t.append("Blocks",JSON.stringify(e)),this.coverFile&&t.append("ImgFile",this.coverFile),this.editorServices.Add(t).subscribe({next:o=>{this.router.navigateByUrl("/dashboard"),this.toastrServices.show("The post was added successfully")},error:o=>{let l=o.error?.error||"Something went wrong";this.toastrServices.show(l,"error")}})}).catch(e=>{console.error("Editor save error:",e),this.toastrServices.show("Failed to save the post content","error")})}onCoverSelected(e){let t=e.target;if(t.files&&t.files[0]){this.coverFile=t.files[0];let o=new FileReader;o.onload=()=>{this.coverPreview=o.result},o.readAsDataURL(this.coverFile)}}ngOnDestroy(){this.editor&&this.editor.destroy&&this.editor.destroy()}static \u0275fac=function(t){return new(t||r)(c(B),c(Q),c(b))};static \u0275cmp=g({type:r,selectors:[["app-post"]],decls:19,vars:2,consts:[[1,"w-screen","h-screen","bg-[#1e1e1e]","text-white","font-sans","flex","flex-col"],[1,"flex","justify-between","items-center","p-4","border-b","border-gray-700","bg-[#2c2c2c]"],[1,"text-2xl","font-bold"],[1,"flex","items-center","gap-2","px-4","py-2","bg-blue-600","hover:bg-blue-700","transition","rounded-lg","shadow-md","text-sm","font-medium",3,"click"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M17 16v4H7v-4m5-4v4m-5-8h10V5H7v3z"],[1,"px-6","pt-4","flex","flex-col","md:flex-row","gap-6"],[1,"flex-1"],["for","title",1,"block","text-sm","mb-1","text-gray-300"],["type","text","name","title","id","title","placeholder","Write the post title here...",1,"w-full","p-3","rounded-lg","bg-[#2a2a2a]","border","border-[#444]","text-white","placeholder-gray-400","outline-none","focus:ring-2","focus:ring-blue-500",3,"ngModelChange","ngModel"],["for","cover",1,"block","text-sm","mb-1","text-gray-300"],["type","file","id","cover","accept","image/*",1,"w-full","text-sm","text-gray-300","file:mr-4","file:py-2","file:px-4","file:rounded-lg","file:border-0","file:text-sm","file:font-semibold","file:bg-blue-600","file:text-white","hover:file:bg-blue-700","transition",3,"change"],["class","mt-3",4,"ngIf"],["id","editorjs",1,"flex-1","overflow-auto","p-6"],[1,"mt-3"],["alt","Cover Preview","width","30","height","30",1,"rounded-lg","max-h-48","object-cover","border","border-gray-600","shadow-md",3,"src"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"div",1)(2,"h1",2),s(3,"\u270D\uFE0F New Post"),i(),n(4,"button",3),u("click",function(){return o.savePost()}),ve(),n(5,"svg",4),x(6,"path",5),i(),s(7," Save Post "),i()(),he(),n(8,"div",6)(9,"div",7)(10,"label",8),s(11,"Title"),i(),n(12,"input",9),N("ngModelChange",function(m){return M(o.title,m)||(o.title=m),m}),i()(),n(13,"div",7)(14,"label",10),s(15,"Cover Image"),i(),n(16,"input",11),u("change",function(m){return o.onCoverSelected(m)}),i(),G(17,it,2,1,"div",12),i()(),x(18,"div",13),i()),t&2&&(a(12),k("ngModel",o.title),a(5),d("ngIf",o.coverPreview))},dependencies:[_,J,D,V,I,O],encapsulation:2})};var Le=L(de());var ot=()=>["/auth/register"],nt=r=>["/dashboard/roles",r],st=r=>["/dashboard/update",r],lt=(r,e)=>e.id;function at(r,e){if(r&1){let t=C();n(0,"tr",9)(1,"td",10),s(2),i(),n(3,"td",7)(4,"button",11),s(5," Add Role "),i()(),n(6,"td",12)(7,"button",13),s(8," Update "),i(),n(9,"button",14),u("click",function(){let l=v(t).$implicit,m=p();return h(m.Delete(l.id))}),s(10," Delete "),i()()()}if(r&2){let t=e.$implicit;a(2),w(t.email),a(2),d("routerLink",H(3,nt,t.id)),a(3),d("routerLink",H(5,st,t.id))}}var te=class r{constructor(e,t){this.userServices=e;this.toastServices=t}users;ngOnInit(){this.userServices.GetUsers(0).subscribe({next:e=>{this.users=e},error:e=>console.log(e)})}Delete(e){Le.default.fire({title:"Are you sure?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{t.isConfirmed&&this.userServices.Delete(e).subscribe(()=>{this.users=this.users.filter(o=>o.id!=e),this.toastServices.show("User deleted successfully!","success")})})}static \u0275fac=function(t){return new(t||r)(c(U),c(b))};static \u0275cmp=g({type:r,selectors:[["app-users"]],decls:19,vars:2,consts:[[1,"w-screen","h-screen","bg-[#2c2c2c]","text-white","font-sans","p-6"],[1,"flex","justify-between","items-center","mb-6"],[1,"text-2xl","font-bold"],[1,"bg-green-600","hover:bg-green-500","text-white","px-4","py-2","rounded-md","text-sm","font-medium","shadow",3,"routerLink"],[1,"h-[calc(100vh-6rem)]","overflow-auto","border","border-gray-700","rounded-xl","shadow-md"],[1,"min-w-full","text-sm","text-left","text-gray-200"],[1,"bg-[#1e1e1e]","text-gray-400","sticky","top-0","z-10"],[1,"px-6","py-4"],[1,"divide-y","divide-gray-700"],[1,"hover:bg-[#1a1a1a]","transition"],[1,"px-6","py-4","font-medium"],[1,"bg-yellow-600","hover:bg-yellow-500","text-white","px-3","py-1","rounded","text-xs",3,"routerLink"],[1,"px-6","py-4","space-x-2"],["routerLinkActive","router-link-active",1,"bg-blue-600","hover:bg-blue-500","text-white","px-3","py-1","rounded","text-xs",3,"routerLink"],[1,"bg-red-600","hover:bg-red-500","text-white","px-3","py-1","rounded","text-xs",3,"click"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),s(3,"\u{1F464} Users"),i(),n(4,"button",3),s(5," + Add User "),i()(),n(6,"div",4)(7,"table",5)(8,"thead",6)(9,"tr")(10,"th",7),s(11,"Email"),i(),n(12,"th",7),s(13,"mange User in Role"),i(),n(14,"th",7),s(15,"Actions"),i()()(),n(16,"tbody",8),y(17,at,11,7,"tr",9,lt),i()()()()),t&2&&(a(4),d("routerLink",E(1,ot)),a(13),R(o.users))},dependencies:[j],encapsulation:2})};var re=class r{constructor(e,t,o,l){this.activateRoute=e;this.userServices=t;this.fb=o;this.toastService=l;this.userForm=o.group({userName:["",me.required],password:["",me.required]})}user;userId;userForm;ngOnInit(){this.activateRoute.paramMap.subscribe(e=>{let t=e.get("id");t&&(this.userId=t,this.userServices.GetUserById(this.userId).subscribe({next:o=>{this.user=o,this.userForm.patchValue(o)},error:o=>console.log(o)}))})}Update(){this.user=this.userForm.value,this.user.id=this.userId,this.userServices.Update(this.user).subscribe({next:e=>{this.toastService.show("Updated in successfully!","success")},error:e=>{let t=e.error?.error||"somthing went wrong";this.toastService.show(t,"error")}})}static \u0275fac=function(t){return new(t||r)(c(Y),c(U),c(De),c(b))};static \u0275cmp=g({type:r,selectors:[["app-update"]],decls:15,vars:1,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-[#1c1c1c]","text-white","p-4"],[1,"w-full","max-w-md","bg-[#2c2c2c]","rounded-2xl","shadow-xl","p-8","space-y-6","border","border-gray-700"],[1,"text-2xl","font-bold","text-center"],[1,"space-y-4",3,"submit","formGroup"],[1,"block","mb-1","text-sm","text-gray-300"],["type","text","name","userName","formControlName","userName","placeholder","you@example.com",1,"w-full","px-4","py-2","rounded-md","bg-[#1e1e1e]","border","border-gray-600","focus:outline-none","focus:ring-2","focus:ring-green-500"],["type","password","placeholder","\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022","name","password","formControlName","password",1,"w-full","px-4","py-2","rounded-md","bg-[#1e1e1e]","border","border-gray-600","focus:outline-none","focus:ring-2","focus:ring-green-500"],["type","submit",1,"w-full","bg-green-600","hover:bg-green-500","transition","py-2","rounded-md","text-white","font-semibold","shadow"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),s(3,"update"),i(),n(4,"form",3),u("submit",function(){return o.Update()}),n(5,"div")(6,"label",4),s(7,"User Name"),i(),x(8,"input",5),i(),n(9,"div")(10,"label",4),s(11,"Password"),i(),x(12,"input",6),i(),n(13,"button",7),s(14," Update "),i()()()()),t&2&&(a(4),d("formGroup",o.userForm))},dependencies:[_,D,X,V,I,K,Ue,Ee,Ie],encapsulation:2})};var ie=class r{constructor(e){this.http=e}GetRoles(e){return this.http.get(`${f.baseUrl}/Users/AddToRole/${e}`)}UpdateUserRoles(e,t){return this.http.post(`${f.baseUrl}/Users/AddToRole/${e}`,t)}static \u0275fac=function(t){return new(t||r)(F(P))};static \u0275prov=T({token:r,factory:r.\u0275fac,providedIn:"root"})};var mt=(r,e)=>e.id;function dt(r,e){if(r&1){let t=C();n(0,"div")(1,"label",7)(2,"input",8),N("ngModelChange",function(l){let m=v(t).$implicit;return M(m.isSelected,l)||(m.isSelected=l),h(l)}),i(),n(3,"span",9),s(4),i()()()}if(r&2){let t=e.$implicit,o=e.$index;a(2),d("name","isSelected"+o),k("ngModel",t.isSelected),a(2),w(t.name)}}var oe=class r{constructor(e,t,o,l){this.roleServices=e;this.activatedRoute=t;this.router=o;this.toastServices=l}roles;userId;ngOnInit(){this.activatedRoute.paramMap.subscribe(e=>{let t=e.get("id");t&&(this.userId=t,this.roleServices.GetRoles(this.userId).subscribe({next:o=>{this.roles=o,console.log(o)},error:o=>console.error(o)}))})}Update(){this.roleServices.UpdateUserRoles(this.userId,this.roles).subscribe({next:e=>{this.router.navigateByUrl("/dashboard"),this.toastServices.show("user roles updated succesfully","success")},error:e=>{let t=e.error?.error;this.toastServices.show(t,"error")}})}static \u0275fac=function(t){return new(t||r)(c(ie),c(Y),c(Q),c(b))};static \u0275cmp=g({type:r,selectors:[["app-roles"]],decls:11,vars:0,consts:[[1,"min-h-screen","bg-[#1a1a1a]","flex","items-center","justify-center","p-6"],[1,"bg-[#2c2c2c]","text-white","p-8","rounded-2xl","w-full","max-w-3xl"],[1,"text-3xl","font-bold","mb-6"],[3,"submit"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-6"],[1,"mt-8","flex","justify-end","gap-4"],["type","submit",1,"bg-green-600","hover:bg-green-500","px-5","py-2.5","rounded-md","text-sm","font-semibold","shadow-md"],[1,"flex","items-center","space-x-3","bg-[#1e1e1e]","hover:bg-[#2a2a2a]","px-4","py-3","rounded-lg","transition","cursor-pointer"],["type","checkbox",1,"form-checkbox","h-5","w-5","text-green-500","rounded","bg-gray-700","border-gray-600",3,"ngModelChange","name","ngModel"],[1,"text-sm","font-medium"]],template:function(t,o){t&1&&(n(0,"div",0)(1,"div",1)(2,"h2",2),s(3,"\u{1F6E1}\uFE0F Manage User Roles"),i(),n(4,"form",3),u("submit",function(){return o.Update()}),n(5,"div",4),y(6,dt,5,3,"div",null,mt),i(),n(8,"div",5)(9,"button",6),s(10," Save Roles "),i()()()()()),t&2&&(a(6),R(o.roles))},dependencies:[_,D,X,ye,I,K,O,Re],encapsulation:2})};var Ge=L(de());var ne=class r{constructor(e){this.http=e}Get(){return this.http.get(`${f.baseUrl}/Role`)}Delete(e){return this.http.delete(`${f.baseUrl}/Role/${e}`)}update(e,t){let o={id:e,name:t};return this.http.put(`${f.baseUrl}/Role/`,o)}GetById(e){return this.http.get(`${f.baseUrl}/Role/${e}`)}Create(e){var t={Name:e};return this.http.post(`${f.baseUrl}/Role`,t)}static \u0275fac=function(t){return new(t||r)(F(P))};static \u0275prov=T({token:r,factory:r.\u0275fac,providedIn:"root"})};var ut=(r,e)=>e.id;function ft(r,e){if(r&1&&(le(0),s(1),ae()),r&2){let t=p().$implicit;a(),z(" ",t.name," ")}}function gt(r,e){if(r&1){let t=C();n(0,"input",14),N("ngModelChange",function(l){v(t);let m=p(2);return M(m.updatedRoleName,l)||(m.updatedRoleName=l),h(l)}),i()}if(r&2){let t=p(2);k("ngModel",t.updatedRoleName)}}function vt(r,e){if(r&1){let t=C();le(0),n(1,"button",15),u("click",function(){v(t);let l=p().$implicit,m=p();return h(m.saveEdit(l))}),s(2,"\u{1F4BE}"),i(),n(3,"button",16),u("click",function(){v(t);let l=p(2);return h(l.cancelEdit())}),s(4,"\u2716"),i(),ae()}}function ht(r,e){if(r&1){let t=C();n(0,"button",17),u("click",function(){v(t);let l=p().$implicit,m=p();return h(m.startEdit(l))}),s(1,"\u270F\uFE0F"),i(),n(2,"button",18),u("click",function(){v(t);let l=p().$implicit,m=p();return h(m.Delete(l.id))}),s(3,"\u274C"),i()}}function bt(r,e){if(r&1&&(n(0,"div",10)(1,"div",11),G(2,ft,2,1,"ng-container",12)(3,gt,1,1,"ng-template",null,1,ce),i(),n(5,"div",13),G(6,vt,5,0,"ng-container",12)(7,ht,4,0,"ng-template",null,2,ce),i()()),r&2){let t=e.$implicit,o=q(4),l=q(8),m=p();a(2),d("ngIf",m.editingRoleId!==t.id)("ngIfElse",o),a(4),d("ngIf",m.editingRoleId===t.id)("ngIfElse",l)}}var se=class r{constructor(e,t){this.editeRoleServices=e;this.toastrServices=t}roles;editingRoleId=null;updatedRoleName="";ngOnInit(){this.editeRoleServices.Get().subscribe({next:e=>{this.roles=e},error:e=>console.log(e)})}CreateRole(e){this.editeRoleServices.Create(e).subscribe({next:t=>{this.toastrServices.show("role added succesfully","success"),this.roles.push(t)},error:t=>{let o=t.error?.error||"somthing went wrong ";this.toastrServices.show(o,"error")}})}Delete(e){Ge.default.fire({title:"Are you sure?",text:"This action cannot be undone.",icon:"warning",showCancelButton:!0,confirmButtonColor:"#d33",cancelButtonColor:"#3085d6",confirmButtonText:"Yes, delete it!"}).then(t=>{this.editeRoleServices.Delete(e).subscribe({next:o=>{this.toastrServices.show("Delete role happen succesfully","success"),this.roles=this.roles.filter(l=>l.id!=e)},error:o=>{let l=o.error?.error||"somthing went wrong";this.toastrServices.show(l,"error")}})})}startEdit(e){this.editingRoleId=e.id,this.updatedRoleName=e.name}saveEdit(e){this.editeRoleServices.update(e.id,this.updatedRoleName).subscribe({next:t=>{e.name=t.name,this.toastrServices.show("Role updated successfully","success"),this.editingRoleId=null},error:t=>{let o=t.error?.error||"Update failed";this.toastrServices.show(o,"error")}})}cancelEdit(){this.editingRoleId=null}static \u0275fac=function(t){return new(t||r)(c(ne),c(b))};static \u0275cmp=g({type:r,selectors:[["app-EditeRole"]],decls:12,vars:0,consts:[["roleName",""],["editBlock",""],["defaultButtons",""],[1,"min-h-screen","bg-[#1a1a1a]","text-white","p-6","flex","flex-col","items-center"],[1,"bg-[#2c2c2c]","w-full","max-w-3xl","rounded-2xl","p-8","shadow-lg"],[1,"text-3xl","font-bold","mb-6","text-center"],[1,"flex","gap-4","mb-6"],["placeholder","Enter new role name",1,"flex-1","p-3","rounded-lg","bg-[#1e1e1e]","text-white","border","border-gray-700","focus:outline-none","focus:ring-2","focus:ring-green-500"],[1,"bg-green-600","hover:bg-green-500","px-5","py-2.5","rounded-lg","font-semibold","shadow-md","transition",3,"click"],[1,"space-y-4"],[1,"flex","items-center","justify-between","bg-[#1e1e1e]","px-4","py-3","rounded-lg"],[1,"text-lg","flex-1"],[4,"ngIf","ngIfElse"],[1,"flex","items-center","gap-2","ml-4"],[1,"bg-[#2c2c2c]","text-white","border","border-gray-700","px-2","py-1","rounded","w-full","focus:outline-none","focus:ring","focus:ring-green-500",3,"ngModelChange","ngModel"],[1,"text-green-400","hover:text-green-300",3,"click"],[1,"text-red-400","hover:text-red-300",3,"click"],[1,"text-yellow-400","hover:text-yellow-300",3,"click"],[1,"text-gray-400","hover:text-gray-300",3,"click"]],template:function(t,o){if(t&1){let l=C();n(0,"div",3)(1,"div",4)(2,"h2",5),s(3,"\u{1F3AD} Role Management"),i(),n(4,"div",6),x(5,"input",7,0),n(7,"button",8),u("click",function(){v(l);let fe=q(6);return o.CreateRole(fe.value),h(fe.value="")}),s(8," \u2795 Add Role "),i()(),n(9,"div",9),y(10,bt,9,4,"div",10,ut),i()()()}t&2&&(a(10),R(o.roles))},dependencies:[_,J,D,V,I,O],encapsulation:2})};var xt=[{path:"",component:Z},{path:"posts",component:ee},{path:"recentPosts",component:A},{path:"users",component:te},{path:"update/:id",component:re},{path:"roles/:id",component:oe},{path:"EditeRoles",component:se},{path:"challenges",loadChildren:()=>import("./chunk-2OWOASG3.js").then(r=>r.ChallengesModule)}],He=we.forChild(xt);var We=class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=xe({type:r});static \u0275inj=ge({imports:[_,He]})};export{We as DashboardModule};
